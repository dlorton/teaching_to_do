(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function pT(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Gm={exports:{}},nu={};var T0;function N1(){if(T0)return nu;T0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:u}}return nu.Fragment=e,nu.jsx=n,nu.jsxs=n,nu}var b0;function O1(){return b0||(b0=1,Gm.exports=N1()),Gm.exports}var A=O1(),Ym={exports:{}},Ie={};var S0;function M1(){if(S0)return Ie;S0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),D=Symbol.iterator;function L(M){return M===null||typeof M!="object"?null:(M=D&&M[D]||M["@@iterator"],typeof M=="function"?M:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,K={};function re(M,Z,ae){this.props=M,this.context=Z,this.refs=K,this.updater=ae||Y}re.prototype.isReactComponent={},re.prototype.setState=function(M,Z){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Z,"setState")},re.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ue(){}ue.prototype=re.prototype;function ie(M,Z,ae){this.props=M,this.context=Z,this.refs=K,this.updater=ae||Y}var se=ie.prototype=new ue;se.constructor=ie,z(se,re.prototype),se.isPureReactComponent=!0;var ye=Array.isArray;function $(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(M,Z,ae){var de=ae.ref;return{$$typeof:s,type:M,key:Z,ref:de!==void 0?de:null,props:ae}}function N(M,Z){return R(M.type,Z,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function k(M){var Z={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ae){return Z[ae]})}var I=/\/+/g;function Ye(M,Z){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):Z.toString(36)}function B(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then($,$):(M.status="pending",M.then(function(Z){M.status==="pending"&&(M.status="fulfilled",M.value=Z)},function(Z){M.status==="pending"&&(M.status="rejected",M.reason=Z)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function U(M,Z,ae,de,Ce){var Ve=typeof M;(Ve==="undefined"||Ve==="boolean")&&(M=null);var Qe=!1;if(M===null)Qe=!0;else switch(Ve){case"bigint":case"string":case"number":Qe=!0;break;case"object":switch(M.$$typeof){case s:case e:Qe=!0;break;case E:return Qe=M._init,U(Qe(M._payload),Z,ae,de,Ce)}}if(Qe)return Ce=Ce(M),Qe=de===""?"."+Ye(M,0):de,ye(Ce)?(ae="",Qe!=null&&(ae=Qe.replace(I,"$&/")+"/"),U(Ce,Z,ae,"",function(zs){return zs})):Ce!=null&&(O(Ce)&&(Ce=N(Ce,ae+(Ce.key==null||M&&M.key===Ce.key?"":(""+Ce.key).replace(I,"$&/")+"/")+Qe)),Z.push(Ce)),1;Qe=0;var qt=de===""?".":de+":";if(ye(M))for(var ft=0;ft<M.length;ft++)de=M[ft],Ve=qt+Ye(de,ft),Qe+=U(de,Z,ae,Ve,Ce);else if(ft=L(M),typeof ft=="function")for(M=ft.call(M),ft=0;!(de=M.next()).done;)de=de.value,Ve=qt+Ye(de,ft++),Qe+=U(de,Z,ae,Ve,Ce);else if(Ve==="object"){if(typeof M.then=="function")return U(B(M),Z,ae,de,Ce);throw Z=String(M),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Qe}function ne(M,Z,ae){if(M==null)return M;var de=[],Ce=0;return U(M,de,"","",function(Ve){return Z.call(ae,Ve,Ce++)}),de}function he(M){if(M._status===-1){var Z=M._result;Z=Z(),Z.then(function(ae){(M._status===0||M._status===-1)&&(M._status=1,M._result=ae)},function(ae){(M._status===0||M._status===-1)&&(M._status=2,M._result=ae)}),M._status===-1&&(M._status=0,M._result=Z)}if(M._status===1)return M._result.default;throw M._result}var _e=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},ve={map:ne,forEach:function(M,Z,ae){ne(M,function(){Z.apply(this,arguments)},ae)},count:function(M){var Z=0;return ne(M,function(){Z++}),Z},toArray:function(M){return ne(M,function(Z){return Z})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ie.Activity=b,Ie.Children=ve,Ie.Component=re,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=ie,Ie.StrictMode=r,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(M){return C.H.useMemoCache(M)}},Ie.cache=function(M){return function(){return M.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(M,Z,ae){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var de=z({},M.props),Ce=M.key;if(Z!=null)for(Ve in Z.key!==void 0&&(Ce=""+Z.key),Z)!w.call(Z,Ve)||Ve==="key"||Ve==="__self"||Ve==="__source"||Ve==="ref"&&Z.ref===void 0||(de[Ve]=Z[Ve]);var Ve=arguments.length-2;if(Ve===1)de.children=ae;else if(1<Ve){for(var Qe=Array(Ve),qt=0;qt<Ve;qt++)Qe[qt]=arguments[qt+2];de.children=Qe}return R(M.type,Ce,de)},Ie.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ie.createElement=function(M,Z,ae){var de,Ce={},Ve=null;if(Z!=null)for(de in Z.key!==void 0&&(Ve=""+Z.key),Z)w.call(Z,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Ce[de]=Z[de]);var Qe=arguments.length-2;if(Qe===1)Ce.children=ae;else if(1<Qe){for(var qt=Array(Qe),ft=0;ft<Qe;ft++)qt[ft]=arguments[ft+2];Ce.children=qt}if(M&&M.defaultProps)for(de in Qe=M.defaultProps,Qe)Ce[de]===void 0&&(Ce[de]=Qe[de]);return R(M,Ve,Ce)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(M){return{$$typeof:m,render:M}},Ie.isValidElement=O,Ie.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:he}},Ie.memo=function(M,Z){return{$$typeof:y,type:M,compare:Z===void 0?null:Z}},Ie.startTransition=function(M){var Z=C.T,ae={};C.T=ae;try{var de=M(),Ce=C.S;Ce!==null&&Ce(ae,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then($,_e)}catch(Ve){_e(Ve)}finally{Z!==null&&ae.types!==null&&(Z.types=ae.types),C.T=Z}},Ie.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ie.use=function(M){return C.H.use(M)},Ie.useActionState=function(M,Z,ae){return C.H.useActionState(M,Z,ae)},Ie.useCallback=function(M,Z){return C.H.useCallback(M,Z)},Ie.useContext=function(M){return C.H.useContext(M)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(M,Z){return C.H.useDeferredValue(M,Z)},Ie.useEffect=function(M,Z){return C.H.useEffect(M,Z)},Ie.useEffectEvent=function(M){return C.H.useEffectEvent(M)},Ie.useId=function(){return C.H.useId()},Ie.useImperativeHandle=function(M,Z,ae){return C.H.useImperativeHandle(M,Z,ae)},Ie.useInsertionEffect=function(M,Z){return C.H.useInsertionEffect(M,Z)},Ie.useLayoutEffect=function(M,Z){return C.H.useLayoutEffect(M,Z)},Ie.useMemo=function(M,Z){return C.H.useMemo(M,Z)},Ie.useOptimistic=function(M,Z){return C.H.useOptimistic(M,Z)},Ie.useReducer=function(M,Z,ae){return C.H.useReducer(M,Z,ae)},Ie.useRef=function(M){return C.H.useRef(M)},Ie.useState=function(M){return C.H.useState(M)},Ie.useSyncExternalStore=function(M,Z,ae){return C.H.useSyncExternalStore(M,Z,ae)},Ie.useTransition=function(){return C.H.useTransition()},Ie.version="19.2.0",Ie}var A0;function Zg(){return A0||(A0=1,Ym.exports=M1()),Ym.exports}var pe=Zg();const V1=pT(pe);var Qm={exports:{}},iu={},Km={exports:{}},Xm={};var w0;function z1(){return w0||(w0=1,(function(s){function e(U,ne){var he=U.length;U.push(ne);e:for(;0<he;){var _e=he-1>>>1,ve=U[_e];if(0<o(ve,ne))U[_e]=ne,U[he]=ve,he=_e;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var ne=U[0],he=U.pop();if(he!==ne){U[0]=he;e:for(var _e=0,ve=U.length,M=ve>>>1;_e<M;){var Z=2*(_e+1)-1,ae=U[Z],de=Z+1,Ce=U[de];if(0>o(ae,he))de<ve&&0>o(Ce,ae)?(U[_e]=Ce,U[de]=he,_e=de):(U[_e]=ae,U[Z]=he,_e=Z);else if(de<ve&&0>o(Ce,he))U[_e]=Ce,U[de]=he,_e=de;else break e}}return ne}function o(U,ne){var he=U.sortIndex-ne.sortIndex;return he!==0?he:U.id-ne.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,b=null,D=3,L=!1,Y=!1,z=!1,K=!1,re=typeof setTimeout=="function"?setTimeout:null,ue=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function se(U){for(var ne=n(y);ne!==null;){if(ne.callback===null)r(y);else if(ne.startTime<=U)r(y),ne.sortIndex=ne.expirationTime,e(p,ne);else break;ne=n(y)}}function ye(U){if(z=!1,se(U),!Y)if(n(p)!==null)Y=!0,$||($=!0,k());else{var ne=n(y);ne!==null&&B(ye,ne.startTime-U)}}var $=!1,C=-1,w=5,R=-1;function N(){return K?!0:!(s.unstable_now()-R<w)}function O(){if(K=!1,$){var U=s.unstable_now();R=U;var ne=!0;try{e:{Y=!1,z&&(z=!1,ue(C),C=-1),L=!0;var he=D;try{t:{for(se(U),b=n(p);b!==null&&!(b.expirationTime>U&&N());){var _e=b.callback;if(typeof _e=="function"){b.callback=null,D=b.priorityLevel;var ve=_e(b.expirationTime<=U);if(U=s.unstable_now(),typeof ve=="function"){b.callback=ve,se(U),ne=!0;break t}b===n(p)&&r(p),se(U)}else r(p);b=n(p)}if(b!==null)ne=!0;else{var M=n(y);M!==null&&B(ye,M.startTime-U),ne=!1}}break e}finally{b=null,D=he,L=!1}ne=void 0}}finally{ne?k():$=!1}}}var k;if(typeof ie=="function")k=function(){ie(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ye=I.port2;I.port1.onmessage=O,k=function(){Ye.postMessage(null)}}else k=function(){re(O,0)};function B(U,ne){C=re(function(){U(s.unstable_now())},ne)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(U){U.callback=null},s.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<U?Math.floor(1e3/U):5},s.unstable_getCurrentPriorityLevel=function(){return D},s.unstable_next=function(U){switch(D){case 1:case 2:case 3:var ne=3;break;default:ne=D}var he=D;D=ne;try{return U()}finally{D=he}},s.unstable_requestPaint=function(){K=!0},s.unstable_runWithPriority=function(U,ne){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var he=D;D=U;try{return ne()}finally{D=he}},s.unstable_scheduleCallback=function(U,ne,he){var _e=s.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?_e+he:_e):he=_e,U){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=he+ve,U={id:E++,callback:ne,priorityLevel:U,startTime:he,expirationTime:ve,sortIndex:-1},he>_e?(U.sortIndex=he,e(y,U),n(p)===null&&U===n(y)&&(z?(ue(C),C=-1):z=!0,B(ye,he-_e))):(U.sortIndex=ve,e(p,U),Y||L||(Y=!0,$||($=!0,k()))),U},s.unstable_shouldYield=N,s.unstable_wrapCallback=function(U){var ne=D;return function(){var he=D;D=ne;try{return U.apply(this,arguments)}finally{D=he}}}})(Xm)),Xm}var R0;function k1(){return R0||(R0=1,Km.exports=z1()),Km.exports}var $m={exports:{}},ln={};var C0;function P1(){if(C0)return ln;C0=1;var s=Zg();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:y,implementation:E}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ln.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},ln.flushSync=function(p){var y=f.T,E=r.p;try{if(f.T=null,r.p=2,p)return p()}finally{f.T=y,r.p=E,r.d.f()}},ln.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(p,y))},ln.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},ln.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?r.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:D,fetchPriority:L}):E==="script"&&r.d.X(p,{crossOrigin:b,integrity:D,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ln.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);r.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(p)},ln.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin);r.d.L(p,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ln.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);r.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(p)},ln.requestFormReset=function(p){r.d.r(p)},ln.unstable_batchedUpdates=function(p,y){return p(y)},ln.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},ln.useFormStatus=function(){return f.H.useHostTransitionStatus()},ln.version="19.2.0",ln}var D0;function U1(){if(D0)return $m.exports;D0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),$m.exports=P1(),$m.exports}var I0;function L1(){if(I0)return iu;I0=1;var s=k1(),e=Zg(),n=U1();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(r(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,D=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),ue=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Ye(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case z:return"Fragment";case re:return"Profiler";case K:return"StrictMode";case ye:return"Suspense";case $:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Y:return"Portal";case ie:return t.displayName||"Context";case ue:return(t._context.displayName||"Context")+".Consumer";case se:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return i=t.displayName||null,i!==null?i:Ye(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return Ye(t(i))}catch{}}return null}var B=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},_e=[],ve=-1;function M(t){return{current:t}}function Z(t){0>ve||(t.current=_e[ve],_e[ve]=null,ve--)}function ae(t,i){ve++,_e[ve]=t.current,t.current=i}var de=M(null),Ce=M(null),Ve=M(null),Qe=M(null);function qt(t,i){switch(ae(Ve,i),ae(Ce,t),ae(de,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Fv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Fv(i),t=Gv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(de),ae(de,t)}function ft(){Z(de),Z(Ce),Z(Ve)}function zs(t){t.memoizedState!==null&&ae(Qe,t);var i=de.current,a=Gv(i,t.type);i!==a&&(ae(Ce,t),ae(de,a))}function Da(t){Ce.current===t&&(Z(de),Z(Ce)),Qe.current===t&&(Z(Qe),Jl._currentValue=he)}var Ia,xa;function Si(t){if(Ia===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ia=i&&i[1]||"",xa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ia+t+xa}var Jo=!1;function ks(t,i){if(!t||Jo)return"";Jo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Q){var F=Q}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Q){F=Q}t.call(ee.prototype)}}else{try{throw Error()}catch(Q){F=Q}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Q){if(Q&&F&&typeof Q.stack=="string")return[Q.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var x=_.split(`
`),H=T.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===H.length)for(l=x.length-1,h=H.length-1;1<=l&&0<=h&&x[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==H[h]){var X=`
`+x[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{Jo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Si(a):""}function Wo(t,i){switch(t.tag){case 26:case 27:case 5:return Si(t.type);case 16:return Si("Lazy");case 13:return t.child!==i&&i!==null?Si("Suspense Fallback"):Si("Suspense");case 19:return Si("SuspenseList");case 0:case 15:return ks(t.type,!1);case 11:return ks(t.type.render,!1);case 1:return ks(t.type,!0);case 31:return Si("Activity");default:return""}}function el(t){try{var i="",a=null;do i+=Wo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ct=Object.prototype.hasOwnProperty,Ht=s.unstable_scheduleCallback,Vr=s.unstable_cancelCallback,Qf=s.unstable_shouldYield,Xu=s.unstable_requestPaint,mn=s.unstable_now,Ps=s.unstable_getCurrentPriorityLevel,tl=s.unstable_ImmediatePriority,nl=s.unstable_UserBlockingPriority,zr=s.unstable_NormalPriority,Kf=s.unstable_LowPriority,$u=s.unstable_IdlePriority,Zu=s.log,Ju=s.unstable_setDisableYieldValue,si=null,Zt=null;function Hn(t){if(typeof Zu=="function"&&Ju(t),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(si,t)}catch{}}var bt=Math.clz32?Math.clz32:ec,Wu=Math.log,Na=Math.LN2;function ec(t){return t>>>=0,t===0?32:31-(Wu(t)/Na|0)|0}var Ai=256,Us=262144,Dt=4194304;function wi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ri(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=wi(l):(_&=T,_!==0?h=wi(_):a||(a=T&~t,a!==0&&(h=wi(a))))):(T=l&~d,T!==0?h=wi(T):_!==0?h=wi(_):a||(a=l&~t,a!==0&&(h=wi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function ai(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Xf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tc(){var t=Dt;return Dt<<=1,(Dt&62914560)===0&&(Dt=4194304),t}function Ci(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ls(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function $f(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,x=t.expirationTimes,H=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-bt(a),ee=1<<X;T[X]=0,x[X]=-1;var F=H[X];if(F!==null)for(H[X]=null,X=0;X<F.length;X++){var Q=F[X];Q!==null&&(Q.lane&=-536870913)}a&=~ee}l!==0&&js(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function js(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-bt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function il(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-bt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function rl(t,i){var a=i&-i;return a=(a&42)!==0?1:Bs(a),(a&(t.suspendedLanes|i))!==0?0:a}function Bs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ir(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function nc(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:m0(t.type))}function oi(t,i){var a=ne.p;try{return ne.p=t,i()}finally{ne.p=a}}var li=Math.random().toString(36).slice(2),It="__reactFiber$"+li,Yt="__reactProps$"+li,Di="__reactContainer$"+li,Oa="__reactEvents$"+li,Zf="__reactListeners$"+li,ic="__reactHandles$"+li,rc="__reactResources$"+li,Ii="__reactMarker$"+li;function Ma(t){delete t[It],delete t[Yt],delete t[Oa],delete t[Zf],delete t[ic]}function xi(t){var i=t[It];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Di]||a[It]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Jv(t);t!==null;){if(a=t[It])return a;t=Jv(t)}return i}t=a,a=t.parentNode}return null}function Fn(t){if(t=t[It]||t[Di]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Nn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function Ni(t){var i=t[rc];return i||(i=t[rc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function xt(t){t[Ii]=!0}var sl=new Set,al={};function Oi(t,i){Mi(t,i),Mi(t+"Capture",i)}function Mi(t,i){for(al[t]=i,t=0;t<i.length;t++)sl.add(i[t])}var ol=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ll={},ul={};function sc(t){return Ct.call(ul,t)?!0:Ct.call(ll,t)?!1:ol.test(t)?ul[t]=!0:(ll[t]=!0,!1)}function Va(t,i,a){if(sc(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function On(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Nt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function kr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function cl(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function tt(t){if(!t._valueTracker){var i=kr(t)?"checked":"value";t._valueTracker=cl(t,i,""+t[i])}}function qs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=kr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Vi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Hs=/[\n"\\]/g;function En(t){return t.replace(Hs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function za(t,i,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Qt(i)):t.value!==""+Qt(i)&&(t.value=""+Qt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?hl(t,_,Qt(i)):a!=null?hl(t,_,Qt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Qt(T):t.removeAttribute("name")}function ac(t,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){tt(t);return}a=a!=null?""+Qt(a):"",i=i!=null?""+Qt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),tt(t)}function hl(t,i,a){i==="number"&&Vi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Pr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Qt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function oc(t,i,a){if(i!=null&&(i=""+Qt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Qt(a):""}function Ur(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(B(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Qt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),tt(t)}function Tn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var lc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fl(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||lc.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function dl(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&fl(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&fl(t,d,i[d])}function ka(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pa(t){return Lr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ui(){}var ml=null;function Gn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jr=null,zi=null;function Fs(t){var i=Fn(t);if(i&&(t=i.stateNode)){var a=t[Yt]||null;e:switch(t=i.stateNode,i.type){case"input":if(za(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+En(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Yt]||null;if(!h)throw Error(r(90));za(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&qs(l)}break e;case"textarea":oc(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Pr(t,!!a.multiple,i,!1)}}}var Ua=!1;function Br(t,i,a){if(Ua)return t(i,a);Ua=!0;try{var l=t(i);return l}finally{if(Ua=!1,(jr!==null||zi!==null)&&(nh(),jr&&(i=jr,t=zi,zi=jr=null,Fs(i),t)))for(i=0;i<t.length;i++)Fs(t[i])}}function ci(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Yt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gs=!1;if(Yn)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){Gs=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{Gs=!1}var ki=null,gl=null,Ys=null;function pl(){if(Ys)return Ys;var t,i=gl,a=i.length,l,h="value"in ki?ki.value:ki.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Ys=h.slice(t,1<l?1-l:void 0)}function Qs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function rr(){return!0}function hi(){return!1}function Jt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?rr:hi,this.isPropagationStopped=hi,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),i}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pi=Jt(sr),qr=b({},sr,{view:0,detail:0}),yl=Jt(qr),Hr,La,Ui,ja=b({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ui&&(Ui&&t.type==="mousemove"?(Hr=t.screenX-Ui.screenX,La=t.screenY-Ui.screenY):La=Hr=0,Ui=t),Hr)},movementY:function(t){return"movementY"in t?t.movementY:La}}),_l=Jt(ja),Ks=b({},ja,{dataTransfer:0}),cc=Jt(Ks),hc=b({},qr,{relatedTarget:0}),Xs=Jt(hc),vl=b({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),fc=Jt(vl),Ba=b({},sr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dc=Jt(Ba),mc=b({},sr,{data:0}),Li=Jt(mc),gc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _c(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=yc[t])?!!i[t]:!1}function Fr(){return _c}var gn=b({},qr,{key:function(t){if(t.key){var i=gc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Qs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fr,charCode:function(t){return t.type==="keypress"?Qs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vc=Jt(gn),Ec=b({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ar=Jt(Ec),c=b({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fr}),g=Jt(c),v=b({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Jt(v),j=b({},ja,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Jt(j),oe=b({},sr,{newState:0,oldState:0}),Oe=Jt(oe),St=[9,13,27,32],Ze=Yn&&"CompositionEvent"in window,dt=null;Yn&&"documentMode"in document&&(dt=document.documentMode);var Qn=Yn&&"TextEvent"in window&&!dt,ji=Yn&&(!Ze||dt&&8<dt&&11>=dt),fi=" ",di=!1;function $s(t,i){switch(t){case"keyup":return St.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ha=!1;function tA(t,i){switch(t){case"compositionend":return qa(i);case"keypress":return i.which!==32?null:(di=!0,fi);case"textInput":return t=i.data,t===fi&&di?null:t;default:return null}}function nA(t,i){if(Ha)return t==="compositionend"||!Ze&&$s(t,i)?(t=pl(),Ys=gl=ki=null,Ha=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ji&&i.locale!=="ko"?null:i.data;default:return null}}var iA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ty(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!iA[t.type]:i==="textarea"}function ny(t,i,a,l){jr?zi?zi.push(l):zi=[l]:jr=l,i=uh(i,"onChange"),0<i.length&&(a=new Pi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var El=null,Tl=null;function rA(t){Uv(t,0)}function Tc(t){var i=Nn(t);if(qs(i))return t}function iy(t,i){if(t==="change")return i}var ry=!1;if(Yn){var Jf;if(Yn){var Wf="oninput"in document;if(!Wf){var sy=document.createElement("div");sy.setAttribute("oninput","return;"),Wf=typeof sy.oninput=="function"}Jf=Wf}else Jf=!1;ry=Jf&&(!document.documentMode||9<document.documentMode)}function ay(){El&&(El.detachEvent("onpropertychange",oy),Tl=El=null)}function oy(t){if(t.propertyName==="value"&&Tc(Tl)){var i=[];ny(i,Tl,t,Gn(t)),Br(rA,i)}}function sA(t,i,a){t==="focusin"?(ay(),El=i,Tl=a,El.attachEvent("onpropertychange",oy)):t==="focusout"&&ay()}function aA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tc(Tl)}function oA(t,i){if(t==="click")return Tc(i)}function lA(t,i){if(t==="input"||t==="change")return Tc(i)}function uA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Mn=typeof Object.is=="function"?Object.is:uA;function bl(t,i){if(Mn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ct.call(i,h)||!Mn(t[h],i[h]))return!1}return!0}function ly(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function uy(t,i){var a=ly(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ly(a)}}function cy(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?cy(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function hy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Vi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Vi(t.document)}return i}function ed(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var cA=Yn&&"documentMode"in document&&11>=document.documentMode,Fa=null,td=null,Sl=null,nd=!1;function fy(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;nd||Fa==null||Fa!==Vi(l)||(l=Fa,"selectionStart"in l&&ed(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Sl&&bl(Sl,l)||(Sl=l,l=uh(td,"onSelect"),0<l.length&&(i=new Pi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Fa)))}function Zs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ga={animationend:Zs("Animation","AnimationEnd"),animationiteration:Zs("Animation","AnimationIteration"),animationstart:Zs("Animation","AnimationStart"),transitionrun:Zs("Transition","TransitionRun"),transitionstart:Zs("Transition","TransitionStart"),transitioncancel:Zs("Transition","TransitionCancel"),transitionend:Zs("Transition","TransitionEnd")},id={},dy={};Yn&&(dy=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function Js(t){if(id[t])return id[t];if(!Ga[t])return t;var i=Ga[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in dy)return id[t]=i[a];return t}var my=Js("animationend"),gy=Js("animationiteration"),py=Js("animationstart"),hA=Js("transitionrun"),fA=Js("transitionstart"),dA=Js("transitioncancel"),yy=Js("transitionend"),_y=new Map,rd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rd.push("scrollEnd");function mi(t,i){_y.set(t,i),Oi(i,[t])}var bc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Kn=[],Ya=0,sd=0;function Sc(){for(var t=Ya,i=sd=Ya=0;i<t;){var a=Kn[i];Kn[i++]=null;var l=Kn[i];Kn[i++]=null;var h=Kn[i];Kn[i++]=null;var d=Kn[i];if(Kn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&vy(a,h,d)}}function Ac(t,i,a,l){Kn[Ya++]=t,Kn[Ya++]=i,Kn[Ya++]=a,Kn[Ya++]=l,sd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function ad(t,i,a,l){return Ac(t,i,a,l),wc(t)}function Ws(t,i){return Ac(t,null,null,i),wc(t)}function vy(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-bt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function wc(t){if(50<Gl)throw Gl=0,gm=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Qa={};function mA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,i,a,l){return new mA(t,i,a,l)}function od(t){return t=t.prototype,!(!t||!t.isReactComponent)}function or(t,i){var a=t.alternate;return a===null?(a=Vn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ey(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Rc(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")od(t)&&(_=1);else if(typeof t=="string")_=v1(t,a,de.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Vn(31,a,i,h),t.elementType=R,t.lanes=d,t;case z:return ea(a.children,h,d,i);case K:_=8,h|=24;break;case re:return t=Vn(12,a,i,h|2),t.elementType=re,t.lanes=d,t;case ye:return t=Vn(13,a,i,h),t.elementType=ye,t.lanes=d,t;case $:return t=Vn(19,a,i,h),t.elementType=$,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:_=10;break e;case ue:_=9;break e;case se:_=11;break e;case C:_=14;break e;case w:_=16,l=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=Vn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function ea(t,i,a,l){return t=Vn(7,t,l,i),t.lanes=a,t}function ld(t,i,a){return t=Vn(6,t,null,i),t.lanes=a,t}function Ty(t){var i=Vn(18,null,null,0);return i.stateNode=t,i}function ud(t,i,a){return i=Vn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var by=new WeakMap;function Xn(t,i){if(typeof t=="object"&&t!==null){var a=by.get(t);return a!==void 0?a:(i={value:t,source:i,stack:el(i)},by.set(t,i),i)}return{value:t,source:i,stack:el(i)}}var Ka=[],Xa=0,Cc=null,Al=0,$n=[],Zn=0,Gr=null,Bi=1,qi="";function lr(t,i){Ka[Xa++]=Al,Ka[Xa++]=Cc,Cc=t,Al=i}function Sy(t,i,a){$n[Zn++]=Bi,$n[Zn++]=qi,$n[Zn++]=Gr,Gr=t;var l=Bi;t=qi;var h=32-bt(l)-1;l&=~(1<<h),a+=1;var d=32-bt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Bi=1<<32-bt(i)+h|a<<h|l,qi=d+t}else Bi=1<<d|a<<h|l,qi=t}function cd(t){t.return!==null&&(lr(t,1),Sy(t,1,0))}function hd(t){for(;t===Cc;)Cc=Ka[--Xa],Ka[Xa]=null,Al=Ka[--Xa],Ka[Xa]=null;for(;t===Gr;)Gr=$n[--Zn],$n[Zn]=null,qi=$n[--Zn],$n[Zn]=null,Bi=$n[--Zn],$n[Zn]=null}function Ay(t,i){$n[Zn++]=Bi,$n[Zn++]=qi,$n[Zn++]=Gr,Bi=i.id,qi=i.overflow,Gr=t}var Wt=null,ct=null,Fe=!1,Yr=null,Jn=!1,fd=Error(r(519));function Qr(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wl(Xn(i,t)),fd}function wy(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[It]=t,i[Yt]=l,a){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(a=0;a<Ql.length;a++)Pe(Ql[a],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":Pe("invalid",i),ac(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Pe("invalid",i);break;case"textarea":Pe("invalid",i),Ur(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||qv(i.textContent,a)?(l.popover!=null&&(Pe("beforetoggle",i),Pe("toggle",i)),l.onScroll!=null&&Pe("scroll",i),l.onScrollEnd!=null&&Pe("scrollend",i),l.onClick!=null&&(i.onclick=ui),i=!0):i=!1,i||Qr(t,!0)}function Ry(t){for(Wt=t.return;Wt;)switch(Wt.tag){case 5:case 31:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:Wt=Wt.return}}function $a(t){if(t!==Wt)return!1;if(!Fe)return Ry(t),Fe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||xm(t.type,t.memoizedProps)),a=!a),a&&ct&&Qr(t),Ry(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ct=Zv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ct=Zv(t)}else i===27?(i=ct,os(t.type)?(t=zm,zm=null,ct=t):ct=i):ct=Wt?ei(t.stateNode.nextSibling):null;return!0}function ta(){ct=Wt=null,Fe=!1}function dd(){var t=Yr;return t!==null&&(wn===null?wn=t:wn.push.apply(wn,t),Yr=null),t}function wl(t){Yr===null?Yr=[t]:Yr.push(t)}var md=M(null),na=null,ur=null;function Kr(t,i,a){ae(md,i._currentValue),i._currentValue=a}function cr(t){t._currentValue=md.current,Z(md)}function gd(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function pd(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var x=0;x<i.length;x++)if(T.context===i[x]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),gd(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),gd(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Za(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var T=h.type;Mn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Qe.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Jl):t=[Jl])}h=h.return}t!==null&&pd(i,t,a,l),i.flags|=262144}function Dc(t){for(t=t.firstContext;t!==null;){if(!Mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ia(t){na=t,ur=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function en(t){return Cy(na,t)}function Ic(t,i){return na===null&&ia(t),Cy(t,i)}function Cy(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ur===null){if(t===null)throw Error(r(308));ur=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ur=ur.next=i;return a}var gA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},pA=s.unstable_scheduleCallback,yA=s.unstable_NormalPriority,Ot={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yd(){return{controller:new gA,data:new Map,refCount:0}}function Rl(t){t.refCount--,t.refCount===0&&pA(yA,function(){t.controller.abort()})}var Cl=null,_d=0,Ja=0,Wa=null;function _A(t,i){if(Cl===null){var a=Cl=[];_d=0,Ja=Tm(),Wa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return _d++,i.then(Dy,Dy),i}function Dy(){if(--_d===0&&Cl!==null){Wa!==null&&(Wa.status="fulfilled");var t=Cl;Cl=null,Ja=0,Wa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function vA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Iy=U.S;U.S=function(t,i){fv=mn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&_A(t,i),Iy!==null&&Iy(t,i)};var ra=M(null);function vd(){var t=ra.current;return t!==null?t:lt.pooledCache}function xc(t,i){i===null?ae(ra,ra.current):ae(ra,i.pool)}function xy(){var t=vd();return t===null?null:{parent:Ot._currentValue,pool:t}}var eo=Error(r(460)),Ed=Error(r(474)),Nc=Error(r(542)),Oc={then:function(){}};function Ny(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Oy(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ui,ui),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Vy(t),t;default:if(typeof i.status=="string")i.then(ui,ui);else{if(t=lt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Vy(t),t}throw aa=i,eo}}function sa(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(aa=a,eo):a}}var aa=null;function My(){if(aa===null)throw Error(r(459));var t=aa;return aa=null,t}function Vy(t){if(t===eo||t===Nc)throw Error(r(483))}var to=null,Dl=0;function Mc(t){var i=Dl;return Dl+=1,to===null&&(to=[]),Oy(to,t,i)}function Il(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Vc(t,i){throw i.$$typeof===D?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function zy(t){function i(P,V){if(t){var q=P.deletions;q===null?(P.deletions=[V],P.flags|=16):q.push(V)}}function a(P,V){if(!t)return null;for(;V!==null;)i(P,V),V=V.sibling;return null}function l(P){for(var V=new Map;P!==null;)P.key!==null?V.set(P.key,P):V.set(P.index,P),P=P.sibling;return V}function h(P,V){return P=or(P,V),P.index=0,P.sibling=null,P}function d(P,V,q){return P.index=q,t?(q=P.alternate,q!==null?(q=q.index,q<V?(P.flags|=67108866,V):q):(P.flags|=67108866,V)):(P.flags|=1048576,V)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function T(P,V,q,J){return V===null||V.tag!==6?(V=ld(q,P.mode,J),V.return=P,V):(V=h(V,q),V.return=P,V)}function x(P,V,q,J){var Ee=q.type;return Ee===z?X(P,V,q.props.children,J,q.key):V!==null&&(V.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===w&&sa(Ee)===V.type)?(V=h(V,q.props),Il(V,q),V.return=P,V):(V=Rc(q.type,q.key,q.props,null,P.mode,J),Il(V,q),V.return=P,V)}function H(P,V,q,J){return V===null||V.tag!==4||V.stateNode.containerInfo!==q.containerInfo||V.stateNode.implementation!==q.implementation?(V=ud(q,P.mode,J),V.return=P,V):(V=h(V,q.children||[]),V.return=P,V)}function X(P,V,q,J,Ee){return V===null||V.tag!==7?(V=ea(q,P.mode,J,Ee),V.return=P,V):(V=h(V,q),V.return=P,V)}function ee(P,V,q){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=ld(""+V,P.mode,q),V.return=P,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case L:return q=Rc(V.type,V.key,V.props,null,P.mode,q),Il(q,V),q.return=P,q;case Y:return V=ud(V,P.mode,q),V.return=P,V;case w:return V=sa(V),ee(P,V,q)}if(B(V)||k(V))return V=ea(V,P.mode,q,null),V.return=P,V;if(typeof V.then=="function")return ee(P,Mc(V),q);if(V.$$typeof===ie)return ee(P,Ic(P,V),q);Vc(P,V)}return null}function F(P,V,q,J){var Ee=V!==null?V.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return Ee!==null?null:T(P,V,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case L:return q.key===Ee?x(P,V,q,J):null;case Y:return q.key===Ee?H(P,V,q,J):null;case w:return q=sa(q),F(P,V,q,J)}if(B(q)||k(q))return Ee!==null?null:X(P,V,q,J,null);if(typeof q.then=="function")return F(P,V,Mc(q),J);if(q.$$typeof===ie)return F(P,V,Ic(P,q),J);Vc(P,q)}return null}function Q(P,V,q,J,Ee){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return P=P.get(q)||null,T(V,P,""+J,Ee);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case L:return P=P.get(J.key===null?q:J.key)||null,x(V,P,J,Ee);case Y:return P=P.get(J.key===null?q:J.key)||null,H(V,P,J,Ee);case w:return J=sa(J),Q(P,V,q,J,Ee)}if(B(J)||k(J))return P=P.get(q)||null,X(V,P,J,Ee,null);if(typeof J.then=="function")return Q(P,V,q,Mc(J),Ee);if(J.$$typeof===ie)return Q(P,V,q,Ic(V,J),Ee);Vc(V,J)}return null}function me(P,V,q,J){for(var Ee=null,Xe=null,ge=V,ze=V=0,Le=null;ge!==null&&ze<q.length;ze++){ge.index>ze?(Le=ge,ge=null):Le=ge.sibling;var $e=F(P,ge,q[ze],J);if($e===null){ge===null&&(ge=Le);break}t&&ge&&$e.alternate===null&&i(P,ge),V=d($e,V,ze),Xe===null?Ee=$e:Xe.sibling=$e,Xe=$e,ge=Le}if(ze===q.length)return a(P,ge),Fe&&lr(P,ze),Ee;if(ge===null){for(;ze<q.length;ze++)ge=ee(P,q[ze],J),ge!==null&&(V=d(ge,V,ze),Xe===null?Ee=ge:Xe.sibling=ge,Xe=ge);return Fe&&lr(P,ze),Ee}for(ge=l(ge);ze<q.length;ze++)Le=Q(ge,P,ze,q[ze],J),Le!==null&&(t&&Le.alternate!==null&&ge.delete(Le.key===null?ze:Le.key),V=d(Le,V,ze),Xe===null?Ee=Le:Xe.sibling=Le,Xe=Le);return t&&ge.forEach(function(fs){return i(P,fs)}),Fe&&lr(P,ze),Ee}function be(P,V,q,J){if(q==null)throw Error(r(151));for(var Ee=null,Xe=null,ge=V,ze=V=0,Le=null,$e=q.next();ge!==null&&!$e.done;ze++,$e=q.next()){ge.index>ze?(Le=ge,ge=null):Le=ge.sibling;var fs=F(P,ge,$e.value,J);if(fs===null){ge===null&&(ge=Le);break}t&&ge&&fs.alternate===null&&i(P,ge),V=d(fs,V,ze),Xe===null?Ee=fs:Xe.sibling=fs,Xe=fs,ge=Le}if($e.done)return a(P,ge),Fe&&lr(P,ze),Ee;if(ge===null){for(;!$e.done;ze++,$e=q.next())$e=ee(P,$e.value,J),$e!==null&&(V=d($e,V,ze),Xe===null?Ee=$e:Xe.sibling=$e,Xe=$e);return Fe&&lr(P,ze),Ee}for(ge=l(ge);!$e.done;ze++,$e=q.next())$e=Q(ge,P,ze,$e.value,J),$e!==null&&(t&&$e.alternate!==null&&ge.delete($e.key===null?ze:$e.key),V=d($e,V,ze),Xe===null?Ee=$e:Xe.sibling=$e,Xe=$e);return t&&ge.forEach(function(x1){return i(P,x1)}),Fe&&lr(P,ze),Ee}function ot(P,V,q,J){if(typeof q=="object"&&q!==null&&q.type===z&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case L:e:{for(var Ee=q.key;V!==null;){if(V.key===Ee){if(Ee=q.type,Ee===z){if(V.tag===7){a(P,V.sibling),J=h(V,q.props.children),J.return=P,P=J;break e}}else if(V.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===w&&sa(Ee)===V.type){a(P,V.sibling),J=h(V,q.props),Il(J,q),J.return=P,P=J;break e}a(P,V);break}else i(P,V);V=V.sibling}q.type===z?(J=ea(q.props.children,P.mode,J,q.key),J.return=P,P=J):(J=Rc(q.type,q.key,q.props,null,P.mode,J),Il(J,q),J.return=P,P=J)}return _(P);case Y:e:{for(Ee=q.key;V!==null;){if(V.key===Ee)if(V.tag===4&&V.stateNode.containerInfo===q.containerInfo&&V.stateNode.implementation===q.implementation){a(P,V.sibling),J=h(V,q.children||[]),J.return=P,P=J;break e}else{a(P,V);break}else i(P,V);V=V.sibling}J=ud(q,P.mode,J),J.return=P,P=J}return _(P);case w:return q=sa(q),ot(P,V,q,J)}if(B(q))return me(P,V,q,J);if(k(q)){if(Ee=k(q),typeof Ee!="function")throw Error(r(150));return q=Ee.call(q),be(P,V,q,J)}if(typeof q.then=="function")return ot(P,V,Mc(q),J);if(q.$$typeof===ie)return ot(P,V,Ic(P,q),J);Vc(P,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,V!==null&&V.tag===6?(a(P,V.sibling),J=h(V,q),J.return=P,P=J):(a(P,V),J=ld(q,P.mode,J),J.return=P,P=J),_(P)):a(P,V)}return function(P,V,q,J){try{Dl=0;var Ee=ot(P,V,q,J);return to=null,Ee}catch(ge){if(ge===eo||ge===Nc)throw ge;var Xe=Vn(29,ge,null,P.mode);return Xe.lanes=J,Xe.return=P,Xe}finally{}}}var oa=zy(!0),ky=zy(!1),Xr=!1;function Td(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function $r(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Zr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Je&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=wc(t),vy(t,null,a),i}return Ac(t,l,i,a),wc(t)}function xl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,il(t,a)}}function Sd(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Ad=!1;function Nl(){if(Ad){var t=Wa;if(t!==null)throw t}}function Ol(t,i,a,l){Ad=!1;var h=t.updateQueue;Xr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var x=T,H=x.next;x.next=null,_===null?d=H:_.next=H,_=x;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==_&&(T===null?X.firstBaseUpdate=H:T.next=H,X.lastBaseUpdate=x))}if(d!==null){var ee=h.baseState;_=0,X=H=x=null,T=d;do{var F=T.lane&-536870913,Q=F!==T.lane;if(Q?(Ue&F)===F:(l&F)===F){F!==0&&F===Ja&&(Ad=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var me=t,be=T;F=i;var ot=a;switch(be.tag){case 1:if(me=be.payload,typeof me=="function"){ee=me.call(ot,ee,F);break e}ee=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=be.payload,F=typeof me=="function"?me.call(ot,ee,F):me,F==null)break e;ee=b({},ee,F);break e;case 2:Xr=!0}}F=T.callback,F!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[F]:Q.push(F))}else Q={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(H=X=Q,x=ee):X=X.next=Q,_|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);X===null&&(x=ee),h.baseState=x,h.firstBaseUpdate=H,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),ns|=_,t.lanes=_,t.memoizedState=ee}}function Py(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Uy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Py(a[t],i)}var no=M(null),zc=M(0);function Ly(t,i){t=vr,ae(zc,t),ae(no,i),vr=t|i.baseLanes}function wd(){ae(zc,vr),ae(no,no.current)}function Rd(){vr=zc.current,Z(no),Z(zc)}var zn=M(null),Wn=null;function Jr(t){var i=t.alternate;ae(At,At.current&1),ae(zn,t),Wn===null&&(i===null||no.current!==null||i.memoizedState!==null)&&(Wn=t)}function Cd(t){ae(At,At.current),ae(zn,t),Wn===null&&(Wn=t)}function jy(t){t.tag===22?(ae(At,At.current),ae(zn,t),Wn===null&&(Wn=t)):Wr()}function Wr(){ae(At,At.current),ae(zn,zn.current)}function kn(t){Z(zn),Wn===t&&(Wn=null),Z(At)}var At=M(0);function kc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Mm(a)||Vm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var hr=0,Me=null,st=null,Mt=null,Pc=!1,io=!1,la=!1,Uc=0,Ml=0,ro=null,EA=0;function _t(){throw Error(r(321))}function Dd(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Mn(t[a],i[a]))return!1;return!0}function Id(t,i,a,l,h,d){return hr=d,Me=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,U.H=t===null||t.memoizedState===null?S_:Fd,la=!1,d=a(l,h),la=!1,io&&(d=qy(i,a,l,h)),By(t),d}function By(t){U.H=kl;var i=st!==null&&st.next!==null;if(hr=0,Mt=st=Me=null,Pc=!1,Ml=0,ro=null,i)throw Error(r(300));t===null||Vt||(t=t.dependencies,t!==null&&Dc(t)&&(Vt=!0))}function qy(t,i,a,l){Me=t;var h=0;do{if(io&&(ro=null),Ml=0,io=!1,25<=h)throw Error(r(301));if(h+=1,Mt=st=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}U.H=A_,d=i(a,l)}while(io);return d}function TA(){var t=U.H,i=t.useState()[0];return i=typeof i.then=="function"?Vl(i):i,t=t.useState()[0],(st!==null?st.memoizedState:null)!==t&&(Me.flags|=1024),i}function xd(){var t=Uc!==0;return Uc=0,t}function Nd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Od(t){if(Pc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Pc=!1}hr=0,Mt=st=Me=null,io=!1,Ml=Uc=0,ro=null}function pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Me.memoizedState=Mt=t:Mt=Mt.next=t,Mt}function wt(){if(st===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var i=Mt===null?Me.memoizedState:Mt.next;if(i!==null)Mt=i,st=t;else{if(t===null)throw Me.alternate===null?Error(r(467)):Error(r(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Mt===null?Me.memoizedState=Mt=t:Mt=Mt.next=t}return Mt}function Lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vl(t){var i=Ml;return Ml+=1,ro===null&&(ro=[]),t=Oy(ro,t,i),i=Me,(Mt===null?i.memoizedState:Mt.next)===null&&(i=i.alternate,U.H=i===null||i.memoizedState===null?S_:Fd),t}function jc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Vl(t);if(t.$$typeof===ie)return en(t)}throw Error(r(438,String(t)))}function Md(t){var i=null,a=Me.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Lc(),Me.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=N;return i.index++,a}function fr(t,i){return typeof i=="function"?i(t):i}function Bc(t){var i=wt();return Vd(i,st,t)}function Vd(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,x=null,H=i,X=!1;do{var ee=H.lane&-536870913;if(ee!==H.lane?(Ue&ee)===ee:(hr&ee)===ee){var F=H.revertLane;if(F===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ee===Ja&&(X=!0);else if((hr&F)===F){H=H.next,F===Ja&&(X=!0);continue}else ee={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},x===null?(T=x=ee,_=d):x=x.next=ee,Me.lanes|=F,ns|=F;ee=H.action,la&&a(d,ee),d=H.hasEagerState?H.eagerState:a(d,ee)}else F={lane:ee,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},x===null?(T=x=F,_=d):x=x.next=F,Me.lanes|=ee,ns|=ee;H=H.next}while(H!==null&&H!==i);if(x===null?_=d:x.next=T,!Mn(d,t.memoizedState)&&(Vt=!0,X&&(a=Wa,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=x,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function zd(t){var i=wt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);Mn(d,i.memoizedState)||(Vt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Hy(t,i,a){var l=Me,h=wt(),d=Fe;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!Mn((st||h).memoizedState,a);if(_&&(h.memoizedState=a,Vt=!0),h=h.queue,Ud(Yy.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||Mt!==null&&Mt.memoizedState.tag&1){if(l.flags|=2048,so(9,{destroy:void 0},Gy.bind(null,l,h,a,i),null),lt===null)throw Error(r(349));d||(hr&127)!==0||Fy(l,i,a)}return a}function Fy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Me.updateQueue,i===null?(i=Lc(),Me.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Gy(t,i,a,l){i.value=a,i.getSnapshot=l,Qy(i)&&Ky(t)}function Yy(t,i,a){return a(function(){Qy(i)&&Ky(t)})}function Qy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Mn(t,a)}catch{return!0}}function Ky(t){var i=Ws(t,2);i!==null&&Rn(i,t,2)}function kd(t){var i=pn();if(typeof t=="function"){var a=t;if(t=a(),la){Hn(!0);try{a()}finally{Hn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fr,lastRenderedState:t},i}function Xy(t,i,a,l){return t.baseState=a,Vd(t,st,typeof l=="function"?l:fr)}function bA(t,i,a,l,h){if(Fc(t))throw Error(r(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};U.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,$y(i,d)):(d.next=a.next,i.pending=a.next=d)}}function $y(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=U.T,_={};U.T=_;try{var T=a(h,l),x=U.S;x!==null&&x(_,T),Zy(t,i,T)}catch(H){Pd(t,i,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),U.T=d}}else try{d=a(h,l),Zy(t,i,d)}catch(H){Pd(t,i,H)}}function Zy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Jy(t,i,l)},function(l){return Pd(t,i,l)}):Jy(t,i,a)}function Jy(t,i,a){i.status="fulfilled",i.value=a,Wy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,$y(t,a)))}function Pd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Wy(i),i=i.next;while(i!==l)}t.action=null}function Wy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function e_(t,i){return i}function t_(t,i){if(Fe){var a=lt.formState;if(a!==null){e:{var l=Me;if(Fe){if(ct){t:{for(var h=ct,d=Jn;h.nodeType!==8;){if(!d){h=null;break t}if(h=ei(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ct=ei(h.nextSibling),l=h.data==="F!";break e}}Qr(l)}l=!1}l&&(i=a[0])}}return a=pn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e_,lastRenderedState:i},a.queue=l,a=E_.bind(null,Me,l),l.dispatch=a,l=kd(!1),d=Hd.bind(null,Me,!1,l.queue),l=pn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=bA.bind(null,Me,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function n_(t){var i=wt();return i_(i,st,t)}function i_(t,i,a){if(i=Vd(t,i,e_)[0],t=Bc(fr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Vl(i)}catch(_){throw _===eo?Nc:_}else l=i;i=wt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Me.flags|=2048,so(9,{destroy:void 0},SA.bind(null,h,a),null)),[l,d,t]}function SA(t,i){t.action=i}function r_(t){var i=wt(),a=st;if(a!==null)return i_(i,a,t);wt(),i=i.memoizedState,a=wt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function so(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Me.updateQueue,i===null&&(i=Lc(),Me.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function s_(){return wt().memoizedState}function qc(t,i,a,l){var h=pn();Me.flags|=t,h.memoizedState=so(1|i,{destroy:void 0},a,l===void 0?null:l)}function Hc(t,i,a,l){var h=wt();l=l===void 0?null:l;var d=h.memoizedState.inst;st!==null&&l!==null&&Dd(l,st.memoizedState.deps)?h.memoizedState=so(i,d,a,l):(Me.flags|=t,h.memoizedState=so(1|i,d,a,l))}function a_(t,i){qc(8390656,8,t,i)}function Ud(t,i){Hc(2048,8,t,i)}function AA(t){Me.flags|=4;var i=Me.updateQueue;if(i===null)i=Lc(),Me.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function o_(t){var i=wt().memoizedState;return AA({ref:i,nextImpl:t}),function(){if((Je&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function l_(t,i){return Hc(4,2,t,i)}function u_(t,i){return Hc(4,4,t,i)}function c_(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function h_(t,i,a){a=a!=null?a.concat([t]):null,Hc(4,4,c_.bind(null,i,t),a)}function Ld(){}function f_(t,i){var a=wt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Dd(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function d_(t,i){var a=wt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Dd(i,l[1]))return l[0];if(l=t(),la){Hn(!0);try{t()}finally{Hn(!1)}}return a.memoizedState=[l,i],l}function jd(t,i,a){return a===void 0||(hr&1073741824)!==0&&(Ue&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=mv(),Me.lanes|=t,ns|=t,a)}function m_(t,i,a,l){return Mn(a,i)?a:no.current!==null?(t=jd(t,a,l),Mn(t,i)||(Vt=!0),t):(hr&42)===0||(hr&1073741824)!==0&&(Ue&261930)===0?(Vt=!0,t.memoizedState=a):(t=mv(),Me.lanes|=t,ns|=t,i)}function g_(t,i,a,l,h){var d=ne.p;ne.p=d!==0&&8>d?d:8;var _=U.T,T={};U.T=T,Hd(t,!1,i,a);try{var x=h(),H=U.S;if(H!==null&&H(T,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var X=vA(x,l);zl(t,i,X,Ln(t))}else zl(t,i,l,Ln(t))}catch(ee){zl(t,i,{then:function(){},status:"rejected",reason:ee},Ln())}finally{ne.p=d,_!==null&&T.types!==null&&(_.types=T.types),U.T=_}}function wA(){}function Bd(t,i,a,l){if(t.tag!==5)throw Error(r(476));var h=p_(t).queue;g_(t,h,i,he,a===null?wA:function(){return y_(t),a(l)})}function p_(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fr,lastRenderedState:he},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function y_(t){var i=p_(t);i.next===null&&(i=t.alternate.memoizedState),zl(t,i.next.queue,{},Ln())}function qd(){return en(Jl)}function __(){return wt().memoizedState}function v_(){return wt().memoizedState}function RA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Ln();t=$r(a);var l=Zr(i,t,a);l!==null&&(Rn(l,i,a),xl(l,i,a)),i={cache:yd()},t.payload=i;return}i=i.return}}function CA(t,i,a){var l=Ln();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Fc(t)?T_(i,a):(a=ad(t,i,a,l),a!==null&&(Rn(a,t,l),b_(a,i,l)))}function E_(t,i,a){var l=Ln();zl(t,i,a,l)}function zl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Fc(t))T_(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,Mn(T,_))return Ac(t,i,h,0),lt===null&&Sc(),!1}catch{}finally{}if(a=ad(t,i,h,l),a!==null)return Rn(a,t,l),b_(a,i,l),!0}return!1}function Hd(t,i,a,l){if(l={lane:2,revertLane:Tm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Fc(t)){if(i)throw Error(r(479))}else i=ad(t,a,l,2),i!==null&&Rn(i,t,2)}function Fc(t){var i=t.alternate;return t===Me||i!==null&&i===Me}function T_(t,i){io=Pc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function b_(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,il(t,a)}}var kl={readContext:en,use:jc,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};kl.useEffectEvent=_t;var S_={readContext:en,use:jc,useCallback:function(t,i){return pn().memoizedState=[t,i===void 0?null:i],t},useContext:en,useEffect:a_,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,qc(4194308,4,c_.bind(null,i,t),a)},useLayoutEffect:function(t,i){return qc(4194308,4,t,i)},useInsertionEffect:function(t,i){qc(4,2,t,i)},useMemo:function(t,i){var a=pn();i=i===void 0?null:i;var l=t();if(la){Hn(!0);try{t()}finally{Hn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=pn();if(a!==void 0){var h=a(i);if(la){Hn(!0);try{a(i)}finally{Hn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=CA.bind(null,Me,t),[l.memoizedState,t]},useRef:function(t){var i=pn();return t={current:t},i.memoizedState=t},useState:function(t){t=kd(t);var i=t.queue,a=E_.bind(null,Me,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Ld,useDeferredValue:function(t,i){var a=pn();return jd(a,t,i)},useTransition:function(){var t=kd(!1);return t=g_.bind(null,Me,t.queue,!0,!1),pn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Me,h=pn();if(Fe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),lt===null)throw Error(r(349));(Ue&127)!==0||Fy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,a_(Yy.bind(null,l,d,t),[t]),l.flags|=2048,so(9,{destroy:void 0},Gy.bind(null,l,d,a,i),null),a},useId:function(){var t=pn(),i=lt.identifierPrefix;if(Fe){var a=qi,l=Bi;a=(l&~(1<<32-bt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Uc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=EA++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:qd,useFormState:t_,useActionState:t_,useOptimistic:function(t){var i=pn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Hd.bind(null,Me,!0,a),a.dispatch=i,[t,i]},useMemoCache:Md,useCacheRefresh:function(){return pn().memoizedState=RA.bind(null,Me)},useEffectEvent:function(t){var i=pn(),a={impl:t};return i.memoizedState=a,function(){if((Je&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Fd={readContext:en,use:jc,useCallback:f_,useContext:en,useEffect:Ud,useImperativeHandle:h_,useInsertionEffect:l_,useLayoutEffect:u_,useMemo:d_,useReducer:Bc,useRef:s_,useState:function(){return Bc(fr)},useDebugValue:Ld,useDeferredValue:function(t,i){var a=wt();return m_(a,st.memoizedState,t,i)},useTransition:function(){var t=Bc(fr)[0],i=wt().memoizedState;return[typeof t=="boolean"?t:Vl(t),i]},useSyncExternalStore:Hy,useId:__,useHostTransitionStatus:qd,useFormState:n_,useActionState:n_,useOptimistic:function(t,i){var a=wt();return Xy(a,st,t,i)},useMemoCache:Md,useCacheRefresh:v_};Fd.useEffectEvent=o_;var A_={readContext:en,use:jc,useCallback:f_,useContext:en,useEffect:Ud,useImperativeHandle:h_,useInsertionEffect:l_,useLayoutEffect:u_,useMemo:d_,useReducer:zd,useRef:s_,useState:function(){return zd(fr)},useDebugValue:Ld,useDeferredValue:function(t,i){var a=wt();return st===null?jd(a,t,i):m_(a,st.memoizedState,t,i)},useTransition:function(){var t=zd(fr)[0],i=wt().memoizedState;return[typeof t=="boolean"?t:Vl(t),i]},useSyncExternalStore:Hy,useId:__,useHostTransitionStatus:qd,useFormState:r_,useActionState:r_,useOptimistic:function(t,i){var a=wt();return st!==null?Xy(a,st,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Md,useCacheRefresh:v_};A_.useEffectEvent=o_;function Gd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Yd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Ln(),h=$r(l);h.payload=i,a!=null&&(h.callback=a),i=Zr(t,h,l),i!==null&&(Rn(i,t,l),xl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Ln(),h=$r(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Zr(t,h,l),i!==null&&(Rn(i,t,l),xl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Ln(),l=$r(a);l.tag=2,i!=null&&(l.callback=i),i=Zr(t,l,a),i!==null&&(Rn(i,t,a),xl(i,t,a))}};function w_(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!bl(a,l)||!bl(h,d):!0}function R_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Yd.enqueueReplaceState(i,i.state,null)}function ua(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function C_(t){bc(t)}function D_(t){console.error(t)}function I_(t){bc(t)}function Gc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function x_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Qd(t,i,a){return a=$r(a),a.tag=3,a.payload={element:null},a.callback=function(){Gc(t,i)},a}function N_(t){return t=$r(t),t.tag=3,t}function O_(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){x_(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){x_(i,a,l),typeof h!="function"&&(is===null?is=new Set([this]):is.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function DA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Za(i,a,h,!0),a=zn.current,a!==null){switch(a.tag){case 31:case 13:return Wn===null?ih():a.alternate===null&&vt===0&&(vt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Oc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),_m(t,l,h)),!1;case 22:return a.flags|=65536,l===Oc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),_m(t,l,h)),!1}throw Error(r(435,a.tag))}return _m(t,l,h),ih(),!1}if(Fe)return i=zn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==fd&&(t=Error(r(422),{cause:l}),wl(Xn(t,a)))):(l!==fd&&(i=Error(r(423),{cause:l}),wl(Xn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Xn(l,a),h=Qd(t.stateNode,l,h),Sd(t,h),vt!==4&&(vt=2)),!1;var d=Error(r(520),{cause:l});if(d=Xn(d,a),Fl===null?Fl=[d]:Fl.push(d),vt!==4&&(vt=2),i===null)return!0;l=Xn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Qd(a.stateNode,l,t),Sd(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(is===null||!is.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=N_(h),O_(h,t,a,l),Sd(a,h),!1}a=a.return}while(a!==null);return!1}var Kd=Error(r(461)),Vt=!1;function tn(t,i,a,l){i.child=t===null?ky(i,null,a,l):oa(i,t.child,a,l)}function M_(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return ia(i),l=Id(t,i,a,_,d,h),T=xd(),t!==null&&!Vt?(Nd(t,i,h),dr(t,i,h)):(Fe&&T&&cd(i),i.flags|=1,tn(t,i,l,h),i.child)}function V_(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!od(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,z_(t,i,d,l,h)):(t=Rc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!nm(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:bl,a(_,l)&&t.ref===i.ref)return dr(t,i,h)}return i.flags|=1,t=or(d,l),t.ref=i.ref,t.return=i,i.child=t}function z_(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(bl(d,l)&&t.ref===i.ref)if(Vt=!1,i.pendingProps=l=d,nm(t,h))(t.flags&131072)!==0&&(Vt=!0);else return i.lanes=t.lanes,dr(t,i,h)}return Xd(t,i,a,l,h)}function k_(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return P_(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&xc(i,d!==null?d.cachePool:null),d!==null?Ly(i,d):wd(),jy(i);else return l=i.lanes=536870912,P_(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(xc(i,d.cachePool),Ly(i,d),Wr(),i.memoizedState=null):(t!==null&&xc(i,null),wd(),Wr());return tn(t,i,h,a),i.child}function Pl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function P_(t,i,a,l,h){var d=vd();return d=d===null?null:{parent:Ot._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&xc(i,null),wd(),jy(i),t!==null&&Za(t,i,l,!0),i.childLanes=h,null}function Yc(t,i){return i=Kc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function U_(t,i,a){return oa(i,t.child,null,a),t=Yc(i,i.pendingProps),t.flags|=2,kn(i),i.memoizedState=null,t}function IA(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Fe){if(l.mode==="hidden")return t=Yc(i,l),i.lanes=536870912,Pl(null,t);if(Cd(i),(t=ct)?(t=$v(t,Jn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Gr!==null?{id:Bi,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},a=Ty(t),a.return=i,i.child=a,Wt=i,ct=null)):t=null,t===null)throw Qr(i);return i.lanes=536870912,null}return Yc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Cd(i),h)if(i.flags&256)i.flags&=-257,i=U_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Vt||Za(t,i,a,!1),h=(a&t.childLanes)!==0,Vt||h){if(l=lt,l!==null&&(_=rl(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ws(t,_),Rn(l,t,_),Kd;ih(),i=U_(t,i,a)}else t=d.treeContext,ct=ei(_.nextSibling),Wt=i,Fe=!0,Yr=null,Jn=!1,t!==null&&Ay(i,t),i=Yc(i,l),i.flags|=4096;return i}return t=or(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Qc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Xd(t,i,a,l,h){return ia(i),a=Id(t,i,a,l,void 0,h),l=xd(),t!==null&&!Vt?(Nd(t,i,h),dr(t,i,h)):(Fe&&l&&cd(i),i.flags|=1,tn(t,i,a,h),i.child)}function L_(t,i,a,l,h,d){return ia(i),i.updateQueue=null,a=qy(i,l,a,h),By(t),l=xd(),t!==null&&!Vt?(Nd(t,i,d),dr(t,i,d)):(Fe&&l&&cd(i),i.flags|=1,tn(t,i,a,d),i.child)}function j_(t,i,a,l,h){if(ia(i),i.stateNode===null){var d=Qa,_=a.contextType;typeof _=="object"&&_!==null&&(d=en(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Yd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Td(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?en(_):Qa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Gd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Yd.enqueueReplaceState(d,d.state,null),Ol(i,l,d,h),Nl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,x=ua(a,T);d.props=x;var H=d.context,X=a.contextType;_=Qa,typeof X=="object"&&X!==null&&(_=en(X));var ee=a.getDerivedStateFromProps;X=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||H!==_)&&R_(i,d,l,_),Xr=!1;var F=i.memoizedState;d.state=F,Ol(i,l,d,h),Nl(),H=i.memoizedState,T||F!==H||Xr?(typeof ee=="function"&&(Gd(i,a,ee,l),H=i.memoizedState),(x=Xr||w_(i,a,x,l,F,H,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=_,l=x):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,bd(t,i),_=i.memoizedProps,X=ua(a,_),d.props=X,ee=i.pendingProps,F=d.context,H=a.contextType,x=Qa,typeof H=="object"&&H!==null&&(x=en(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||F!==x)&&R_(i,d,l,x),Xr=!1,F=i.memoizedState,d.state=F,Ol(i,l,d,h),Nl();var Q=i.memoizedState;_!==ee||F!==Q||Xr||t!==null&&t.dependencies!==null&&Dc(t.dependencies)?(typeof T=="function"&&(Gd(i,a,T,l),Q=i.memoizedState),(X=Xr||w_(i,a,X,l,F,Q,x)||t!==null&&t.dependencies!==null&&Dc(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,x)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=x,l=X):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Qc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=oa(i,t.child,null,h),i.child=oa(i,null,a,h)):tn(t,i,a,h),i.memoizedState=d.state,t=i.child):t=dr(t,i,h),t}function B_(t,i,a,l){return ta(),i.flags|=256,tn(t,i,a,l),i.child}var $d={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zd(t){return{baseLanes:t,cachePool:xy()}}function Jd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Un),t}function q_(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(At.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Fe){if(h?Jr(i):Wr(),(t=ct)?(t=$v(t,Jn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Gr!==null?{id:Bi,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},a=Ty(t),a.return=i,i.child=a,Wt=i,ct=null)):t=null,t===null)throw Qr(i);return Vm(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Wr(),h=i.mode,T=Kc({mode:"hidden",children:T},h),l=ea(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=Zd(a),l.childLanes=Jd(t,_,a),i.memoizedState=$d,Pl(null,l)):(Jr(i),Wd(i,T))}var x=t.memoizedState;if(x!==null&&(T=x.dehydrated,T!==null)){if(d)i.flags&256?(Jr(i),i.flags&=-257,i=em(t,i,a)):i.memoizedState!==null?(Wr(),i.child=t.child,i.flags|=128,i=null):(Wr(),T=l.fallback,h=i.mode,l=Kc({mode:"visible",children:l.children},h),T=ea(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,oa(i,t.child,null,a),l=i.child,l.memoizedState=Zd(a),l.childLanes=Jd(t,_,a),i.memoizedState=$d,i=Pl(null,l));else if(Jr(i),Vm(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(r(419)),l.stack="",l.digest=_,wl({value:l,source:null,stack:null}),i=em(t,i,a)}else if(Vt||Za(t,i,a,!1),_=(a&t.childLanes)!==0,Vt||_){if(_=lt,_!==null&&(l=rl(_,a),l!==0&&l!==x.retryLane))throw x.retryLane=l,Ws(t,l),Rn(_,t,l),Kd;Mm(T)||ih(),i=em(t,i,a)}else Mm(T)?(i.flags|=192,i.child=t.child,i=null):(t=x.treeContext,ct=ei(T.nextSibling),Wt=i,Fe=!0,Yr=null,Jn=!1,t!==null&&Ay(i,t),i=Wd(i,l.children),i.flags|=4096);return i}return h?(Wr(),T=l.fallback,h=i.mode,x=t.child,H=x.sibling,l=or(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,H!==null?T=or(H,T):(T=ea(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,Pl(null,l),l=i.child,T=t.child.memoizedState,T===null?T=Zd(a):(h=T.cachePool,h!==null?(x=Ot._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=xy(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=Jd(t,_,a),i.memoizedState=$d,Pl(t.child,l)):(Jr(i),a=t.child,t=a.sibling,a=or(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Wd(t,i){return i=Kc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Kc(t,i){return t=Vn(22,t,null,i),t.lanes=0,t}function em(t,i,a){return oa(i,t.child,null,a),t=Wd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function H_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),gd(t.return,i,a)}function tm(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function F_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=At.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,ae(At,_),tn(t,i,l,a),l=Fe?Al:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&H_(t,a,i);else if(t.tag===19)H_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&kc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),tm(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&kc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}tm(i,!0,a,null,d,l);break;case"together":tm(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function dr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),ns|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Za(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=or(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=or(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function nm(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Dc(t)))}function xA(t,i,a){switch(i.tag){case 3:qt(i,i.stateNode.containerInfo),Kr(i,Ot,t.memoizedState.cache),ta();break;case 27:case 5:zs(i);break;case 4:qt(i,i.stateNode.containerInfo);break;case 10:Kr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Cd(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Jr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?q_(t,i,a):(Jr(i),t=dr(t,i,a),t!==null?t.sibling:null);Jr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Za(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return F_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(At,At.current),l)break;return null;case 22:return i.lanes=0,k_(t,i,a,i.pendingProps);case 24:Kr(i,Ot,t.memoizedState.cache)}return dr(t,i,a)}function G_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Vt=!0;else{if(!nm(t,a)&&(i.flags&128)===0)return Vt=!1,xA(t,i,a);Vt=(t.flags&131072)!==0}else Vt=!1,Fe&&(i.flags&1048576)!==0&&Sy(i,Al,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=sa(i.elementType),i.type=t,typeof t=="function")od(t)?(l=ua(t,l),i.tag=1,i=j_(null,i,t,l,a)):(i.tag=0,i=Xd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===se){i.tag=11,i=M_(null,i,t,l,a);break e}else if(h===C){i.tag=14,i=V_(null,i,t,l,a);break e}}throw i=Ye(t)||t,Error(r(306,i,""))}}return i;case 0:return Xd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=ua(l,i.pendingProps),j_(t,i,l,h,a);case 3:e:{if(qt(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,bd(t,i),Ol(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Kr(i,Ot,l),l!==d.cache&&pd(i,[Ot],a,!0),Nl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=B_(t,i,l,a);break e}else if(l!==h){h=Xn(Error(r(424)),i),wl(h),i=B_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ct=ei(t.firstChild),Wt=i,Fe=!0,Yr=null,Jn=!0,a=ky(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ta(),l===h){i=dr(t,i,a);break e}tn(t,i,l,a)}i=i.child}return i;case 26:return Qc(t,i),t===null?(a=n0(i.type,null,i.pendingProps,null))?i.memoizedState=a:Fe||(a=i.type,t=i.pendingProps,l=ch(Ve.current).createElement(a),l[It]=i,l[Yt]=t,nn(l,a,t),xt(l),i.stateNode=l):i.memoizedState=n0(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return zs(i),t===null&&Fe&&(l=i.stateNode=Wv(i.type,i.pendingProps,Ve.current),Wt=i,Jn=!0,h=ct,os(i.type)?(zm=h,ct=ei(l.firstChild)):ct=h),tn(t,i,i.pendingProps.children,a),Qc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Fe&&((h=l=ct)&&(l=a1(l,i.type,i.pendingProps,Jn),l!==null?(i.stateNode=l,Wt=i,ct=ei(l.firstChild),Jn=!1,h=!0):h=!1),h||Qr(i)),zs(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,xm(h,d)?l=null:_!==null&&xm(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Id(t,i,TA,null,null,a),Jl._currentValue=h),Qc(t,i),tn(t,i,l,a),i.child;case 6:return t===null&&Fe&&((t=a=ct)&&(a=o1(a,i.pendingProps,Jn),a!==null?(i.stateNode=a,Wt=i,ct=null,t=!0):t=!1),t||Qr(i)),null;case 13:return q_(t,i,a);case 4:return qt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=oa(i,null,l,a):tn(t,i,l,a),i.child;case 11:return M_(t,i,i.type,i.pendingProps,a);case 7:return tn(t,i,i.pendingProps,a),i.child;case 8:return tn(t,i,i.pendingProps.children,a),i.child;case 12:return tn(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Kr(i,i.type,l.value),tn(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ia(i),h=en(h),l=l(h),i.flags|=1,tn(t,i,l,a),i.child;case 14:return V_(t,i,i.type,i.pendingProps,a);case 15:return z_(t,i,i.type,i.pendingProps,a);case 19:return F_(t,i,a);case 31:return IA(t,i,a);case 22:return k_(t,i,a,i.pendingProps);case 24:return ia(i),l=en(Ot),t===null?(h=vd(),h===null&&(h=lt,d=yd(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Td(i),Kr(i,Ot,h)):((t.lanes&a)!==0&&(bd(t,i),Ol(i,null,null,a),Nl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Kr(i,Ot,l)):(l=d.cache,Kr(i,Ot,l),l!==h.cache&&pd(i,[Ot],a,!0))),tn(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function mr(t){t.flags|=4}function im(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(_v())t.flags|=8192;else throw aa=Oc,Ed}else t.flags&=-16777217}function Y_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!o0(i))if(_v())t.flags|=8192;else throw aa=Oc,Ed}function Xc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?tc():536870912,t.lanes|=i,uo|=i)}function Ul(t,i){if(!Fe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ht(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function NA(t,i,a){var l=i.pendingProps;switch(hd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(i),null;case 1:return ht(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),cr(Ot),ft(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&($a(i)?mr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,dd())),ht(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(mr(i),d!==null?(ht(i),Y_(i,d)):(ht(i),im(i,h,null,l,a))):d?d!==t.memoizedState?(mr(i),ht(i),Y_(i,d)):(ht(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&mr(i),ht(i),im(i,h,t,l,a)),null;case 27:if(Da(i),a=Ve.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&mr(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return ht(i),null}t=de.current,$a(i)?wy(i):(t=Wv(h,l,a),i.stateNode=t,mr(i))}return ht(i),null;case 5:if(Da(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&mr(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return ht(i),null}if(d=de.current,$a(i))wy(i);else{var _=ch(Ve.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[It]=i,d[Yt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(nn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&mr(i)}}return ht(i),im(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&mr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=Ve.current,$a(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Wt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[It]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||qv(t.nodeValue,a)),t||Qr(i,!0)}else t=ch(t).createTextNode(l),t[It]=i,i.stateNode=t}return ht(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=$a(i),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[It]=i}else ta(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ht(i),t=!1}else a=dd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(kn(i),i):(kn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return ht(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=$a(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[It]=i}else ta(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ht(i),h=!1}else h=dd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(kn(i),i):(kn(i),null)}return kn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Xc(i,i.updateQueue),ht(i),null);case 4:return ft(),t===null&&wm(i.stateNode.containerInfo),ht(i),null;case 10:return cr(i.type),ht(i),null;case 19:if(Z(At),l=i.memoizedState,l===null)return ht(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)Ul(l,!1);else{if(vt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=kc(t),d!==null){for(i.flags|=128,Ul(l,!1),t=d.updateQueue,i.updateQueue=t,Xc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Ey(a,t),a=a.sibling;return ae(At,At.current&1|2),Fe&&lr(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&mn()>eh&&(i.flags|=128,h=!0,Ul(l,!1),i.lanes=4194304)}else{if(!h)if(t=kc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Xc(i,t),Ul(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Fe)return ht(i),null}else 2*mn()-l.renderingStartTime>eh&&a!==536870912&&(i.flags|=128,h=!0,Ul(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=mn(),t.sibling=null,a=At.current,ae(At,h?a&1|2:a&1),Fe&&lr(i,l.treeForkCount),t):(ht(i),null);case 22:case 23:return kn(i),Rd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ht(i),i.subtreeFlags&6&&(i.flags|=8192)):ht(i),a=i.updateQueue,a!==null&&Xc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&Z(ra),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),cr(Ot),ht(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function OA(t,i){switch(hd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return cr(Ot),ft(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Da(i),null;case 31:if(i.memoizedState!==null){if(kn(i),i.alternate===null)throw Error(r(340));ta()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(kn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));ta()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Z(At),null;case 4:return ft(),null;case 10:return cr(i.type),null;case 22:case 23:return kn(i),Rd(),t!==null&&Z(ra),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return cr(Ot),null;case 25:return null;default:return null}}function Q_(t,i){switch(hd(i),i.tag){case 3:cr(Ot),ft();break;case 26:case 27:case 5:Da(i);break;case 4:ft();break;case 31:i.memoizedState!==null&&kn(i);break;case 13:kn(i);break;case 19:Z(At);break;case 10:cr(i.type);break;case 22:case 23:kn(i),Rd(),t!==null&&Z(ra);break;case 24:cr(Ot)}}function Ll(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){it(i,i.return,T)}}function es(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var x=a,H=T;try{H()}catch(X){it(h,x,X)}}}l=l.next}while(l!==d)}}catch(X){it(i,i.return,X)}}function K_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Uy(i,a)}catch(l){it(t,t.return,l)}}}function X_(t,i,a){a.props=ua(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){it(t,i,l)}}function jl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){it(t,i,h)}}function Hi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){it(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){it(t,i,h)}else a.current=null}function $_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){it(t,t.return,h)}}function rm(t,i,a){try{var l=t.stateNode;e1(l,t.type,a,i),l[Yt]=i}catch(h){it(t,t.return,h)}}function Z_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&os(t.type)||t.tag===4}function sm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Z_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&os(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function am(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ui));else if(l!==4&&(l===27&&os(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(am(t,i,a),t=t.sibling;t!==null;)am(t,i,a),t=t.sibling}function $c(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&os(t.type)&&(a=t.stateNode),t=t.child,t!==null))for($c(t,i,a),t=t.sibling;t!==null;)$c(t,i,a),t=t.sibling}function J_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);nn(i,l,a),i[It]=t,i[Yt]=a}catch(d){it(t,t.return,d)}}var gr=!1,zt=!1,om=!1,W_=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function MA(t,i){if(t=t.containerInfo,Dm=yh,t=hy(t),ed(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,x=-1,H=0,X=0,ee=t,F=null;t:for(;;){for(var Q;ee!==a||h!==0&&ee.nodeType!==3||(T=_+h),ee!==d||l!==0&&ee.nodeType!==3||(x=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(Q=ee.firstChild)!==null;)F=ee,ee=Q;for(;;){if(ee===t)break t;if(F===a&&++H===h&&(T=_),F===d&&++X===l&&(x=_),(Q=ee.nextSibling)!==null)break;ee=F,F=ee.parentNode}ee=Q}a=T===-1||x===-1?null:{start:T,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(Im={focusedElem:t,selectionRange:a},yh=!1,Kt=i;Kt!==null;)if(i=Kt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Kt=t;else for(;Kt!==null;){switch(i=Kt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var me=ua(a.type,h);t=l.getSnapshotBeforeUpdate(me,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(be){it(a,a.return,be)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Om(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Om(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Kt=t;break}Kt=i.return}}function ev(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:yr(t,a),l&4&&Ll(5,a);break;case 1:if(yr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){it(a,a.return,_)}else{var h=ua(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){it(a,a.return,_)}}l&64&&K_(a),l&512&&jl(a,a.return);break;case 3:if(yr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Uy(t,i)}catch(_){it(a,a.return,_)}}break;case 27:i===null&&l&4&&J_(a);case 26:case 5:yr(t,a),i===null&&l&4&&$_(a),l&512&&jl(a,a.return);break;case 12:yr(t,a);break;case 31:yr(t,a),l&4&&iv(t,a);break;case 13:yr(t,a),l&4&&rv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=qA.bind(null,a),l1(t,a))));break;case 22:if(l=a.memoizedState!==null||gr,!l){i=i!==null&&i.memoizedState!==null||zt,h=gr;var d=zt;gr=l,(zt=i)&&!d?_r(t,a,(a.subtreeFlags&8772)!==0):yr(t,a),gr=h,zt=d}break;case 30:break;default:yr(t,a)}}function tv(t){var i=t.alternate;i!==null&&(t.alternate=null,tv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ma(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var mt=null,bn=!1;function pr(t,i,a){for(a=a.child;a!==null;)nv(t,i,a),a=a.sibling}function nv(t,i,a){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(si,a)}catch{}switch(a.tag){case 26:zt||Hi(a,i),pr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:zt||Hi(a,i);var l=mt,h=bn;os(a.type)&&(mt=a.stateNode,bn=!1),pr(t,i,a),Xl(a.stateNode),mt=l,bn=h;break;case 5:zt||Hi(a,i);case 6:if(l=mt,h=bn,mt=null,pr(t,i,a),mt=l,bn=h,mt!==null)if(bn)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(a.stateNode)}catch(d){it(a,i,d)}else try{mt.removeChild(a.stateNode)}catch(d){it(a,i,d)}break;case 18:mt!==null&&(bn?(t=mt,Kv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),_o(t)):Kv(mt,a.stateNode));break;case 4:l=mt,h=bn,mt=a.stateNode.containerInfo,bn=!0,pr(t,i,a),mt=l,bn=h;break;case 0:case 11:case 14:case 15:es(2,a,i),zt||es(4,a,i),pr(t,i,a);break;case 1:zt||(Hi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&X_(a,i,l)),pr(t,i,a);break;case 21:pr(t,i,a);break;case 22:zt=(l=zt)||a.memoizedState!==null,pr(t,i,a),zt=l;break;default:pr(t,i,a)}}function iv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{_o(t)}catch(a){it(i,i.return,a)}}}function rv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{_o(t)}catch(a){it(i,i.return,a)}}function VA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new W_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new W_),i;default:throw Error(r(435,t.tag))}}function Zc(t,i){var a=VA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=HA.bind(null,t,l);l.then(h,h)}})}function Sn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(os(T.type)){mt=T.stateNode,bn=!1;break e}break;case 5:mt=T.stateNode,bn=!1;break e;case 3:case 4:mt=T.stateNode.containerInfo,bn=!0;break e}T=T.return}if(mt===null)throw Error(r(160));nv(d,_,h),mt=null,bn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)sv(i,t),i=i.sibling}var gi=null;function sv(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Sn(i,t),An(t),l&4&&(es(3,t,t.return),Ll(3,t),es(5,t,t.return));break;case 1:Sn(i,t),An(t),l&512&&(zt||a===null||Hi(a,a.return)),l&64&&gr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=gi;if(Sn(i,t),An(t),l&512&&(zt||a===null||Hi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ii]||d[It]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),nn(d,l,a),d[It]=t,xt(d),l=d;break e;case"link":var _=s0("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),nn(d,l,a),h.head.appendChild(d);break;case"meta":if(_=s0("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),nn(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[It]=t,xt(d),l=d}t.stateNode=l}else a0(h,t.type,t.stateNode);else t.stateNode=r0(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?a0(h,t.type,t.stateNode):r0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&rm(t,t.memoizedProps,a.memoizedProps)}break;case 27:Sn(i,t),An(t),l&512&&(zt||a===null||Hi(a,a.return)),a!==null&&l&4&&rm(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Sn(i,t),An(t),l&512&&(zt||a===null||Hi(a,a.return)),t.flags&32){h=t.stateNode;try{Tn(h,"")}catch(me){it(t,t.return,me)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,rm(t,h,a!==null?a.memoizedProps:h)),l&1024&&(om=!0);break;case 6:if(Sn(i,t),An(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(me){it(t,t.return,me)}}break;case 3:if(dh=null,h=gi,gi=hh(i.containerInfo),Sn(i,t),gi=h,An(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{_o(i.containerInfo)}catch(me){it(t,t.return,me)}om&&(om=!1,av(t));break;case 4:l=gi,gi=hh(t.stateNode.containerInfo),Sn(i,t),An(t),gi=l;break;case 12:Sn(i,t),An(t);break;case 31:Sn(i,t),An(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Zc(t,l)));break;case 13:Sn(i,t),An(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Wc=mn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Zc(t,l)));break;case 22:h=t.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,H=gr,X=zt;if(gr=H||h,zt=X||x,Sn(i,t),zt=X,gr=H,An(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||x||gr||zt||ca(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){x=a=i;try{if(d=x.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=x.stateNode;var ee=x.memoizedProps.style,F=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(me){it(x,x.return,me)}}}else if(i.tag===6){if(a===null){x=i;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(me){it(x,x.return,me)}}}else if(i.tag===18){if(a===null){x=i;try{var Q=x.stateNode;h?Xv(Q,!0):Xv(x.stateNode,!1)}catch(me){it(x,x.return,me)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Zc(t,a))));break;case 19:Sn(i,t),An(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Zc(t,l)));break;case 30:break;case 21:break;default:Sn(i,t),An(t)}}function An(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Z_(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=sm(t);$c(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(Tn(_,""),a.flags&=-33);var T=sm(t);$c(t,T,_);break;case 3:case 4:var x=a.stateNode.containerInfo,H=sm(t);am(t,H,x);break;default:throw Error(r(161))}}catch(X){it(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function av(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;av(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function yr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ev(t,i.alternate,i),i=i.sibling}function ca(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:es(4,i,i.return),ca(i);break;case 1:Hi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&X_(i,i.return,a),ca(i);break;case 27:Xl(i.stateNode);case 26:case 5:Hi(i,i.return),ca(i);break;case 22:i.memoizedState===null&&ca(i);break;case 30:ca(i);break;default:ca(i)}t=t.sibling}}function _r(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:_r(h,d,a),Ll(4,d);break;case 1:if(_r(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){it(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Py(x[h],T)}catch(H){it(l,l.return,H)}}a&&_&64&&K_(d),jl(d,d.return);break;case 27:J_(d);case 26:case 5:_r(h,d,a),a&&l===null&&_&4&&$_(d),jl(d,d.return);break;case 12:_r(h,d,a);break;case 31:_r(h,d,a),a&&_&4&&iv(h,d);break;case 13:_r(h,d,a),a&&_&4&&rv(h,d);break;case 22:d.memoizedState===null&&_r(h,d,a),jl(d,d.return);break;case 30:break;default:_r(h,d,a)}i=i.sibling}}function lm(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Rl(a))}function um(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Rl(t))}function pi(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ov(t,i,a,l),i=i.sibling}function ov(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:pi(t,i,a,l),h&2048&&Ll(9,i);break;case 1:pi(t,i,a,l);break;case 3:pi(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Rl(t)));break;case 12:if(h&2048){pi(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){it(i,i.return,x)}}else pi(t,i,a,l);break;case 31:pi(t,i,a,l);break;case 13:pi(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?pi(t,i,a,l):Bl(t,i):d._visibility&2?pi(t,i,a,l):(d._visibility|=2,ao(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&lm(_,i);break;case 24:pi(t,i,a,l),h&2048&&um(i.alternate,i);break;default:pi(t,i,a,l)}}function ao(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,T=a,x=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:ao(d,_,T,x,h),Ll(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?ao(d,_,T,x,h):Bl(d,_):(X._visibility|=2,ao(d,_,T,x,h)),h&&H&2048&&lm(_.alternate,_);break;case 24:ao(d,_,T,x,h),h&&H&2048&&um(_.alternate,_);break;default:ao(d,_,T,x,h)}i=i.sibling}}function Bl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Bl(a,l),h&2048&&lm(l.alternate,l);break;case 24:Bl(a,l),h&2048&&um(l.alternate,l);break;default:Bl(a,l)}i=i.sibling}}var ql=8192;function oo(t,i,a){if(t.subtreeFlags&ql)for(t=t.child;t!==null;)lv(t,i,a),t=t.sibling}function lv(t,i,a){switch(t.tag){case 26:oo(t,i,a),t.flags&ql&&t.memoizedState!==null&&E1(a,gi,t.memoizedState,t.memoizedProps);break;case 5:oo(t,i,a);break;case 3:case 4:var l=gi;gi=hh(t.stateNode.containerInfo),oo(t,i,a),gi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ql,ql=16777216,oo(t,i,a),ql=l):oo(t,i,a));break;default:oo(t,i,a)}}function uv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Hl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Kt=l,hv(l,t)}uv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)cv(t),t=t.sibling}function cv(t){switch(t.tag){case 0:case 11:case 15:Hl(t),t.flags&2048&&es(9,t,t.return);break;case 3:Hl(t);break;case 12:Hl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Jc(t)):Hl(t);break;default:Hl(t)}}function Jc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Kt=l,hv(l,t)}uv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:es(8,i,i.return),Jc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Jc(i));break;default:Jc(i)}t=t.sibling}}function hv(t,i){for(;Kt!==null;){var a=Kt;switch(a.tag){case 0:case 11:case 15:es(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Rl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Kt=l;else e:for(a=t;Kt!==null;){l=Kt;var h=l.sibling,d=l.return;if(tv(l),l===a){Kt=null;break e}if(h!==null){h.return=d,Kt=h;break e}Kt=d}}}var zA={getCacheForType:function(t){var i=en(Ot),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return en(Ot).controller.signal}},kA=typeof WeakMap=="function"?WeakMap:Map,Je=0,lt=null,ke=null,Ue=0,nt=0,Pn=null,ts=!1,lo=!1,cm=!1,vr=0,vt=0,ns=0,ha=0,hm=0,Un=0,uo=0,Fl=null,wn=null,fm=!1,Wc=0,fv=0,eh=1/0,th=null,is=null,Ft=0,rs=null,co=null,Er=0,dm=0,mm=null,dv=null,Gl=0,gm=null;function Ln(){return(Je&2)!==0&&Ue!==0?Ue&-Ue:U.T!==null?Tm():nc()}function mv(){if(Un===0)if((Ue&536870912)===0||Fe){var t=Us;Us<<=1,(Us&3932160)===0&&(Us=262144),Un=t}else Un=536870912;return t=zn.current,t!==null&&(t.flags|=32),Un}function Rn(t,i,a){(t===lt&&(nt===2||nt===9)||t.cancelPendingCommit!==null)&&(ho(t,0),ss(t,Ue,Un,!1)),Ls(t,a),((Je&2)===0||t!==lt)&&(t===lt&&((Je&2)===0&&(ha|=a),vt===4&&ss(t,Ue,Un,!1)),Fi(t))}function gv(t,i,a){if((Je&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||ai(t,i),h=l?LA(t,i):ym(t,i,!0),d=l;do{if(h===0){lo&&!l&&ss(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!PA(a)){h=ym(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=Fl;var x=T.current.memoizedState.isDehydrated;if(x&&(ho(T,_).flags|=256),_=ym(T,_,!1),_!==2){if(cm&&!x){T.errorRecoveryDisabledLanes|=d,ha|=d,h=4;break e}d=wn,wn=h,d!==null&&(wn===null?wn=d:wn.push.apply(wn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){ho(t,0),ss(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:ss(l,i,Un,!ts);break e;case 2:wn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=Wc+300-mn(),10<h)){if(ss(l,i,Un,!ts),Ri(l,0,!0)!==0)break e;Er=i,l.timeoutHandle=Yv(pv.bind(null,l,a,wn,th,fm,i,Un,ha,uo,ts,d,"Throttled",-0,0),h);break e}pv(l,a,wn,th,fm,i,Un,ha,uo,ts,d,null,-0,0)}}break}while(!0);Fi(t)}function pv(t,i,a,l,h,d,_,T,x,H,X,ee,F,Q){if(t.timeoutHandle=-1,ee=i.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ui},lv(i,d,ee);var me=(d&62914560)===d?Wc-mn():(d&4194048)===d?fv-mn():0;if(me=T1(ee,me),me!==null){Er=d,t.cancelPendingCommit=me(Av.bind(null,t,i,d,a,l,h,_,T,x,X,ee,null,F,Q)),ss(t,d,_,!H);return}}Av(t,i,d,a,l,h,_,T,x)}function PA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Mn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ss(t,i,a,l){i&=~hm,i&=~ha,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-bt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&js(t,a,i)}function nh(){return(Je&6)===0?(Yl(0),!1):!0}function pm(){if(ke!==null){if(nt===0)var t=ke.return;else t=ke,ur=na=null,Od(t),to=null,Dl=0,t=ke;for(;t!==null;)Q_(t.alternate,t),t=t.return;ke=null}}function ho(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,i1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Er=0,pm(),lt=t,ke=a=or(t.current,null),Ue=i,nt=0,Pn=null,ts=!1,lo=ai(t,i),cm=!1,uo=Un=hm=ha=ns=vt=0,wn=Fl=null,fm=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-bt(l),d=1<<h;i|=t[h],l&=~d}return vr=i,Sc(),a}function yv(t,i){Me=null,U.H=kl,i===eo||i===Nc?(i=My(),nt=3):i===Ed?(i=My(),nt=4):nt=i===Kd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Pn=i,ke===null&&(vt=1,Gc(t,Xn(i,t.current)))}function _v(){var t=zn.current;return t===null?!0:(Ue&4194048)===Ue?Wn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?t===Wn:!1}function vv(){var t=U.H;return U.H=kl,t===null?kl:t}function Ev(){var t=U.A;return U.A=zA,t}function ih(){vt=4,ts||(Ue&4194048)!==Ue&&zn.current!==null||(lo=!0),(ns&134217727)===0&&(ha&134217727)===0||lt===null||ss(lt,Ue,Un,!1)}function ym(t,i,a){var l=Je;Je|=2;var h=vv(),d=Ev();(lt!==t||Ue!==i)&&(th=null,ho(t,i)),i=!1;var _=vt;e:do try{if(nt!==0&&ke!==null){var T=ke,x=Pn;switch(nt){case 8:pm(),_=6;break e;case 3:case 2:case 9:case 6:zn.current===null&&(i=!0);var H=nt;if(nt=0,Pn=null,fo(t,T,x,H),a&&lo){_=0;break e}break;default:H=nt,nt=0,Pn=null,fo(t,T,x,H)}}UA(),_=vt;break}catch(X){yv(t,X)}while(!0);return i&&t.shellSuspendCounter++,ur=na=null,Je=l,U.H=h,U.A=d,ke===null&&(lt=null,Ue=0,Sc()),_}function UA(){for(;ke!==null;)Tv(ke)}function LA(t,i){var a=Je;Je|=2;var l=vv(),h=Ev();lt!==t||Ue!==i?(th=null,eh=mn()+500,ho(t,i)):lo=ai(t,i);e:do try{if(nt!==0&&ke!==null){i=ke;var d=Pn;t:switch(nt){case 1:nt=0,Pn=null,fo(t,i,d,1);break;case 2:case 9:if(Ny(d)){nt=0,Pn=null,bv(i);break}i=function(){nt!==2&&nt!==9||lt!==t||(nt=7),Fi(t)},d.then(i,i);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:Ny(d)?(nt=0,Pn=null,bv(i)):(nt=0,Pn=null,fo(t,i,d,7));break;case 5:var _=null;switch(ke.tag){case 26:_=ke.memoizedState;case 5:case 27:var T=ke;if(_?o0(_):T.stateNode.complete){nt=0,Pn=null;var x=T.sibling;if(x!==null)ke=x;else{var H=T.return;H!==null?(ke=H,rh(H)):ke=null}break t}}nt=0,Pn=null,fo(t,i,d,5);break;case 6:nt=0,Pn=null,fo(t,i,d,6);break;case 8:pm(),vt=6;break e;default:throw Error(r(462))}}jA();break}catch(X){yv(t,X)}while(!0);return ur=na=null,U.H=l,U.A=h,Je=a,ke!==null?0:(lt=null,Ue=0,Sc(),vt)}function jA(){for(;ke!==null&&!Qf();)Tv(ke)}function Tv(t){var i=G_(t.alternate,t,vr);t.memoizedProps=t.pendingProps,i===null?rh(t):ke=i}function bv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=L_(a,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=L_(a,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:Od(i);default:Q_(a,i),i=ke=Ey(i,vr),i=G_(a,i,vr)}t.memoizedProps=t.pendingProps,i===null?rh(t):ke=i}function fo(t,i,a,l){ur=na=null,Od(i),to=null,Dl=0;var h=i.return;try{if(DA(t,h,i,a,Ue)){vt=1,Gc(t,Xn(a,t.current)),ke=null;return}}catch(d){if(h!==null)throw ke=h,d;vt=1,Gc(t,Xn(a,t.current)),ke=null;return}i.flags&32768?(Fe||l===1?t=!0:lo||(Ue&536870912)!==0?t=!1:(ts=t=!0,(l===2||l===9||l===3||l===6)&&(l=zn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Sv(i,t)):rh(i)}function rh(t){var i=t;do{if((i.flags&32768)!==0){Sv(i,ts);return}t=i.return;var a=NA(i.alternate,i,vr);if(a!==null){ke=a;return}if(i=i.sibling,i!==null){ke=i;return}ke=i=t}while(i!==null);vt===0&&(vt=5)}function Sv(t,i){do{var a=OA(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);vt=6,ke=null}function Av(t,i,a,l,h,d,_,T,x){t.cancelPendingCommit=null;do sh();while(Ft!==0);if((Je&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=sd,$f(t,a,d,_,T,x),t===lt&&(ke=lt=null,Ue=0),co=i,rs=t,Er=a,dm=d,mm=h,dv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,FA(zr,function(){return Iv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=U.T,U.T=null,h=ne.p,ne.p=2,_=Je,Je|=4;try{MA(t,i,a)}finally{Je=_,ne.p=h,U.T=l}}Ft=1,wv(),Rv(),Cv()}}function wv(){if(Ft===1){Ft=0;var t=rs,i=co,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var l=ne.p;ne.p=2;var h=Je;Je|=4;try{sv(i,t);var d=Im,_=hy(t.containerInfo),T=d.focusedElem,x=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&cy(T.ownerDocument.documentElement,T)){if(x!==null&&ed(T)){var H=x.start,X=x.end;if(X===void 0&&(X=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(X,T.value.length);else{var ee=T.ownerDocument||document,F=ee&&ee.defaultView||window;if(F.getSelection){var Q=F.getSelection(),me=T.textContent.length,be=Math.min(x.start,me),ot=x.end===void 0?be:Math.min(x.end,me);!Q.extend&&be>ot&&(_=ot,ot=be,be=_);var P=uy(T,be),V=uy(T,ot);if(P&&V&&(Q.rangeCount!==1||Q.anchorNode!==P.node||Q.anchorOffset!==P.offset||Q.focusNode!==V.node||Q.focusOffset!==V.offset)){var q=ee.createRange();q.setStart(P.node,P.offset),Q.removeAllRanges(),be>ot?(Q.addRange(q),Q.extend(V.node,V.offset)):(q.setEnd(V.node,V.offset),Q.addRange(q))}}}}for(ee=[],Q=T;Q=Q.parentNode;)Q.nodeType===1&&ee.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var J=ee[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}yh=!!Dm,Im=Dm=null}finally{Je=h,ne.p=l,U.T=a}}t.current=i,Ft=2}}function Rv(){if(Ft===2){Ft=0;var t=rs,i=co,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var l=ne.p;ne.p=2;var h=Je;Je|=4;try{ev(t,i.alternate,i)}finally{Je=h,ne.p=l,U.T=a}}Ft=3}}function Cv(){if(Ft===4||Ft===3){Ft=0,Xu();var t=rs,i=co,a=Er,l=dv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ft=5:(Ft=0,co=rs=null,Dv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(is=null),ir(a),i=i.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(si,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=U.T,h=ne.p,ne.p=2,U.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{U.T=i,ne.p=h}}(Er&3)!==0&&sh(),Fi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===gm?Gl++:(Gl=0,gm=t):Gl=0,Yl(0)}}function Dv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Rl(i)))}function sh(){return wv(),Rv(),Cv(),Iv()}function Iv(){if(Ft!==5)return!1;var t=rs,i=dm;dm=0;var a=ir(Er),l=U.T,h=ne.p;try{ne.p=32>a?32:a,U.T=null,a=mm,mm=null;var d=rs,_=Er;if(Ft=0,co=rs=null,Er=0,(Je&6)!==0)throw Error(r(331));var T=Je;if(Je|=4,cv(d.current),ov(d,d.current,_,a),Je=T,Yl(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(si,d)}catch{}return!0}finally{ne.p=h,U.T=l,Dv(t,i)}}function xv(t,i,a){i=Xn(a,i),i=Qd(t.stateNode,i,2),t=Zr(t,i,2),t!==null&&(Ls(t,2),Fi(t))}function it(t,i,a){if(t.tag===3)xv(t,t,a);else for(;i!==null;){if(i.tag===3){xv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(is===null||!is.has(l))){t=Xn(a,t),a=N_(2),l=Zr(i,a,2),l!==null&&(O_(a,l,i,t),Ls(l,2),Fi(l));break}}i=i.return}}function _m(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new kA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(cm=!0,h.add(a),t=BA.bind(null,t,i,a),i.then(t,t))}function BA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,lt===t&&(Ue&a)===a&&(vt===4||vt===3&&(Ue&62914560)===Ue&&300>mn()-Wc?(Je&2)===0&&ho(t,0):hm|=a,uo===Ue&&(uo=0)),Fi(t)}function Nv(t,i){i===0&&(i=tc()),t=Ws(t,i),t!==null&&(Ls(t,i),Fi(t))}function qA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Nv(t,a)}function HA(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),Nv(t,a)}function FA(t,i){return Ht(t,i)}var ah=null,mo=null,vm=!1,oh=!1,Em=!1,as=0;function Fi(t){t!==mo&&t.next===null&&(mo===null?ah=mo=t:mo=mo.next=t),oh=!0,vm||(vm=!0,YA())}function Yl(t,i){if(!Em&&oh){Em=!0;do for(var a=!1,l=ah;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-bt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,zv(l,d))}else d=Ue,d=Ri(l,l===lt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ai(l,d)||(a=!0,zv(l,d));l=l.next}while(a);Em=!1}}function GA(){Ov()}function Ov(){oh=vm=!1;var t=0;as!==0&&n1()&&(t=as);for(var i=mn(),a=null,l=ah;l!==null;){var h=l.next,d=Mv(l,i);d===0?(l.next=null,a===null?ah=h:a.next=h,h===null&&(mo=a)):(a=l,(t!==0||(d&3)!==0)&&(oh=!0)),l=h}Ft!==0&&Ft!==5||Yl(t),as!==0&&(as=0)}function Mv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-bt(d),T=1<<_,x=h[_];x===-1?((T&a)===0||(T&l)!==0)&&(h[_]=Xf(T,i)):x<=i&&(t.expiredLanes|=T),d&=~T}if(i=lt,a=Ue,a=Ri(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(nt===2||nt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Vr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ai(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Vr(l),ir(a)){case 2:case 8:a=nl;break;case 32:a=zr;break;case 268435456:a=$u;break;default:a=zr}return l=Vv.bind(null,t),a=Ht(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Vr(l),t.callbackPriority=2,t.callbackNode=null,2}function Vv(t,i){if(Ft!==0&&Ft!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(sh()&&t.callbackNode!==a)return null;var l=Ue;return l=Ri(t,t===lt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(gv(t,l,i),Mv(t,mn()),t.callbackNode!=null&&t.callbackNode===a?Vv.bind(null,t):null)}function zv(t,i){if(sh())return null;gv(t,i,!0)}function YA(){r1(function(){(Je&6)!==0?Ht(tl,GA):Ov()})}function Tm(){if(as===0){var t=Ja;t===0&&(t=Ai,Ai<<=1,(Ai&261888)===0&&(Ai=256)),as=t}return as}function kv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Pa(""+t)}function Pv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function QA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=kv((h[Yt]||null).action),_=l.submitter;_&&(i=(i=_[Yt]||null)?kv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new Pi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(as!==0){var x=_?Pv(h,_):new FormData(h);Bd(a,{pending:!0,data:x,method:h.method,action:d},null,x)}}else typeof d=="function"&&(T.preventDefault(),x=_?Pv(h,_):new FormData(h),Bd(a,{pending:!0,data:x,method:h.method,action:d},d,x))},currentTarget:h}]})}}for(var bm=0;bm<rd.length;bm++){var Sm=rd[bm],KA=Sm.toLowerCase(),XA=Sm[0].toUpperCase()+Sm.slice(1);mi(KA,"on"+XA)}mi(my,"onAnimationEnd"),mi(gy,"onAnimationIteration"),mi(py,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(hA,"onTransitionRun"),mi(fA,"onTransitionStart"),mi(dA,"onTransitionCancel"),mi(yy,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$A=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ql));function Uv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],x=T.instance,H=T.currentTarget;if(T=T.listener,x!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(X){bc(X)}h.currentTarget=null,d=x}else for(_=0;_<l.length;_++){if(T=l[_],x=T.instance,H=T.currentTarget,T=T.listener,x!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(X){bc(X)}h.currentTarget=null,d=x}}}}function Pe(t,i){var a=i[Oa];a===void 0&&(a=i[Oa]=new Set);var l=t+"__bubble";a.has(l)||(Lv(i,t,2,!1),a.add(l))}function Am(t,i,a){var l=0;i&&(l|=4),Lv(a,t,l,i)}var lh="_reactListening"+Math.random().toString(36).slice(2);function wm(t){if(!t[lh]){t[lh]=!0,sl.forEach(function(a){a!=="selectionchange"&&($A.has(a)||Am(a,!1,t),Am(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[lh]||(i[lh]=!0,Am("selectionchange",!1,i))}}function Lv(t,i,a,l){switch(m0(i)){case 2:var h=A1;break;case 8:h=w1;break;default:h=jm}a=h.bind(null,i,a,t),h=void 0,!Gs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Rm(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var x=_.tag;if((x===3||x===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=xi(T),_===null)return;if(x=_.tag,x===5||x===6||x===26||x===27){l=d=_;continue e}T=T.parentNode}}l=l.return}Br(function(){var H=d,X=Gn(a),ee=[];e:{var F=_y.get(t);if(F!==void 0){var Q=Pi,me=t;switch(t){case"keypress":if(Qs(a)===0)break e;case"keydown":case"keyup":Q=vc;break;case"focusin":me="focus",Q=Xs;break;case"focusout":me="blur",Q=Xs;break;case"beforeblur":case"afterblur":Q=Xs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=_l;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=g;break;case my:case gy:case py:Q=fc;break;case yy:Q=S;break;case"scroll":case"scrollend":Q=yl;break;case"wheel":Q=G;break;case"copy":case"cut":case"paste":Q=dc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=ar;break;case"toggle":case"beforetoggle":Q=Oe}var be=(i&4)!==0,ot=!be&&(t==="scroll"||t==="scrollend"),P=be?F!==null?F+"Capture":null:F;be=[];for(var V=H,q;V!==null;){var J=V;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||P===null||(J=ci(V,P),J!=null&&be.push(Kl(V,J,q))),ot)break;V=V.return}0<be.length&&(F=new Q(F,me,null,a,X),ee.push({event:F,listeners:be}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",F&&a!==ml&&(me=a.relatedTarget||a.fromElement)&&(xi(me)||me[Di]))break e;if((Q||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,Q?(me=a.relatedTarget||a.toElement,Q=H,me=me?xi(me):null,me!==null&&(ot=u(me),be=me.tag,me!==ot||be!==5&&be!==27&&be!==6)&&(me=null)):(Q=null,me=H),Q!==me)){if(be=_l,J="onMouseLeave",P="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(be=ar,J="onPointerLeave",P="onPointerEnter",V="pointer"),ot=Q==null?F:Nn(Q),q=me==null?F:Nn(me),F=new be(J,V+"leave",Q,a,X),F.target=ot,F.relatedTarget=q,J=null,xi(X)===H&&(be=new be(P,V+"enter",me,a,X),be.target=q,be.relatedTarget=ot,J=be),ot=J,Q&&me)t:{for(be=ZA,P=Q,V=me,q=0,J=P;J;J=be(J))q++;J=0;for(var Ee=V;Ee;Ee=be(Ee))J++;for(;0<q-J;)P=be(P),q--;for(;0<J-q;)V=be(V),J--;for(;q--;){if(P===V||V!==null&&P===V.alternate){be=P;break t}P=be(P),V=be(V)}be=null}else be=null;Q!==null&&jv(ee,F,Q,be,!1),me!==null&&ot!==null&&jv(ee,ot,me,be,!0)}}e:{if(F=H?Nn(H):window,Q=F.nodeName&&F.nodeName.toLowerCase(),Q==="select"||Q==="input"&&F.type==="file")var Xe=iy;else if(ty(F))if(ry)Xe=lA;else{Xe=aA;var ge=sA}else Q=F.nodeName,!Q||Q.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&ka(H.elementType)&&(Xe=iy):Xe=oA;if(Xe&&(Xe=Xe(t,H))){ny(ee,Xe,a,X);break e}ge&&ge(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&hl(F,"number",F.value)}switch(ge=H?Nn(H):window,t){case"focusin":(ty(ge)||ge.contentEditable==="true")&&(Fa=ge,td=H,Sl=null);break;case"focusout":Sl=td=Fa=null;break;case"mousedown":nd=!0;break;case"contextmenu":case"mouseup":case"dragend":nd=!1,fy(ee,a,X);break;case"selectionchange":if(cA)break;case"keydown":case"keyup":fy(ee,a,X)}var ze;if(Ze)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Ha?$s(t,a)&&(Le="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Le="onCompositionStart");Le&&(ji&&a.locale!=="ko"&&(Ha||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Ha&&(ze=pl()):(ki=X,gl="value"in ki?ki.value:ki.textContent,Ha=!0)),ge=uh(H,Le),0<ge.length&&(Le=new Li(Le,t,null,a,X),ee.push({event:Le,listeners:ge}),ze?Le.data=ze:(ze=qa(a),ze!==null&&(Le.data=ze)))),(ze=Qn?tA(t,a):nA(t,a))&&(Le=uh(H,"onBeforeInput"),0<Le.length&&(ge=new Li("onBeforeInput","beforeinput",null,a,X),ee.push({event:ge,listeners:Le}),ge.data=ze)),QA(ee,t,H,a,X)}Uv(ee,i)})}function Kl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function uh(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ci(t,a),h!=null&&l.unshift(Kl(t,h,d)),h=ci(t,i),h!=null&&l.push(Kl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function ZA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function jv(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,x=T.alternate,H=T.stateNode;if(T=T.tag,x!==null&&x===l)break;T!==5&&T!==26&&T!==27||H===null||(x=H,h?(H=ci(a,d),H!=null&&_.unshift(Kl(a,H,x))):h||(H=ci(a,d),H!=null&&_.push(Kl(a,H,x)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var JA=/\r\n?/g,WA=/\u0000|\uFFFD/g;function Bv(t){return(typeof t=="string"?t:""+t).replace(JA,`
`).replace(WA,"")}function qv(t,i){return i=Bv(i),Bv(t)===i}function at(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Tn(t,""+l);break;case"className":On(t,"class",l);break;case"tabIndex":On(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":On(t,a,l);break;case"style":dl(t,l,d);break;case"data":if(i!=="object"){On(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Pa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&at(t,i,"name",h.name,h,null),at(t,i,"formEncType",h.formEncType,h,null),at(t,i,"formMethod",h.formMethod,h,null),at(t,i,"formTarget",h.formTarget,h,null)):(at(t,i,"encType",h.encType,h,null),at(t,i,"method",h.method,h,null),at(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Pa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ui);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Pa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),Va(t,"popover",l);break;case"xlinkActuate":Nt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Nt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Nt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Nt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Nt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Nt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Va(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=uc.get(a)||a,Va(t,a,l))}}function Cm(t,i,a,l,h,d){switch(a){case"style":dl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&Tn(t,""+l);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!al.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Yt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Va(t,a,l)}}}function nn(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:at(t,i,d,_,a,null)}}h&&at(t,i,"srcSet",a.srcSet,a,null),l&&at(t,i,"src",a.src,a,null);return;case"input":Pe("invalid",t);var T=d=_=h=null,x=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":_=X;break;case"checked":x=X;break;case"defaultChecked":H=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,i));break;default:at(t,i,l,X,a,null)}}ac(t,d,T,x,H,_,h,!1);return;case"select":Pe("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:at(t,i,h,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Pr(t,!!l,i,!1):a!=null&&Pr(t,!!l,a,!0);return;case"textarea":Pe("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:at(t,i,_,T,a,null)}Ur(t,l,h,d);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:at(t,i,x,l,a,null)}return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(l=0;l<Ql.length;l++)Pe(Ql[l],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:at(t,i,H,l,a,null)}return;default:if(ka(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Cm(t,i,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&at(t,i,T,l,a,null))}function e1(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,x=null,H=null,X=null;for(Q in a){var ee=a[Q];if(a.hasOwnProperty(Q)&&ee!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":x=ee;default:l.hasOwnProperty(Q)||at(t,i,Q,null,l,ee)}}for(var F in l){var Q=l[F];if(ee=a[F],l.hasOwnProperty(F)&&(Q!=null||ee!=null))switch(F){case"type":d=Q;break;case"name":h=Q;break;case"checked":H=Q;break;case"defaultChecked":X=Q;break;case"value":_=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,i));break;default:Q!==ee&&at(t,i,F,Q,l,ee)}}za(t,_,T,x,H,X,d,h);return;case"select":Q=_=T=F=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":Q=x;default:l.hasOwnProperty(d)||at(t,i,d,null,l,x)}for(h in l)if(d=l[h],x=a[h],l.hasOwnProperty(h)&&(d!=null||x!=null))switch(h){case"value":F=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==x&&at(t,i,h,d,l,x)}i=T,a=_,l=Q,F!=null?Pr(t,!!a,F,!1):!!l!=!!a&&(i!=null?Pr(t,!!a,i,!0):Pr(t,!!a,a?[]:"",!1));return;case"textarea":Q=F=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:at(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":F=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&at(t,i,_,h,l,d)}oc(t,F,Q);return;case"option":for(var me in a)if(F=a[me],a.hasOwnProperty(me)&&F!=null&&!l.hasOwnProperty(me))switch(me){case"selected":t.selected=!1;break;default:at(t,i,me,null,l,F)}for(x in l)if(F=l[x],Q=a[x],l.hasOwnProperty(x)&&F!==Q&&(F!=null||Q!=null))switch(x){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:at(t,i,x,F,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)F=a[be],a.hasOwnProperty(be)&&F!=null&&!l.hasOwnProperty(be)&&at(t,i,be,null,l,F);for(H in l)if(F=l[H],Q=a[H],l.hasOwnProperty(H)&&F!==Q&&(F!=null||Q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,i));break;default:at(t,i,H,F,l,Q)}return;default:if(ka(i)){for(var ot in a)F=a[ot],a.hasOwnProperty(ot)&&F!==void 0&&!l.hasOwnProperty(ot)&&Cm(t,i,ot,void 0,l,F);for(X in l)F=l[X],Q=a[X],!l.hasOwnProperty(X)||F===Q||F===void 0&&Q===void 0||Cm(t,i,X,F,l,Q);return}}for(var P in a)F=a[P],a.hasOwnProperty(P)&&F!=null&&!l.hasOwnProperty(P)&&at(t,i,P,null,l,F);for(ee in l)F=l[ee],Q=a[ee],!l.hasOwnProperty(ee)||F===Q||F==null&&Q==null||at(t,i,ee,F,l,Q)}function Hv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function t1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&Hv(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var x=a[l],H=x.startTime;if(H>T)break;var X=x.transferSize,ee=x.initiatorType;X&&Hv(ee)&&(x=x.responseEnd,_+=X*(x<T?1:(T-H)/(x-H)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Dm=null,Im=null;function ch(t){return t.nodeType===9?t:t.ownerDocument}function Fv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function xm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Nm=null;function n1(){var t=window.event;return t&&t.type==="popstate"?t===Nm?!1:(Nm=t,!0):(Nm=null,!1)}var Yv=typeof setTimeout=="function"?setTimeout:void 0,i1=typeof clearTimeout=="function"?clearTimeout:void 0,Qv=typeof Promise=="function"?Promise:void 0,r1=typeof queueMicrotask=="function"?queueMicrotask:typeof Qv<"u"?function(t){return Qv.resolve(null).then(t).catch(s1)}:Yv;function s1(t){setTimeout(function(){throw t})}function os(t){return t==="head"}function Kv(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),_o(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Xl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Xl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[Ii]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Xl(t.ownerDocument.body);a=h}while(a);_o(i)}function Xv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Om(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Om(a),Ma(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function a1(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ii])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=ei(t.nextSibling),t===null)break}return null}function o1(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ei(t.nextSibling),t===null))return null;return t}function $v(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=ei(t.nextSibling),t===null))return null;return t}function Mm(t){return t.data==="$?"||t.data==="$~"}function Vm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function l1(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ei(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var zm=null;function Zv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return ei(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Jv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Wv(t,i,a){switch(i=ch(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Xl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ma(t)}var ti=new Map,e0=new Set;function hh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Tr=ne.d;ne.d={f:u1,r:c1,D:h1,C:f1,L:d1,m:m1,X:p1,S:g1,M:y1};function u1(){var t=Tr.f(),i=nh();return t||i}function c1(t){var i=Fn(t);i!==null&&i.tag===5&&i.type==="form"?y_(i):Tr.r(t)}var go=typeof document>"u"?null:document;function t0(t,i,a){var l=go;if(l&&typeof i=="string"&&i){var h=En(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),e0.has(h)||(e0.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),nn(i,"link",t),xt(i),l.head.appendChild(i)))}}function h1(t){Tr.D(t),t0("dns-prefetch",t,null)}function f1(t,i){Tr.C(t,i),t0("preconnect",t,i)}function d1(t,i,a){Tr.L(t,i,a);var l=go;if(l&&t&&i){var h='link[rel="preload"][as="'+En(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+En(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+En(a.imageSizes)+'"]')):h+='[href="'+En(t)+'"]';var d=h;switch(i){case"style":d=po(t);break;case"script":d=yo(t)}ti.has(d)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),ti.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector($l(d))||i==="script"&&l.querySelector(Zl(d))||(i=l.createElement("link"),nn(i,"link",t),xt(i),l.head.appendChild(i)))}}function m1(t,i){Tr.m(t,i);var a=go;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+En(l)+'"][href="'+En(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=yo(t)}if(!ti.has(d)&&(t=b({rel:"modulepreload",href:t},i),ti.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Zl(d)))return}l=a.createElement("link"),nn(l,"link",t),xt(l),a.head.appendChild(l)}}}function g1(t,i,a){Tr.S(t,i,a);var l=go;if(l&&t){var h=Ni(l).hoistableStyles,d=po(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector($l(d)))T.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=ti.get(d))&&km(t,a);var x=_=l.createElement("link");xt(x),nn(x,"link",t),x._p=new Promise(function(H,X){x.onload=H,x.onerror=X}),x.addEventListener("load",function(){T.loading|=1}),x.addEventListener("error",function(){T.loading|=2}),T.loading|=4,fh(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function p1(t,i){Tr.X(t,i);var a=go;if(a&&t){var l=Ni(a).hoistableScripts,h=yo(t),d=l.get(h);d||(d=a.querySelector(Zl(h)),d||(t=b({src:t,async:!0},i),(i=ti.get(h))&&Pm(t,i),d=a.createElement("script"),xt(d),nn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function y1(t,i){Tr.M(t,i);var a=go;if(a&&t){var l=Ni(a).hoistableScripts,h=yo(t),d=l.get(h);d||(d=a.querySelector(Zl(h)),d||(t=b({src:t,async:!0,type:"module"},i),(i=ti.get(h))&&Pm(t,i),d=a.createElement("script"),xt(d),nn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function n0(t,i,a,l){var h=(h=Ve.current)?hh(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=po(a.href),a=Ni(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=po(a.href);var d=Ni(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector($l(t)))&&!d._p&&(_.instance=d,_.state.loading=5),ti.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ti.set(t,a),d||_1(h,t,a,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=yo(a),a=Ni(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function po(t){return'href="'+En(t)+'"'}function $l(t){return'link[rel="stylesheet"]['+t+"]"}function i0(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function _1(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),nn(i,"link",a),xt(i),t.head.appendChild(i))}function yo(t){return'[src="'+En(t)+'"]'}function Zl(t){return"script[async]"+t}function r0(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+En(a.href)+'"]');if(l)return i.instance=l,xt(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),xt(l),nn(l,"style",h),fh(l,a.precedence,t),i.instance=l;case"stylesheet":h=po(a.href);var d=t.querySelector($l(h));if(d)return i.state.loading|=4,i.instance=d,xt(d),d;l=i0(a),(h=ti.get(h))&&km(l,h),d=(t.ownerDocument||t).createElement("link"),xt(d);var _=d;return _._p=new Promise(function(T,x){_.onload=T,_.onerror=x}),nn(d,"link",l),i.state.loading|=4,fh(d,a.precedence,t),i.instance=d;case"script":return d=yo(a.src),(h=t.querySelector(Zl(d)))?(i.instance=h,xt(h),h):(l=a,(h=ti.get(d))&&(l=b({},a),Pm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),xt(h),nn(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,fh(l,a.precedence,t));return i.instance}function fh(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function km(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Pm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var dh=null;function s0(t,i,a){if(dh===null){var l=new Map,h=dh=new Map;h.set(a,l)}else h=dh,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Ii]||d[It]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function a0(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function v1(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function o0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function E1(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=po(l.href),d=i.querySelector($l(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=mh.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,xt(d);return}d=i.ownerDocument||i,l=i0(l),(h=ti.get(h))&&km(l,h),d=d.createElement("link"),xt(d);var _=d;_._p=new Promise(function(T,x){_.onload=T,_.onerror=x}),nn(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=mh.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Um=0;function T1(t,i){return t.stylesheets&&t.count===0&&ph(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&ph(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Um===0&&(Um=62500*t1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ph(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Um?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function mh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ph(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var gh=null;function ph(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,gh=new Map,i.forEach(b1,t),gh=null,mh.call(t))}function b1(t,i){if(!(i.state.loading&4)){var a=gh.get(t);if(a)var l=a.get(null);else{a=new Map,gh.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=mh.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Jl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function S1(t,i,a,l,h,d,_,T,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.hiddenUpdates=Ci(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function l0(t,i,a,l,h,d,_,T,x,H,X,ee){return t=new S1(t,i,a,_,x,H,X,ee,T),i=1,d===!0&&(i|=24),d=Vn(3,null,null,i),t.current=d,d.stateNode=t,i=yd(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Td(d),t}function u0(t){return t?(t=Qa,t):Qa}function c0(t,i,a,l,h,d){h=u0(h),l.context===null?l.context=h:l.pendingContext=h,l=$r(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Zr(t,l,i),a!==null&&(Rn(a,t,i),xl(a,t,i))}function h0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Lm(t,i){h0(t,i),(t=t.alternate)&&h0(t,i)}function f0(t){if(t.tag===13||t.tag===31){var i=Ws(t,67108864);i!==null&&Rn(i,t,67108864),Lm(t,67108864)}}function d0(t){if(t.tag===13||t.tag===31){var i=Ln();i=Bs(i);var a=Ws(t,i);a!==null&&Rn(a,t,i),Lm(t,i)}}var yh=!0;function A1(t,i,a,l){var h=U.T;U.T=null;var d=ne.p;try{ne.p=2,jm(t,i,a,l)}finally{ne.p=d,U.T=h}}function w1(t,i,a,l){var h=U.T;U.T=null;var d=ne.p;try{ne.p=8,jm(t,i,a,l)}finally{ne.p=d,U.T=h}}function jm(t,i,a,l){if(yh){var h=Bm(l);if(h===null)Rm(t,i,l,_h,a),g0(t,l);else if(C1(h,t,i,a,l))l.stopPropagation();else if(g0(t,l),i&4&&-1<R1.indexOf(t)){for(;h!==null;){var d=Fn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=wi(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var x=1<<31-bt(_);T.entanglements[1]|=x,_&=~x}Fi(d),(Je&6)===0&&(eh=mn()+500,Yl(0))}}break;case 31:case 13:T=Ws(d,2),T!==null&&Rn(T,d,2),nh(),Lm(d,2)}if(d=Bm(l),d===null&&Rm(t,i,l,_h,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Rm(t,i,l,null,a)}}function Bm(t){return t=Gn(t),qm(t)}var _h=null;function qm(t){if(_h=null,t=xi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return _h=t,null}function m0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ps()){case tl:return 2;case nl:return 8;case zr:case Kf:return 32;case $u:return 268435456;default:return 32}default:return 32}}var Hm=!1,ls=null,us=null,cs=null,Wl=new Map,eu=new Map,hs=[],R1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function g0(t,i){switch(t){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":Wl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":eu.delete(i.pointerId)}}function tu(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Fn(i),i!==null&&f0(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function C1(t,i,a,l,h){switch(i){case"focusin":return ls=tu(ls,t,i,a,l,h),!0;case"dragenter":return us=tu(us,t,i,a,l,h),!0;case"mouseover":return cs=tu(cs,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Wl.set(d,tu(Wl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,eu.set(d,tu(eu.get(d)||null,t,i,a,l,h)),!0}return!1}function p0(t){var i=xi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,oi(t.priority,function(){d0(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,oi(t.priority,function(){d0(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Bm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ml=l,a.target.dispatchEvent(l),ml=null}else return i=Fn(a),i!==null&&f0(i),t.blockedOn=a,!1;i.shift()}return!0}function y0(t,i,a){vh(t)&&a.delete(i)}function D1(){Hm=!1,ls!==null&&vh(ls)&&(ls=null),us!==null&&vh(us)&&(us=null),cs!==null&&vh(cs)&&(cs=null),Wl.forEach(y0),eu.forEach(y0)}function Eh(t,i){t.blockedOn===i&&(t.blockedOn=null,Hm||(Hm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,D1)))}var Th=null;function _0(t){Th!==t&&(Th=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Th===t&&(Th=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(qm(l||a)===null)continue;break}var d=Fn(a);d!==null&&(t.splice(i,3),i-=3,Bd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function _o(t){function i(x){return Eh(x,t)}ls!==null&&Eh(ls,t),us!==null&&Eh(us,t),cs!==null&&Eh(cs,t),Wl.forEach(i),eu.forEach(i);for(var a=0;a<hs.length;a++){var l=hs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<hs.length&&(a=hs[0],a.blockedOn===null);)p0(a),a.blockedOn===null&&hs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Yt]||null;if(typeof d=="function")_||_0(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Yt]||null)T=_.formAction;else if(qm(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),_0(a)}}}function v0(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Fm(t){this._internalRoot=t}bh.prototype.render=Fm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=Ln();c0(a,l,t,i,null,null)},bh.prototype.unmount=Fm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;c0(t.current,2,null,t,null,null),nh(),i[Di]=null}};function bh(t){this._internalRoot=t}bh.prototype.unstable_scheduleHydration=function(t){if(t){var i=nc();t={blockedOn:null,target:t,priority:i};for(var a=0;a<hs.length&&i!==0&&i<hs[a].priority;a++);hs.splice(a,0,t),a===0&&p0(t)}};var E0=e.version;if(E0!=="19.2.0")throw Error(r(527,E0,"19.2.0"));ne.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var I1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sh.isDisabled&&Sh.supportsFiber)try{si=Sh.inject(I1),Zt=Sh}catch{}}return iu.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",h=C_,d=D_,_=I_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=l0(t,1,!1,null,null,a,l,null,h,d,_,v0),t[Di]=i.current,wm(t),new Fm(i)},iu.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,h="",d=C_,_=D_,T=I_,x=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),i=l0(t,1,!0,i,a??null,l,h,x,d,_,T,v0),i.context=u0(null),a=i.current,l=Ln(),l=Bs(l),h=$r(l),h.callback=null,Zr(a,h,l),a=l,i.current.lanes=a,Ls(i,a),Fi(i),t[Di]=i.current,wm(t),new bh(i)},iu.version="19.2.0",iu}var x0;function j1(){if(x0)return Qm.exports;x0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Qm.exports=L1(),Qm.exports}var B1=j1();const q1=pT(B1),H1=()=>{};var N0={};const yT=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},F1=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],f=s[n++],m=s[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const u=s[n++],f=s[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},_T={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,m=f?s[o+1]:0,p=o+2<s.length,y=p?s[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let D=(m&15)<<2|y>>6,L=y&63;p||(L=64,f||(D=64)),r.push(n[E],n[b],n[D],n[L])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(yT(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):F1(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],m=o<s.length?n[s.charAt(o)]:0;++o;const y=o<s.length?n[s.charAt(o)]:64;++o;const b=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||m==null||y==null||b==null)throw new G1;const D=u<<2|m>>4;if(r.push(D),y!==64){const L=m<<4&240|y>>2;if(r.push(L),b!==64){const Y=y<<6&192|b;r.push(Y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class G1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Y1=function(s){const e=yT(s);return _T.encodeByteArray(e,!0)},Zh=function(s){return Y1(s).replace(/\./g,"")},vT=function(s){try{return _T.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Q1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const K1=()=>Q1().__FIREBASE_DEFAULTS__,X1=()=>{if(typeof process>"u"||typeof N0>"u")return;const s=N0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},$1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&vT(s[1]);return e&&JSON.parse(e)},Af=()=>{try{return H1()||K1()||X1()||$1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},ET=s=>Af()?.emulatorHosts?.[s],Z1=s=>{const e=ET(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},TT=()=>Af()?.config,bT=s=>Af()?.[`_${s}`];class J1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Fo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ST(s){return(await fetch(s,{credentials:"include"})).ok}function W1(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Zh(JSON.stringify(n)),Zh(JSON.stringify(f)),""].join(".")}const hu={};function ew(){const s={prod:[],emulator:[]};for(const e of Object.keys(hu))hu[e]?s.emulator.push(e):s.prod.push(e);return s}function tw(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let O0=!1;function AT(s,e){if(typeof window>"u"||typeof document>"u"||!Fo(window.location.host)||hu[s]===e||hu[s]||O0)return;hu[s]=e;function n(D){return`__firebase__banner__${D}`}const r="__firebase__banner",u=ew().prod.length>0;function f(){const D=document.getElementById(r);D&&D.remove()}function m(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function p(D,L){D.setAttribute("width","24"),D.setAttribute("id",L),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function y(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{O0=!0,f()},D}function E(D,L){D.setAttribute("id",L),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function b(){const D=tw(r),L=n("text"),Y=document.getElementById(L)||document.createElement("span"),z=n("learnmore"),K=document.getElementById(z)||document.createElement("a"),re=n("preprendIcon"),ue=document.getElementById(re)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ie=D.element;m(ie),E(K,z);const se=y();p(ue,re),ie.append(ue,Y,K,se),document.body.appendChild(ie)}u?(Y.innerText="Preview backend disconnected.",ue.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ue.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function iw(){const s=Af()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sw(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function aw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ow(){const s=dn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function lw(){return!iw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uw(){try{return typeof indexedDB=="object"}catch{return!1}}function cw(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const hw="FirebaseError";class Or extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hw,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ou.prototype.create)}}class Ou{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?fw(u,r):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Or(o,m,r)}}function fw(s,e){return s.replace(dw,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const dw=/\{\$([^}]+)}/g;function mw(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Ta(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=s[o],f=e[o];if(M0(u)&&M0(f)){if(!Ta(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function M0(s){return s!==null&&typeof s=="object"}function Mu(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gw(s,e){const n=new pw(s,e);return n.subscribe.bind(n)}class pw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");yw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Zm),o.error===void 0&&(o.error=Zm),o.complete===void 0&&(o.complete=Zm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yw(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Zm(){}function Bt(s){return s&&s._delegate?s._delegate:s}class ba{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ma="[DEFAULT]";class _w{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new J1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ew(e))try{this.getOrInitializeService({instanceIdentifier:ma})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ma){return this.instances.has(e)}getOptions(e=ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&f.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vw(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ma){return this.component?this.component.multipleInstances?e:ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vw(s){return s===ma?void 0:s}function Ew(s){return s.instantiationMode==="EAGER"}class Tw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _w(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Be;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Be||(Be={}));const bw={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},Sw=Be.INFO,Aw={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},ww=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=Aw[e];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jg{constructor(e){this.name=e,this._logLevel=Sw,this._logHandler=ww,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const Rw=(s,e)=>e.some(n=>s instanceof n);let V0,z0;function Cw(){return V0||(V0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Dw(){return z0||(z0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wT=new WeakMap,vg=new WeakMap,RT=new WeakMap,Jm=new WeakMap,Wg=new WeakMap;function Iw(s){const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(Ts(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&wT.set(n,s)}).catch(()=>{}),Wg.set(e,s),e}function xw(s){if(vg.has(s))return;const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});vg.set(s,e)}let Eg={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return vg.get(s);if(e==="objectStoreNames")return s.objectStoreNames||RT.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ts(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function Nw(s){Eg=s(Eg)}function Ow(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(Wm(this),e,...n);return RT.set(r,e.sort?e.sort():[e]),Ts(r)}:Dw().includes(s)?function(...e){return s.apply(Wm(this),e),Ts(wT.get(this))}:function(...e){return Ts(s.apply(Wm(this),e))}}function Mw(s){return typeof s=="function"?Ow(s):(s instanceof IDBTransaction&&xw(s),Rw(s,Cw())?new Proxy(s,Eg):s)}function Ts(s){if(s instanceof IDBRequest)return Iw(s);if(Jm.has(s))return Jm.get(s);const e=Mw(s);return e!==s&&(Jm.set(s,e),Wg.set(e,s)),e}const Wm=s=>Wg.get(s);function Vw(s,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(s,e),m=Ts(f);return r&&f.addEventListener("upgradeneeded",p=>{r(Ts(f.result),p.oldVersion,p.newVersion,Ts(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const zw=["get","getKey","getAll","getAllKeys","count"],kw=["put","add","delete","clear"],eg=new Map;function k0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(eg.get(e))return eg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=kw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||zw.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return r&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return eg.set(e,u),u}Nw(s=>({...s,get:(e,n,r)=>k0(e,n)||s.get(e,n,r),has:(e,n)=>!!k0(e,n)||s.has(e,n)}));class Pw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Uw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Uw(s){return s.getComponent()?.type==="VERSION"}const Tg="@firebase/app",P0="0.14.5";const Cr=new Jg("@firebase/app"),Lw="@firebase/app-compat",jw="@firebase/analytics-compat",Bw="@firebase/analytics",qw="@firebase/app-check-compat",Hw="@firebase/app-check",Fw="@firebase/auth",Gw="@firebase/auth-compat",Yw="@firebase/database",Qw="@firebase/data-connect",Kw="@firebase/database-compat",Xw="@firebase/functions",$w="@firebase/functions-compat",Zw="@firebase/installations",Jw="@firebase/installations-compat",Ww="@firebase/messaging",eR="@firebase/messaging-compat",tR="@firebase/performance",nR="@firebase/performance-compat",iR="@firebase/remote-config",rR="@firebase/remote-config-compat",sR="@firebase/storage",aR="@firebase/storage-compat",oR="@firebase/firestore",lR="@firebase/ai",uR="@firebase/firestore-compat",cR="firebase",hR="12.5.0";const bg="[DEFAULT]",fR={[Tg]:"fire-core",[Lw]:"fire-core-compat",[Bw]:"fire-analytics",[jw]:"fire-analytics-compat",[Hw]:"fire-app-check",[qw]:"fire-app-check-compat",[Fw]:"fire-auth",[Gw]:"fire-auth-compat",[Yw]:"fire-rtdb",[Qw]:"fire-data-connect",[Kw]:"fire-rtdb-compat",[Xw]:"fire-fn",[$w]:"fire-fn-compat",[Zw]:"fire-iid",[Jw]:"fire-iid-compat",[Ww]:"fire-fcm",[eR]:"fire-fcm-compat",[tR]:"fire-perf",[nR]:"fire-perf-compat",[iR]:"fire-rc",[rR]:"fire-rc-compat",[sR]:"fire-gcs",[aR]:"fire-gcs-compat",[oR]:"fire-fst",[uR]:"fire-fst-compat",[lR]:"fire-vertex","fire-js":"fire-js",[cR]:"fire-js-all"};const Jh=new Map,dR=new Map,Sg=new Map;function U0(s,e){try{s.container.addComponent(e)}catch(n){Cr.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function Vo(s){const e=s.name;if(Sg.has(e))return Cr.debug(`There were multiple attempts to register component ${e}.`),!1;Sg.set(e,s);for(const n of Jh.values())U0(n,s);for(const n of dR.values())U0(n,s);return!0}function ep(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function vi(s){return s==null?!1:s.settings!==void 0}const mR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bs=new Ou("app","Firebase",mR);class gR{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ba("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bs.create("app-deleted",{appName:this._name})}}const Go=hR;function CT(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:bg,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw bs.create("bad-app-name",{appName:String(o)});if(n||(n=TT()),!n)throw bs.create("no-options");const u=Jh.get(o);if(u){if(Ta(n,u.options)&&Ta(r,u.config))return u;throw bs.create("duplicate-app",{appName:o})}const f=new Tw(o);for(const p of Sg.values())f.addComponent(p);const m=new gR(n,r,f);return Jh.set(o,m),m}function DT(s=bg){const e=Jh.get(s);if(!e&&s===bg&&TT())return CT();if(!e)throw bs.create("no-app",{appName:s});return e}function Ss(s,e,n){let r=fR[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cr.warn(f.join(" "));return}Vo(new ba(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const pR="firebase-heartbeat-database",yR=1,bu="firebase-heartbeat-store";let tg=null;function IT(){return tg||(tg=Vw(pR,yR,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(bu)}catch(n){console.warn(n)}}}}).catch(s=>{throw bs.create("idb-open",{originalErrorMessage:s.message})})),tg}async function _R(s){try{const n=(await IT()).transaction(bu),r=await n.objectStore(bu).get(xT(s));return await n.done,r}catch(e){if(e instanceof Or)Cr.warn(e.message);else{const n=bs.create("idb-get",{originalErrorMessage:e?.message});Cr.warn(n.message)}}}async function L0(s,e){try{const r=(await IT()).transaction(bu,"readwrite");await r.objectStore(bu).put(e,xT(s)),await r.done}catch(n){if(n instanceof Or)Cr.warn(n.message);else{const r=bs.create("idb-set",{originalErrorMessage:n?.message});Cr.warn(r.message)}}}function xT(s){return`${s.name}!${s.options.appId}`}const vR=1024,ER=30;class TR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new SR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=j0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>ER){const o=AR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Cr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=j0(),{heartbeatsToSend:n,unsentEntries:r}=bR(this._heartbeatsCache.heartbeats),o=Zh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Cr.warn(e),""}}}function j0(){return new Date().toISOString().substring(0,10)}function bR(s,e=vR){const n=[];let r=s.slice();for(const o of s){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),B0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),B0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class SR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uw()?cw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _R(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return L0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return L0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function B0(s){return Zh(JSON.stringify({version:2,heartbeats:s})).length}function AR(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function wR(s){Vo(new ba("platform-logger",e=>new Pw(e),"PRIVATE")),Vo(new ba("heartbeat",e=>new TR(e),"PRIVATE")),Ss(Tg,P0,s),Ss(Tg,P0,"esm2020"),Ss("fire-js","")}wR("");function NT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RR=NT,OT=new Ou("auth","Firebase",NT());const Wh=new Jg("@firebase/auth");function CR(s,...e){Wh.logLevel<=Be.WARN&&Wh.warn(`Auth (${Go}): ${s}`,...e)}function zh(s,...e){Wh.logLevel<=Be.ERROR&&Wh.error(`Auth (${Go}): ${s}`,...e)}function Wi(s,...e){throw np(s,...e)}function Ti(s,...e){return np(s,...e)}function tp(s,e,n){const r={...RR(),[e]:n};return new Ou("auth","Firebase",r).create(e,{appName:s.name})}function _a(s){return tp(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function DR(s,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Wi(s,"argument-error"),tp(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function np(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return OT.create(s,...e)}function Re(s,e,...n){if(!s)throw np(e,...n)}function Sr(s){const e="INTERNAL ASSERTION FAILED: "+s;throw zh(e),new Error(e)}function Dr(s,e){s||Sr(e)}function Ag(){return typeof self<"u"&&self.location?.href||""}function IR(){return q0()==="http:"||q0()==="https:"}function q0(){return typeof self<"u"&&self.location?.protocol||null}function xR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IR()||sw()||"connection"in navigator)?navigator.onLine:!0}function NR(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Dr(n>e,"Short delay should be less than long delay!"),this.isMobile=nw()||aw()}get(){return xR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ip(s,e){Dr(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class MT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const OR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const MR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],VR=new Vu(3e4,6e4);function rp(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Yo(s,e,n,r,o={}){return VT(s,o,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const m=Mu({key:s.config.apiKey,...f}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:p,...u};return rw()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Fo(s.emulatorConfig.host)&&(y.credentials="include"),MT.fetch()(await zT(s,s.config.apiHost,n,m),y)})}async function VT(s,e,n){s._canInitEmulator=!1;const r={...OR,...e};try{const o=new kR(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Ah(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ah(s,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Ah(s,"email-already-in-use",f);if(p==="USER_DISABLED")throw Ah(s,"user-disabled",f);const E=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw tp(s,E,y);Wi(s,E)}}catch(o){if(o instanceof Or)throw o;Wi(s,"network-request-failed",{message:String(o)})}}async function zR(s,e,n,r,o={}){const u=await Yo(s,e,n,r,o);return"mfaPendingCredential"in u&&Wi(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function zT(s,e,n,r){const o=`${e}${n}?${r}`,u=s,f=u.config.emulator?ip(s.config,o):`${s.config.apiScheme}://${o}`;return MR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class kR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ti(this.auth,"network-request-failed")),VR.get())})}}function Ah(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Ti(s,e,r);return o.customData._tokenResponse=n,o}async function PR(s,e){return Yo(s,"POST","/v1/accounts:delete",e)}async function ef(s,e){return Yo(s,"POST","/v1/accounts:lookup",e)}function fu(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UR(s,e=!1){const n=Bt(s),r=await n.getIdToken(e),o=sp(r);Re(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:r,authTime:fu(ng(o.auth_time)),issuedAtTime:fu(ng(o.iat)),expirationTime:fu(ng(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function ng(s){return Number(s)*1e3}function sp(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return zh("JWT malformed, contained fewer than 3 sections"),null;try{const o=vT(n);return o?JSON.parse(o):(zh("Failed to decode base64 JWT payload"),null)}catch(o){return zh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function H0(s){const e=sp(s);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Su(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Or&&LR(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function LR({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class jR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class wg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fu(this.lastLoginAt),this.creationTime=fu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function tf(s){const e=s.auth,n=await s.getIdToken(),r=await Su(s,ef(e,{idToken:n}));Re(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?kT(o.providerUserInfo):[],f=qR(s.providerData,u),m=s.isAnonymous,p=!(s.email&&o.passwordHash)&&!f?.length,y=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new wg(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,E)}async function BR(s){const e=Bt(s);await tf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qR(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function kT(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function HR(s,e){const n=await VT(s,{},async()=>{const r=Mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,f=await zT(s,o,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:r};return s.emulatorConfig&&Fo(s.emulatorConfig.host)&&(p.credentials="include"),MT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function FR(s,e){return Yo(s,"POST","/v2/accounts:revokeToken",rp(s,e))}class Do{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):H0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=H0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await HR(e,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,f=new Do;return r&&(Re(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(Re(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Re(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Do,this.toJSON())}_performRefresh(){return Sr("not implemented")}}function ds(s,e){Re(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Ei{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new jR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new wg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Su(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return UR(this,e)}reload(){return BR(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ei({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await tf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vi(this.auth.app))return Promise.reject(_a(this.auth));const e=await this.getIdToken();return await Su(this,PR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:b,emailVerified:D,isAnonymous:L,providerData:Y,stsTokenManager:z}=n;Re(b&&z,e,"internal-error");const K=Do.fromJSON(this.name,z);Re(typeof b=="string",e,"internal-error"),ds(r,e.name),ds(o,e.name),Re(typeof D=="boolean",e,"internal-error"),Re(typeof L=="boolean",e,"internal-error"),ds(u,e.name),ds(f,e.name),ds(m,e.name),ds(p,e.name),ds(y,e.name),ds(E,e.name);const re=new Ei({uid:b,auth:e,email:o,emailVerified:D,displayName:r,isAnonymous:L,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:K,createdAt:y,lastLoginAt:E});return Y&&Array.isArray(Y)&&(re.providerData=Y.map(ue=>({...ue}))),p&&(re._redirectEventId=p),re}static async _fromIdTokenResponse(e,n,r=!1){const o=new Do;o.updateFromServerResponse(n);const u=new Ei({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await tf(u),u}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Re(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?kT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Do;m.updateFromIdToken(r);const p=new Ei({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new wg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}const F0=new Map;function Ar(s){Dr(s instanceof Function,"Expected a class definition");let e=F0.get(s);return e?(Dr(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,F0.set(s,e),e)}class PT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}PT.type="NONE";const G0=PT;function kh(s,e,n){return`firebase:${s}:${e}:${n}`}class Io{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=kh(this.userKey,o.apiKey,u),this.fullPersistenceKey=kh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ef(this.auth,{idToken:e}).catch(()=>{});return n?Ei._fromGetAccountInfoResponse(this.auth,n,e):null}return Ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Io(Ar(G0),e,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Ar(G0);const f=kh(r,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let b;if(typeof E=="string"){const D=await ef(e,{idToken:E}).catch(()=>{});if(!D)break;b=await Ei._fromGetAccountInfoResponse(e,D,E)}else b=Ei._fromJSON(e,E);y!==u&&(m=b),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Io(u,e,r):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Io(u,e,r))}}function Y0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HT(e))return"Blackberry";if(FT(e))return"Webos";if(LT(e))return"Safari";if((e.includes("chrome/")||jT(e))&&!e.includes("edge/"))return"Chrome";if(qT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function UT(s=dn()){return/firefox\//i.test(s)}function LT(s=dn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jT(s=dn()){return/crios\//i.test(s)}function BT(s=dn()){return/iemobile/i.test(s)}function qT(s=dn()){return/android/i.test(s)}function HT(s=dn()){return/blackberry/i.test(s)}function FT(s=dn()){return/webos/i.test(s)}function ap(s=dn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function GR(s=dn()){return ap(s)&&!!window.navigator?.standalone}function YR(){return ow()&&document.documentMode===10}function GT(s=dn()){return ap(s)||qT(s)||FT(s)||HT(s)||/windows phone/i.test(s)||BT(s)}function YT(s,e=[]){let n;switch(s){case"Browser":n=Y0(dn());break;case"Worker":n=`${Y0(dn())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Go}/${r}`}class QR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function KR(s,e={}){return Yo(s,"GET","/v2/passwordPolicy",rp(s,e))}const XR=6;class $R{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??XR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class ZR{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Q0(this),this.idTokenSubscription=new Q0(this),this.beforeStateQueue=new QR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ar(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Io.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ef(this,{idToken:e}),r=await Ei._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(vi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await tf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vi(this.app))return Promise.reject(_a(this));const n=e?Bt(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return vi(this.app)?Promise.reject(_a(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vi(this.app)?Promise.reject(_a(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KR(this),n=new $R(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ou("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await FR(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ar(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[Ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,r,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(vi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&CR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function wf(s){return Bt(s)}class Q0{constructor(e){this.auth=e,this.observer=null,this.addObserver=gw(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let op={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JR(s){op=s}function WR(s){return op.loadJS(s)}function eC(){return op.gapiScript}function tC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function nC(s,e){const n=ep(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ta(u,e??{}))return o;Wi(o,"already-initialized")}return n.initialize({options:e})}function iC(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ar);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function rC(s,e,n){const r=wf(s);Re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=QT(e),{host:f,port:m}=sC(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Re(Ta(y,r.config.emulator)&&Ta(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,Fo(f)?(ST(`${u}//${f}${p}`),AT("Auth",!0)):aC()}function QT(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function sC(s){const e=QT(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:K0(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:K0(f)}}}function K0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function aC(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class KT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Sr("not implemented")}_getIdTokenResponse(e){return Sr("not implemented")}_linkToIdToken(e,n){return Sr("not implemented")}_getReauthenticationResolver(e){return Sr("not implemented")}}async function xo(s,e){return zR(s,"POST","/v1/accounts:signInWithIdp",rp(s,e))}const oC="http://localhost";class Sa extends KT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const f=new Sa(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return xo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xo(e,n)}buildRequest(){const e={requestUri:oC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Mu(n)}return e}}class lp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class zu extends lp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class gs extends zu{constructor(){super("facebook.com")}static credential(e){return Sa._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";gs.PROVIDER_ID="facebook.com";class br extends zu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Sa._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return br.credential(n,r)}catch{return null}}}br.GOOGLE_SIGN_IN_METHOD="google.com";br.PROVIDER_ID="google.com";class ps extends zu{constructor(){super("github.com")}static credential(e){return Sa._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ps.credential(e.oauthAccessToken)}catch{return null}}}ps.GITHUB_SIGN_IN_METHOD="github.com";ps.PROVIDER_ID="github.com";class ys extends zu{constructor(){super("twitter.com")}static credential(e,n){return Sa._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ys.credential(n,r)}catch{return null}}}ys.TWITTER_SIGN_IN_METHOD="twitter.com";ys.PROVIDER_ID="twitter.com";class zo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const u=await Ei._fromIdTokenResponse(e,r,o),f=X0(r);return new zo({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=X0(r);return new zo({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function X0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class nf extends Or{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,nf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new nf(e,n,r,o)}}function XT(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?nf._fromErrorAndOperation(s,u,e,r):u})}async function lC(s,e,n=!1){const r=await Su(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return zo._forOperation(s,"link",r)}async function uC(s,e,n=!1){const{auth:r}=s;if(vi(r.app))return Promise.reject(_a(r));const o="reauthenticate";try{const u=await Su(s,XT(r,o,e,s),n);Re(u.idToken,r,"internal-error");const f=sp(u.idToken);Re(f,r,"internal-error");const{sub:m}=f;return Re(s.uid===m,r,"user-mismatch"),zo._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Wi(r,"user-mismatch"),u}}async function cC(s,e,n=!1){if(vi(s.app))return Promise.reject(_a(s));const r="signIn",o=await XT(s,r,e),u=await zo._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(u.user),u}function hC(s,e,n,r){return Bt(s).onIdTokenChanged(e,n,r)}function fC(s,e,n){return Bt(s).beforeAuthStateChanged(e,n)}function dC(s,e,n,r){return Bt(s).onAuthStateChanged(e,n,r)}function mC(s){return Bt(s).signOut()}const rf="__sak";class $T{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rf,"1"),this.storage.removeItem(rf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const gC=1e3,pC=10;class ZT extends $T{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);YR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,pC):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},gC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZT.type="LOCAL";const yC=ZT;class JT extends $T{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}JT.type="SESSION";const WT=JT;function _C(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Rf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await _C(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rf.receivers=[];function up(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class vC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=up("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(b){const D=b;if(D.data.eventId===y)switch(D.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(D.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Qi(){return window}function EC(s){Qi().location.href=s}function eb(){return typeof Qi().WorkerGlobalScope<"u"&&typeof Qi().importScripts=="function"}async function TC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bC(){return navigator?.serviceWorker?.controller||null}function SC(){return eb()?self:null}const tb="firebaseLocalStorageDb",AC=1,sf="firebaseLocalStorage",nb="fbase_key";class ku{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Cf(s,e){return s.transaction([sf],e?"readwrite":"readonly").objectStore(sf)}function wC(){const s=indexedDB.deleteDatabase(tb);return new ku(s).toPromise()}function Rg(){const s=indexedDB.open(tb,AC);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(sf,{keyPath:nb})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(sf)?e(r):(r.close(),await wC(),e(await Rg()))})})}async function $0(s,e,n){const r=Cf(s,!0).put({[nb]:e,value:n});return new ku(r).toPromise()}async function RC(s,e){const n=Cf(s,!1).get(e),r=await new ku(n).toPromise();return r===void 0?null:r.value}function Z0(s,e){const n=Cf(s,!0).delete(e);return new ku(n).toPromise()}const CC=800,DC=3;class ib{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>DC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rf._getInstance(SC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await TC(),!this.activeServiceWorker)return;this.sender=new vC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rg();return await $0(e,rf,"1"),await Z0(e,rf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>RC(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Z0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Cf(o,!1).getAll();return new ku(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ib.type="LOCAL";const IC=ib;new Vu(3e4,6e4);function rb(s,e){return e?Ar(e):(Re(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class cp extends KT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function xC(s){return cC(s.auth,new cp(s),s.bypassAuthState)}function NC(s){const{auth:e,user:n}=s;return Re(n,e,"internal-error"),uC(n,new cp(s),s.bypassAuthState)}async function OC(s){const{auth:e,user:n}=s;return Re(n,e,"internal-error"),lC(n,new cp(s),s.bypassAuthState)}class sb{constructor(e,n,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xC;case"linkViaPopup":case"linkViaRedirect":return OC;case"reauthViaPopup":case"reauthViaRedirect":return NC;default:Wi(this.auth,"internal-error")}}resolve(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const MC=new Vu(2e3,1e4);async function VC(s,e,n){if(vi(s.app))return Promise.reject(Ti(s,"operation-not-supported-in-this-environment"));const r=wf(s);DR(s,e,lp);const o=rb(r,n);return new pa(r,"signInViaPopup",e,o).executeNotNull()}class pa extends sb{constructor(e,n,r,o,u){super(e,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,pa.currentPopupAction&&pa.currentPopupAction.cancel(),pa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Dr(this.filter.length===1,"Popup operations only handle one event");const e=up();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,MC.get())};e()}}pa.currentPopupAction=null;const zC="pendingRedirect",Ph=new Map;class kC extends sb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ph.get(this.auth._key());if(!e){try{const r=await PC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ph.set(this.auth._key(),e)}return this.bypassAuthState||Ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PC(s,e){const n=jC(e),r=LC(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function UC(s,e){Ph.set(s._key(),e)}function LC(s){return Ar(s._redirectPersistence)}function jC(s){return kh(zC,s.config.apiKey,s.name)}async function BC(s,e,n=!1){if(vi(s.app))return Promise.reject(_a(s));const r=wf(s),o=rb(r,e),f=await new kC(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}const qC=600*1e3;class HC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!ab(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ti(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qC&&this.cachedEventUids.clear(),this.cachedEventUids.has(J0(e))}saveEventToCache(e){this.cachedEventUids.add(J0(e)),this.lastProcessedEventTime=Date.now()}}function J0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function ab({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function FC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ab(s);default:return!1}}async function GC(s,e={}){return Yo(s,"GET","/v1/projects",e)}const YC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QC=/^https?/;async function KC(s){if(s.config.emulator)return;const{authorizedDomains:e}=await GC(s);for(const n of e)try{if(XC(n))return}catch{}Wi(s,"unauthorized-domain")}function XC(s){const e=Ag(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!QC.test(n))return!1;if(YC.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const $C=new Vu(3e4,6e4);function W0(){const s=Qi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function ZC(s){return new Promise((e,n)=>{function r(){W0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{W0(),n(Ti(s,"network-request-failed"))},timeout:$C.get()})}if(Qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Qi().gapi?.load)r();else{const o=tC("iframefcb");return Qi()[o]=()=>{gapi.load?r():n(Ti(s,"network-request-failed"))},WR(`${eC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Uh=null,e})}let Uh=null;function JC(s){return Uh=Uh||ZC(s),Uh}const WC=new Vu(5e3,15e3),eD="__/auth/iframe",tD="emulator/auth/iframe",nD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rD(s){const e=s.config;Re(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?ip(e,tD):`https://${s.config.authDomain}/${eD}`,r={apiKey:e.apiKey,appName:s.name,v:Go},o=iD.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${Mu(r).slice(1)}`}async function sD(s){const e=await JC(s),n=Qi().gapi;return Re(n,s,"internal-error"),e.open({where:document.body,url:rD(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nD,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=Ti(s,"network-request-failed"),m=Qi().setTimeout(()=>{u(f)},WC.get());function p(){Qi().clearTimeout(m),o(r)}r.ping(p).then(p,()=>{u(f)})}))}const aD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oD=500,lD=600,uD="_blank",cD="http://localhost";class eE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hD(s,e,n,r=oD,o=lD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p={...aD,width:r.toString(),height:o.toString(),top:u,left:f},y=dn().toLowerCase();n&&(m=jT(y)?uD:n),UT(y)&&(e=e||cD,p.scrollbars="yes");const E=Object.entries(p).reduce((D,[L,Y])=>`${D}${L}=${Y},`,"");if(GR(y)&&m!=="_self")return fD(e||"",m),new eE(null);const b=window.open(e||"",m,E);Re(b,s,"popup-blocked");try{b.focus()}catch{}return new eE(b)}function fD(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const dD="__/auth/handler",mD="emulator/auth/handler",gD=encodeURIComponent("fac");async function tE(s,e,n,r,o,u){Re(s.config.authDomain,s,"auth-domain-config-required"),Re(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:Go,eventId:o};if(e instanceof lp){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",mw(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(e instanceof zu){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}s.tenantId&&(f.tid=s.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await s._getAppCheckToken(),y=p?`#${gD}=${encodeURIComponent(p)}`:"";return`${pD(s)}?${Mu(m).slice(1)}${y}`}function pD({config:s}){return s.emulator?ip(s,mD):`https://${s.authDomain}/${dD}`}const ig="webStorageSupport";class yD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WT,this._completeRedirectFn=BC,this._overrideRedirectResult=UC}async _openPopup(e,n,r,o){Dr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await tE(e,n,r,Ag(),o);return hD(e,u,up())}async _openRedirect(e,n,r,o){await this._originValidation(e);const u=await tE(e,n,r,Ag(),o);return EC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Dr(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await sD(e),r=new HC(e);return n.register("authEvent",o=>(Re(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ig,{type:ig},o=>{const u=o?.[0]?.[ig];u!==void 0&&n(!!u),Wi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=KC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return GT()||LT()||ap()}}const _D=yD;var nE="@firebase/auth",iE="1.11.1";class vD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ED(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TD(s){Vo(new ba("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=r.options;Re(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:f,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YT(s)},y=new ZR(r,o,u,p);return iC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vo(new ba("auth-internal",e=>{const n=wf(e.getProvider("auth").getImmediate());return(r=>new vD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ss(nE,iE,ED(s)),Ss(nE,iE,"esm2020")}const bD=300,SD=bT("authIdTokenMaxAge")||bD;let rE=null;const AD=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>SD)return;const o=n?.token;rE!==o&&(rE=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function wD(s=DT()){const e=ep(s,"auth");if(e.isInitialized())return e.getImmediate();const n=nC(s,{popupRedirectResolver:_D,persistence:[IC,yC,WT]}),r=bT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=AD(u.toString());fC(n,f,()=>f(n.currentUser)),hC(n,m=>f(m))}}const o=ET("auth");return o&&rC(n,`http://${o}`),n}function RD(){return document.getElementsByTagName("head")?.[0]??document}JR({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const u=Ti("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",RD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TD("Browser");var CD="firebase",DD="12.5.0";Ss(CD,DD,"app");var sE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var As,ob;(function(){var s;function e(C,w){function R(){}R.prototype=w.prototype,C.F=w.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(N,O,k){for(var I=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)I[Ye-2]=arguments[Ye];return w.prototype[O].apply(N,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,w,R){R||(R=0);const N=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)N[O]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(O=0;O<16;++O)N[O]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=C.g[0],R=C.g[1],O=C.g[2];let k=C.g[3],I;I=w+(k^R&(O^k))+N[0]+3614090360&4294967295,w=R+(I<<7&4294967295|I>>>25),I=k+(O^w&(R^O))+N[1]+3905402710&4294967295,k=w+(I<<12&4294967295|I>>>20),I=O+(R^k&(w^R))+N[2]+606105819&4294967295,O=k+(I<<17&4294967295|I>>>15),I=R+(w^O&(k^w))+N[3]+3250441966&4294967295,R=O+(I<<22&4294967295|I>>>10),I=w+(k^R&(O^k))+N[4]+4118548399&4294967295,w=R+(I<<7&4294967295|I>>>25),I=k+(O^w&(R^O))+N[5]+1200080426&4294967295,k=w+(I<<12&4294967295|I>>>20),I=O+(R^k&(w^R))+N[6]+2821735955&4294967295,O=k+(I<<17&4294967295|I>>>15),I=R+(w^O&(k^w))+N[7]+4249261313&4294967295,R=O+(I<<22&4294967295|I>>>10),I=w+(k^R&(O^k))+N[8]+1770035416&4294967295,w=R+(I<<7&4294967295|I>>>25),I=k+(O^w&(R^O))+N[9]+2336552879&4294967295,k=w+(I<<12&4294967295|I>>>20),I=O+(R^k&(w^R))+N[10]+4294925233&4294967295,O=k+(I<<17&4294967295|I>>>15),I=R+(w^O&(k^w))+N[11]+2304563134&4294967295,R=O+(I<<22&4294967295|I>>>10),I=w+(k^R&(O^k))+N[12]+1804603682&4294967295,w=R+(I<<7&4294967295|I>>>25),I=k+(O^w&(R^O))+N[13]+4254626195&4294967295,k=w+(I<<12&4294967295|I>>>20),I=O+(R^k&(w^R))+N[14]+2792965006&4294967295,O=k+(I<<17&4294967295|I>>>15),I=R+(w^O&(k^w))+N[15]+1236535329&4294967295,R=O+(I<<22&4294967295|I>>>10),I=w+(O^k&(R^O))+N[1]+4129170786&4294967295,w=R+(I<<5&4294967295|I>>>27),I=k+(R^O&(w^R))+N[6]+3225465664&4294967295,k=w+(I<<9&4294967295|I>>>23),I=O+(w^R&(k^w))+N[11]+643717713&4294967295,O=k+(I<<14&4294967295|I>>>18),I=R+(k^w&(O^k))+N[0]+3921069994&4294967295,R=O+(I<<20&4294967295|I>>>12),I=w+(O^k&(R^O))+N[5]+3593408605&4294967295,w=R+(I<<5&4294967295|I>>>27),I=k+(R^O&(w^R))+N[10]+38016083&4294967295,k=w+(I<<9&4294967295|I>>>23),I=O+(w^R&(k^w))+N[15]+3634488961&4294967295,O=k+(I<<14&4294967295|I>>>18),I=R+(k^w&(O^k))+N[4]+3889429448&4294967295,R=O+(I<<20&4294967295|I>>>12),I=w+(O^k&(R^O))+N[9]+568446438&4294967295,w=R+(I<<5&4294967295|I>>>27),I=k+(R^O&(w^R))+N[14]+3275163606&4294967295,k=w+(I<<9&4294967295|I>>>23),I=O+(w^R&(k^w))+N[3]+4107603335&4294967295,O=k+(I<<14&4294967295|I>>>18),I=R+(k^w&(O^k))+N[8]+1163531501&4294967295,R=O+(I<<20&4294967295|I>>>12),I=w+(O^k&(R^O))+N[13]+2850285829&4294967295,w=R+(I<<5&4294967295|I>>>27),I=k+(R^O&(w^R))+N[2]+4243563512&4294967295,k=w+(I<<9&4294967295|I>>>23),I=O+(w^R&(k^w))+N[7]+1735328473&4294967295,O=k+(I<<14&4294967295|I>>>18),I=R+(k^w&(O^k))+N[12]+2368359562&4294967295,R=O+(I<<20&4294967295|I>>>12),I=w+(R^O^k)+N[5]+4294588738&4294967295,w=R+(I<<4&4294967295|I>>>28),I=k+(w^R^O)+N[8]+2272392833&4294967295,k=w+(I<<11&4294967295|I>>>21),I=O+(k^w^R)+N[11]+1839030562&4294967295,O=k+(I<<16&4294967295|I>>>16),I=R+(O^k^w)+N[14]+4259657740&4294967295,R=O+(I<<23&4294967295|I>>>9),I=w+(R^O^k)+N[1]+2763975236&4294967295,w=R+(I<<4&4294967295|I>>>28),I=k+(w^R^O)+N[4]+1272893353&4294967295,k=w+(I<<11&4294967295|I>>>21),I=O+(k^w^R)+N[7]+4139469664&4294967295,O=k+(I<<16&4294967295|I>>>16),I=R+(O^k^w)+N[10]+3200236656&4294967295,R=O+(I<<23&4294967295|I>>>9),I=w+(R^O^k)+N[13]+681279174&4294967295,w=R+(I<<4&4294967295|I>>>28),I=k+(w^R^O)+N[0]+3936430074&4294967295,k=w+(I<<11&4294967295|I>>>21),I=O+(k^w^R)+N[3]+3572445317&4294967295,O=k+(I<<16&4294967295|I>>>16),I=R+(O^k^w)+N[6]+76029189&4294967295,R=O+(I<<23&4294967295|I>>>9),I=w+(R^O^k)+N[9]+3654602809&4294967295,w=R+(I<<4&4294967295|I>>>28),I=k+(w^R^O)+N[12]+3873151461&4294967295,k=w+(I<<11&4294967295|I>>>21),I=O+(k^w^R)+N[15]+530742520&4294967295,O=k+(I<<16&4294967295|I>>>16),I=R+(O^k^w)+N[2]+3299628645&4294967295,R=O+(I<<23&4294967295|I>>>9),I=w+(O^(R|~k))+N[0]+4096336452&4294967295,w=R+(I<<6&4294967295|I>>>26),I=k+(R^(w|~O))+N[7]+1126891415&4294967295,k=w+(I<<10&4294967295|I>>>22),I=O+(w^(k|~R))+N[14]+2878612391&4294967295,O=k+(I<<15&4294967295|I>>>17),I=R+(k^(O|~w))+N[5]+4237533241&4294967295,R=O+(I<<21&4294967295|I>>>11),I=w+(O^(R|~k))+N[12]+1700485571&4294967295,w=R+(I<<6&4294967295|I>>>26),I=k+(R^(w|~O))+N[3]+2399980690&4294967295,k=w+(I<<10&4294967295|I>>>22),I=O+(w^(k|~R))+N[10]+4293915773&4294967295,O=k+(I<<15&4294967295|I>>>17),I=R+(k^(O|~w))+N[1]+2240044497&4294967295,R=O+(I<<21&4294967295|I>>>11),I=w+(O^(R|~k))+N[8]+1873313359&4294967295,w=R+(I<<6&4294967295|I>>>26),I=k+(R^(w|~O))+N[15]+4264355552&4294967295,k=w+(I<<10&4294967295|I>>>22),I=O+(w^(k|~R))+N[6]+2734768916&4294967295,O=k+(I<<15&4294967295|I>>>17),I=R+(k^(O|~w))+N[13]+1309151649&4294967295,R=O+(I<<21&4294967295|I>>>11),I=w+(O^(R|~k))+N[4]+4149444226&4294967295,w=R+(I<<6&4294967295|I>>>26),I=k+(R^(w|~O))+N[11]+3174756917&4294967295,k=w+(I<<10&4294967295|I>>>22),I=O+(w^(k|~R))+N[2]+718787259&4294967295,O=k+(I<<15&4294967295|I>>>17),I=R+(k^(O|~w))+N[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+k&4294967295}r.prototype.v=function(C,w){w===void 0&&(w=C.length);const R=w-this.blockSize,N=this.C;let O=this.h,k=0;for(;k<w;){if(O==0)for(;k<=R;)o(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<w;)if(N[O++]=C.charCodeAt(k++),O==this.blockSize){o(this,N),O=0;break}}else for(;k<w;)if(N[O++]=C[k++],O==this.blockSize){o(this,N),O=0;break}}this.h=O,this.o+=w},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,R=0;R<4;++R)for(let N=0;N<32;N+=8)C[w++]=this.g[R]>>>N&255;return C};function u(C,w){var R=m;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=w(C)}function f(C,w){this.h=w;const R=[];let N=!0;for(let O=C.length-1;O>=0;O--){const k=C[O]|0;N&&k==w||(R[O]=k,N=!1)}this.g=R}var m={};function p(C){return-128<=C&&C<128?u(C,function(w){return new f([w|0],w<0?-1:0)}):new f([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return K(y(-C));const w=[];let R=1;for(let N=0;C>=R;N++)w[N]=C/R|0,R*=4294967296;return new f(w,0)}function E(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return K(E(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(w,8));let N=b;for(let k=0;k<C.length;k+=8){var O=Math.min(8,C.length-k);const I=parseInt(C.substring(k,k+O),w);O<8?(O=y(Math.pow(w,O)),N=N.j(O).add(y(I))):(N=N.j(R),N=N.add(y(I)))}return N}var b=p(0),D=p(1),L=p(16777216);s=f.prototype,s.m=function(){if(z(this))return-K(this).m();let C=0,w=1;for(let R=0;R<this.g.length;R++){const N=this.i(R);C+=(N>=0?N:4294967296+N)*w,w*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Y(this))return"0";if(z(this))return"-"+K(this).toString(C);const w=y(Math.pow(C,6));var R=this;let N="";for(;;){const O=se(R,w).g;R=re(R,O.j(w));let k=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=O,Y(R))return k+N;for(;k.length<6;)k="0"+k;N=k+N}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Y(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function z(C){return C.h==-1}s.l=function(C){return C=re(this,C),z(C)?-1:Y(C)?0:1};function K(C){const w=C.g.length,R=[];for(let N=0;N<w;N++)R[N]=~C.g[N];return new f(R,~C.h).add(D)}s.abs=function(){return z(this)?K(this):this},s.add=function(C){const w=Math.max(this.g.length,C.g.length),R=[];let N=0;for(let O=0;O<=w;O++){let k=N+(this.i(O)&65535)+(C.i(O)&65535),I=(k>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);N=I>>>16,k&=65535,I&=65535,R[O]=I<<16|k}return new f(R,R[R.length-1]&-2147483648?-1:0)};function re(C,w){return C.add(K(w))}s.j=function(C){if(Y(this)||Y(C))return b;if(z(this))return z(C)?K(this).j(K(C)):K(K(this).j(C));if(z(C))return K(this.j(K(C)));if(this.l(L)<0&&C.l(L)<0)return y(this.m()*C.m());const w=this.g.length+C.g.length,R=[];for(var N=0;N<2*w;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(let O=0;O<C.g.length;O++){const k=this.i(N)>>>16,I=this.i(N)&65535,Ye=C.i(O)>>>16,B=C.i(O)&65535;R[2*N+2*O]+=I*B,ue(R,2*N+2*O),R[2*N+2*O+1]+=k*B,ue(R,2*N+2*O+1),R[2*N+2*O+1]+=I*Ye,ue(R,2*N+2*O+1),R[2*N+2*O+2]+=k*Ye,ue(R,2*N+2*O+2)}for(C=0;C<w;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=w;C<2*w;C++)R[C]=0;return new f(R,0)};function ue(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function ie(C,w){this.g=C,this.h=w}function se(C,w){if(Y(w))throw Error("division by zero");if(Y(C))return new ie(b,b);if(z(C))return w=se(K(C),w),new ie(K(w.g),K(w.h));if(z(w))return w=se(C,K(w)),new ie(K(w.g),w.h);if(C.g.length>30){if(z(C)||z(w))throw Error("slowDivide_ only works with positive integers.");for(var R=D,N=w;N.l(C)<=0;)R=ye(R),N=ye(N);var O=$(R,1),k=$(N,1);for(N=$(N,2),R=$(R,2);!Y(N);){var I=k.add(N);I.l(C)<=0&&(O=O.add(R),k=I),N=$(N,1),R=$(R,1)}return w=re(C,O.j(w)),new ie(O,w)}for(O=b;C.l(w)>=0;){for(R=Math.max(1,Math.floor(C.m()/w.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),k=y(R),I=k.j(w);z(I)||I.l(C)>0;)R-=N,k=y(R),I=k.j(w);Y(k)&&(k=D),O=O.add(k),C=re(C,I)}return new ie(O,C)}s.B=function(C){return se(this,C).h},s.and=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let N=0;N<w;N++)R[N]=this.i(N)&C.i(N);return new f(R,this.h&C.h)},s.or=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let N=0;N<w;N++)R[N]=this.i(N)|C.i(N);return new f(R,this.h|C.h)},s.xor=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let N=0;N<w;N++)R[N]=this.i(N)^C.i(N);return new f(R,this.h^C.h)};function ye(C){const w=C.g.length+1,R=[];for(let N=0;N<w;N++)R[N]=C.i(N)<<1|C.i(N-1)>>>31;return new f(R,C.h)}function $(C,w){const R=w>>5;w%=32;const N=C.g.length-R,O=[];for(let k=0;k<N;k++)O[k]=w>0?C.i(k+R)>>>w|C.i(k+R+1)<<32-w:C.i(k+R);return new f(O,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,ob=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,As=f}).apply(typeof sE<"u"?sE:typeof self<"u"?self:typeof window<"u"?window:{});var wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lb,ru,ub,Lh,Cg,cb,hb,fb;(function(){var s,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof wh=="object"&&wh];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(c,g){if(g)e:{var v=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var j=c[S];if(!(j in v))break e;v=v[j]}c=c[c.length-1],S=v[c],g=g(S),g!=S&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var v=[],S;for(S in g)Object.prototype.hasOwnProperty.call(g,S)&&v.push([S,g[S]]);return v}});var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function p(c,g,v){return c.call.apply(c.bind,arguments)}function y(c,g,v){return y=p,y.apply(null,arguments)}function E(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function b(c,g){function v(){}v.prototype=g.prototype,c.Z=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,j,G){for(var oe=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)oe[Oe-2]=arguments[Oe];return g.prototype[j].apply(S,oe)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function L(c){const g=c.length;if(g>0){const v=Array(g);for(let S=0;S<g;S++)v[S]=c[S];return v}return[]}function Y(c,g){for(let S=1;S<arguments.length;S++){const j=arguments[S];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=c.length||0;const G=j.length||0;c.length=v+G;for(let oe=0;oe<G;oe++)c[v+oe]=j[oe]}else c.push(j)}}class z{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function K(c){f.setTimeout(()=>{throw c},0)}function re(){var c=C;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ue{constructor(){this.h=this.g=null}add(g,v){const S=ie.get();S.set(g,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ie=new z(()=>new se,c=>c.reset());class se{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,$=!1,C=new ue,w=()=>{const c=Promise.resolve(void 0);ye=()=>{c.then(R)}};function R(){for(var c;c=re();){try{c.h.call(c.g)}catch(v){K(v)}var g=ie;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}$=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,g),f.removeEventListener("test",v,g)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function Ye(c,g){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}b(Ye,O),Ye.prototype.init=function(c,g){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ye.Z.h.call(this)},Ye.prototype.h=function(){Ye.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var B="closure_listenable_"+(Math.random()*1e6|0),U=0;function ne(c,g,v,S,j){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!S,this.ha=j,this.key=++U,this.da=this.fa=!1}function he(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function _e(c,g,v){for(const S in c)g.call(v,c[S],S,c)}function ve(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function M(c){const g={};for(const v in c)g[v]=c[v];return g}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,g){let v,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(v in S)c[v]=S[v];for(let G=0;G<Z.length;G++)v=Z[G],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function de(c){this.src=c,this.g={},this.h=0}de.prototype.add=function(c,g,v,S,j){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const oe=Ve(c,g,S,j);return oe>-1?(g=c[oe],v||(g.fa=!1)):(g=new ne(g,this.src,G,!!S,j),g.fa=v,c.push(g)),g};function Ce(c,g){const v=g.type;if(v in c.g){var S=c.g[v],j=Array.prototype.indexOf.call(S,g,void 0),G;(G=j>=0)&&Array.prototype.splice.call(S,j,1),G&&(he(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ve(c,g,v,S){for(let j=0;j<c.length;++j){const G=c[j];if(!G.da&&G.listener==g&&G.capture==!!v&&G.ha==S)return j}return-1}var Qe="closure_lm_"+(Math.random()*1e6|0),qt={};function ft(c,g,v,S,j){if(Array.isArray(g)){for(let G=0;G<g.length;G++)ft(c,g[G],v,S,j);return null}return v=el(v),c&&c[B]?c.J(g,v,m(S)?!!S.capture:!1,j):zs(c,g,v,!1,S,j)}function zs(c,g,v,S,j,G){if(!g)throw Error("Invalid event type");const oe=m(j)?!!j.capture:!!j;let Oe=ks(c);if(Oe||(c[Qe]=Oe=new de(c)),v=Oe.add(g,v,S,oe,G),v.proxy)return v;if(S=Da(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)k||(j=oe),j===void 0&&(j=!1),c.addEventListener(g.toString(),S,j);else if(c.attachEvent)c.attachEvent(Si(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Da(){function c(v){return g.call(c.src,c.listener,v)}const g=Jo;return c}function Ia(c,g,v,S,j){if(Array.isArray(g))for(var G=0;G<g.length;G++)Ia(c,g[G],v,S,j);else S=m(S)?!!S.capture:!!S,v=el(v),c&&c[B]?(c=c.i,G=String(g).toString(),G in c.g&&(g=c.g[G],v=Ve(g,v,S,j),v>-1&&(he(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete c.g[G],c.h--)))):c&&(c=ks(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Ve(g,v,S,j)),(v=c>-1?g[c]:null)&&xa(v))}function xa(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[B])Ce(g.i,c);else{var v=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(v,S,c.capture):g.detachEvent?g.detachEvent(Si(v),S):g.addListener&&g.removeListener&&g.removeListener(S),(v=ks(g))?(Ce(v,c),v.h==0&&(v.src=null,g[Qe]=null)):he(c)}}}function Si(c){return c in qt?qt[c]:qt[c]="on"+c}function Jo(c,g){if(c.da)c=!0;else{g=new Ye(g,this);const v=c.listener,S=c.ha||c.src;c.fa&&xa(c),c=v.call(S,g)}return c}function ks(c){return c=c[Qe],c instanceof de?c:null}var Wo="__closure_events_fn_"+(Math.random()*1e9>>>0);function el(c){return typeof c=="function"?c:(c[Wo]||(c[Wo]=function(g){return c.handleEvent(g)}),c[Wo])}function Ct(){N.call(this),this.i=new de(this),this.M=this,this.G=null}b(Ct,N),Ct.prototype[B]=!0,Ct.prototype.removeEventListener=function(c,g,v,S){Ia(this,c,g,v,S)};function Ht(c,g){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new O(g,c);else if(g instanceof O)g.target=g.target||c;else{var j=g;g=new O(S,c),ae(g,j)}j=!0;let G,oe;if(v)for(oe=v.length-1;oe>=0;oe--)G=g.g=v[oe],j=Vr(G,S,!0,g)&&j;if(G=g.g=c,j=Vr(G,S,!0,g)&&j,j=Vr(G,S,!1,g)&&j,v)for(oe=0;oe<v.length;oe++)G=g.g=v[oe],j=Vr(G,S,!1,g)&&j}Ct.prototype.N=function(){if(Ct.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const v=c.g[g];for(let S=0;S<v.length;S++)he(v[S]);delete c.g[g],c.h--}}this.G=null},Ct.prototype.J=function(c,g,v,S){return this.i.add(String(c),g,!1,v,S)},Ct.prototype.K=function(c,g,v,S){return this.i.add(String(c),g,!0,v,S)};function Vr(c,g,v,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let j=!0;for(let G=0;G<g.length;++G){const oe=g[G];if(oe&&!oe.da&&oe.capture==v){const Oe=oe.listener,St=oe.ha||oe.src;oe.fa&&Ce(c.i,oe),j=Oe.call(St,S)!==!1&&j}}return j&&!S.defaultPrevented}function Qf(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function Xu(c){c.g=Qf(()=>{c.g=null,c.i&&(c.i=!1,Xu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class mn extends N{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Xu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ps(c){N.call(this),this.h=c,this.g={}}b(Ps,N);var tl=[];function nl(c){_e(c.g,function(g,v){this.g.hasOwnProperty(v)&&xa(g)},c),c.g={}}Ps.prototype.N=function(){Ps.Z.N.call(this),nl(this)},Ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zr=f.JSON.stringify,Kf=f.JSON.parse,$u=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Zu(){}function Ju(){}var si={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Zt(){O.call(this,"d")}b(Zt,O);function Hn(){O.call(this,"c")}b(Hn,O);var bt={},Wu=null;function Na(){return Wu=Wu||new Ct}bt.Ia="serverreachability";function ec(c){O.call(this,bt.Ia,c)}b(ec,O);function Ai(c){const g=Na();Ht(g,new ec(g))}bt.STAT_EVENT="statevent";function Us(c,g){O.call(this,bt.STAT_EVENT,c),this.stat=g}b(Us,O);function Dt(c){const g=Na();Ht(g,new Us(g,c))}bt.Ja="timingevent";function wi(c,g){O.call(this,bt.Ja,c),this.size=g}b(wi,O);function Ri(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function ai(){this.g=!0}ai.prototype.ua=function(){this.g=!1};function Xf(c,g,v,S,j,G){c.info(function(){if(c.g)if(G){var oe="",Oe=G.split("&");for(let Ze=0;Ze<Oe.length;Ze++){var St=Oe[Ze].split("=");if(St.length>1){const dt=St[0];St=St[1];const Qn=dt.split("_");oe=Qn.length>=2&&Qn[1]=="type"?oe+(dt+"="+St+"&"):oe+(dt+"=redacted&")}}}else oe=null;else oe=G;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+g+`
`+v+`
`+oe})}function tc(c,g,v,S,j,G,oe){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+g+`
`+v+`
`+G+" "+oe})}function Ci(c,g,v,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+$f(c,v)+(S?" "+S:"")})}function Ls(c,g){c.info(function(){return"TIMEOUT: "+g})}ai.prototype.info=function(){};function $f(c,g){if(!c.g)return g;if(!g)return null;try{const G=JSON.parse(g);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var v=G[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var j=S[0];if(j!="noop"&&j!="stop"&&j!="close")for(let oe=1;oe<S.length;oe++)S[oe]=""}}}}return zr(G)}catch{return g}}var js={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},il={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},rl;function Bs(){}b(Bs,Zu),Bs.prototype.g=function(){return new XMLHttpRequest},rl=new Bs;function ir(c){return encodeURIComponent(String(c))}function nc(c){var g=1;c=c.split(":");const v=[];for(;g>0&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function oi(c,g,v,S){this.j=c,this.i=g,this.l=v,this.S=S||1,this.V=new Ps(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new li}function li(){this.i=null,this.g="",this.h=!1}var It={},Yt={};function Di(c,g,v){c.M=1,c.A=qs(Nt(g)),c.u=v,c.R=!0,Oa(c,null)}function Oa(c,g){c.F=Date.now(),Ii(c),c.B=Nt(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),ka(v.i,"t",S),c.C=0,v=c.j.L,c.h=new li,c.g=yc(c.j,v?g:null,!c.u),c.P>0&&(c.O=new mn(y(c.Y,c,c.g),c.P)),g=c.V,v=c.g,S=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(tl[0]=j.toString()),j=tl);for(let G=0;G<j.length;G++){const oe=ft(v,j[G],S||g.handleEvent,!1,g.h||g);if(!oe)break;g.g[oe.key]=oe}g=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),Ai(),Xf(c.i,c.v,c.B,c.l,c.S,c.u)}oi.prototype.ba=function(c){c=c.target;const g=this.O;g&&hi(c)==3?g.j():this.Y(c)},oi.prototype.Y=function(c){try{if(c==this.g)e:{const Oe=hi(this.g),St=this.g.ya(),Ze=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||Jt(this.g)))){this.K||Oe!=4||St==7||(St==8||Ze<=0?Ai(3):Ai(2)),xi(this);var g=this.g.ca();this.X=g;var v=Zf(this);if(this.o=g==200,tc(this.i,this.v,this.B,this.l,this.S,Oe,g),this.o){if(this.U&&!this.L){t:{if(this.g){var S,j=this.g;if((S=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var G=S;break t}}G=null}if(c=G)Ci(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ni(this,c);else{this.o=!1,this.m=3,Dt(12),Nn(this),Fn(this);break e}}if(this.R){c=!0;let dt;for(;!this.K&&this.C<v.length;)if(dt=rc(this,v),dt==Yt){Oe==4&&(this.m=4,Dt(14),c=!1),Ci(this.i,this.l,null,"[Incomplete Response]");break}else if(dt==It){this.m=4,Dt(15),Ci(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else Ci(this.i,this.l,dt,null),Ni(this,dt);if(ic(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||v.length!=0||this.h.h||(this.m=1,Dt(16),c=!1),this.o=this.o&&c,!c)Ci(this.i,this.l,v,"[Invalid Chunked Response]"),Nn(this),Fn(this);else if(v.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),vl(oe),oe.P=!0,Dt(11))}}else Ci(this.i,this.l,v,null),Ni(this,v);Oe==4&&Nn(this),this.o&&!this.K&&(Oe==4?dc(this.j,this):(this.o=!1,Ii(this)))}else sr(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,Dt(12)):(this.m=0,Dt(13)),Nn(this),Fn(this)}}}catch{}finally{}};function Zf(c){if(!ic(c))return c.g.la();const g=Jt(c.g);if(g==="")return"";let v="";const S=g.length,j=hi(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Nn(c),Fn(c),"";c.h.i=new f.TextDecoder}for(let G=0;G<S;G++)c.h.h=!0,v+=c.h.i.decode(g[G],{stream:!(j&&G==S-1)});return g.length=0,c.h.g+=v,c.C=0,c.h.g}function ic(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function rc(c,g){var v=c.C,S=g.indexOf(`
`,v);return S==-1?Yt:(v=Number(g.substring(v,S)),isNaN(v)?It:(S+=1,S+v>g.length?Yt:(g=g.slice(S,S+v),c.C=S+v,g)))}oi.prototype.cancel=function(){this.K=!0,Nn(this)};function Ii(c){c.T=Date.now()+c.H,Ma(c,c.H)}function Ma(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Ri(y(c.aa,c),g)}function xi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}oi.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ls(this.i,this.B),this.M!=2&&(Ai(),Dt(17)),Nn(this),this.m=2,Fn(this)):Ma(this,this.T-c)};function Fn(c){c.j.I==0||c.K||dc(c.j,c)}function Nn(c){xi(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,nl(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function Ni(c,g){try{var v=c.j;if(v.I!=0&&(v.g==c||Mi(v.h,c))){if(!c.L&&Mi(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ba(v),Hr(v);else break e;Xs(v),Dt(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Ri(y(v.Va,v),6e3));Oi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Li(v,11)}else if((c.L||v.g==c)&&Ba(v),!I(g))for(j=v.Ba.g.parse(g),g=0;g<j.length;g++){let Ze=j[g];const dt=Ze[0];if(!(dt<=v.K))if(v.K=dt,Ze=Ze[1],v.I==2)if(Ze[0]=="c"){v.M=Ze[1],v.ba=Ze[2];const Qn=Ze[3];Qn!=null&&(v.ka=Qn,v.j.info("VER="+v.ka));const ji=Ze[4];ji!=null&&(v.za=ji,v.j.info("SVER="+v.za));const fi=Ze[5];fi!=null&&typeof fi=="number"&&fi>0&&(S=1.5*fi,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const di=c.g;if(di){const $s=di.g?di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($s){var G=S.h;G.g||$s.indexOf("spdy")==-1&&$s.indexOf("quic")==-1&&$s.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(ol(G,G.h),G.h=null))}if(S.G){const qa=di.g?di.g.getResponseHeader("X-HTTP-Session-Id"):null;qa&&(S.wa=qa,tt(S.J,S.G,qa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var oe=c;if(S.na=pc(S,S.L?S.ba:null,S.W),oe.L){ll(S.h,oe);var Oe=oe,St=S.O;St&&(Oe.H=St),Oe.D&&(xi(Oe),Ii(Oe)),S.g=oe}else hc(S);v.i.length>0&&Ui(v)}else Ze[0]!="stop"&&Ze[0]!="close"||Li(v,7);else v.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Li(v,7):yl(v):Ze[0]!="noop"&&v.l&&v.l.qa(Ze),v.A=0)}}Ai(4)}catch{}}var xt=class{constructor(c,g){this.g=c,this.map=g}};function sl(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function al(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Oi(c){return c.h?1:c.g?c.g.size:0}function Mi(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function ol(c,g){c.g?c.g.add(g):c.h=g}function ll(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}sl.prototype.cancel=function(){if(this.i=ul(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ul(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.G);return g}return L(c.i)}var sc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Va(c,g){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let j,G=null;S>=0?(j=c[v].substring(0,S),G=c[v].substring(S+1)):j=c[v],g(j,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function On(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof On?(this.l=c.l,Qt(this,c.j),this.o=c.o,this.g=c.g,kr(this,c.u),this.h=c.h,cl(this,uc(c.i)),this.m=c.m):c&&(g=String(c).match(sc))?(this.l=!1,Qt(this,g[1]||"",!0),this.o=Vi(g[2]||""),this.g=Vi(g[3]||"",!0),kr(this,g[4]),this.h=Vi(g[5]||"",!0),cl(this,g[6]||"",!0),this.m=Vi(g[7]||"")):(this.l=!1,this.i=new Ur(null,this.l))}On.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(Hs(g,za,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Hs(g,za,!0),"@"),c.push(ir(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Hs(v,v.charAt(0)=="/"?hl:ac,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Hs(v,oc)),c.join("")},On.prototype.resolve=function(c){const g=Nt(this);let v=!!c.j;v?Qt(g,c.j):v=!!c.o,v?g.o=c.o:v=!!c.g,v?g.g=c.g:v=c.u!=null;var S=c.h;if(v)kr(g,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var j=g.h.lastIndexOf("/");j!=-1&&(S=g.h.slice(0,j+1)+S)}if(j=S,j==".."||j==".")S="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){S=j.lastIndexOf("/",0)==0,j=j.split("/");const G=[];for(let oe=0;oe<j.length;){const Oe=j[oe++];Oe=="."?S&&oe==j.length&&G.push(""):Oe==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),S&&oe==j.length&&G.push("")):(G.push(Oe),S=!0)}S=G.join("/")}else S=j}return v?g.h=S:v=c.i.toString()!=="",v?cl(g,uc(c.i)):v=!!c.m,v&&(g.m=c.m),g};function Nt(c){return new On(c)}function Qt(c,g,v){c.j=v?Vi(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function kr(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function cl(c,g,v){g instanceof Ur?(c.i=g,Pa(c.i,c.l)):(v||(g=Hs(g,Pr)),c.i=new Ur(g,c.l))}function tt(c,g,v){c.i.set(g,v)}function qs(c){return tt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Vi(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Hs(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,En),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function En(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var za=/[#\/\?@]/g,ac=/[#\?:]/g,hl=/[#\?]/g,Pr=/[#\?@]/g,oc=/#/g;function Ur(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Tn(c){c.g||(c.g=new Map,c.h=0,c.i&&Va(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}s=Ur.prototype,s.add=function(c,g){Tn(this),this.i=null,c=Lr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function lc(c,g){Tn(c),g=Lr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function fl(c,g){return Tn(c),g=Lr(c,g),c.g.has(g)}s.forEach=function(c,g){Tn(this),this.g.forEach(function(v,S){v.forEach(function(j){c.call(g,j,S,this)},this)},this)};function dl(c,g){Tn(c);let v=[];if(typeof g=="string")fl(c,g)&&(v=v.concat(c.g.get(Lr(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)v=v.concat(c[g]);return v}s.set=function(c,g){return Tn(this),this.i=null,c=Lr(this,c),fl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},s.get=function(c,g){return c?(c=dl(this,c),c.length>0?String(c[0]):g):g};function ka(c,g,v){lc(c,g),v.length>0&&(c.i=null,c.g.set(Lr(c,g),L(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let S=0;S<g.length;S++){var v=g[S];const j=ir(v);v=dl(this,v);for(let G=0;G<v.length;G++){let oe=j;v[G]!==""&&(oe+="="+ir(v[G])),c.push(oe)}}return this.i=c.join("&")};function uc(c){const g=new Ur;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function Lr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Pa(c,g){g&&!c.j&&(Tn(c),c.i=null,c.g.forEach(function(v,S){const j=S.toLowerCase();S!=j&&(lc(this,S),ka(this,j,v))},c)),c.j=g}function ui(c,g){const v=new ai;if(f.Image){const S=new Image;S.onload=E(Gn,v,"TestLoadImage: loaded",!0,g,S),S.onerror=E(Gn,v,"TestLoadImage: error",!1,g,S),S.onabort=E(Gn,v,"TestLoadImage: abort",!1,g,S),S.ontimeout=E(Gn,v,"TestLoadImage: timeout",!1,g,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function ml(c,g){const v=new ai,S=new AbortController,j=setTimeout(()=>{S.abort(),Gn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout(j),G.ok?Gn(v,"TestPingServer: ok",!0,g):Gn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),Gn(v,"TestPingServer: error",!1,g)})}function Gn(c,g,v,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(v)}catch{}}function jr(){this.g=new $u}function zi(c){this.i=c.Sb||null,this.h=c.ab||!1}b(zi,Zu),zi.prototype.g=function(){return new Fs(this.i,this.h)};function Fs(c,g){Ct.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Fs,Ct),s=Fs.prototype,s.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,ci(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Br(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ua(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ua(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Br(this):ci(this),this.readyState==3&&Ua(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,Br(this))},s.Na=function(c){this.g&&(this.response=c,Br(this))},s.ga=function(){this.g&&Br(this)};function Br(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ci(c)}s.setRequestHeader=function(c,g){this.A.append(c,g)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function ci(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Fs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Yn(c){let g="";return _e(c,function(v,S){g+=S,g+=":",g+=v,g+=`\r
`}),g}function Gs(c,g,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Yn(v),typeof c=="string"?v!=null&&ir(v):tt(c,g,v))}function rt(c){Ct.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(rt,Ct);var ki=/^https?$/i,gl=["POST","PUT"];s=rt.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,g,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():rl.g(),this.g.onreadystatechange=D(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(G){Ys(this,G);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)v.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())v.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),j=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(gl,g,void 0)>=0)||S||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,oe]of v)this.g.setRequestHeader(G,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){Ys(this,G)}};function Ys(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,pl(c),rr(c)}function pl(c){c.A||(c.A=!0,Ht(c,"complete"),Ht(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ht(this,"complete"),Ht(this,"abort"),rr(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rr(this,!0)),rt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Qs(this):this.Xa())},s.Xa=function(){Qs(this)};function Qs(c){if(c.h&&typeof u<"u"){if(c.v&&hi(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ht(c,"readystatechange"),hi(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var S;if(S=G===0){let oe=String(c.D).match(sc)[1]||null;!oe&&f.self&&f.self.location&&(oe=f.self.location.protocol.slice(0,-1)),S=!ki.test(oe?oe.toLowerCase():"")}v=S}if(v)Ht(c,"complete"),Ht(c,"success");else{c.o=6;try{var j=hi(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",pl(c)}}finally{rr(c)}}}}function rr(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,g||Ht(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function hi(c){return c.g?c.g.readyState:0}s.ca=function(){try{return hi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Kf(g)}};function Jt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function sr(c){const g={};c=(c.g&&hi(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(I(c[S]))continue;var v=nc(c[S]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=g[j]||[];g[j]=G,G.push(v)}ve(g,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pi(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function qr(c){this.za=0,this.i=[],this.j=new ai,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Pi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Pi("baseRetryDelayMs",5e3,c),this.Za=Pi("retryDelaySeedMs",1e4,c),this.Ta=Pi("forwardChannelMaxRetries",2,c),this.va=Pi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new sl(c&&c.concurrentRequestLimit),this.Ba=new jr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=qr.prototype,s.ka=8,s.I=1,s.connect=function(c,g,v,S){Dt(0),this.W=c,this.H=g||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=pc(this,null,this.W),Ui(this)};function yl(c){if(La(c),c.I==3){var g=c.V++,v=Nt(c.J);if(tt(v,"SID",c.M),tt(v,"RID",g),tt(v,"TYPE","terminate"),Ks(c,v),g=new oi(c,c.j,g),g.M=2,g.A=qs(Nt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=g.A,v=!0),v||(g.g=yc(g.j,null),g.g.ea(g.A)),g.F=Date.now(),Ii(g)}gc(c)}function Hr(c){c.g&&(vl(c),c.g.cancel(),c.g=null)}function La(c){Hr(c),c.v&&(f.clearTimeout(c.v),c.v=null),Ba(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ui(c){if(!al(c.h)&&!c.m){c.m=!0;var g=c.Ea;ye||w(),$||(ye(),$=!0),C.add(g,c),c.D=0}}function ja(c,g){return Oi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Ri(y(c.Ea,c,g),mc(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new oi(this,this.j,c);let G=this.o;if(this.U&&(G?(G=M(G),ae(G,this.U)):G=this.U),this.u!==null||this.R||(j.J=G,G=null),this.S)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,g>4096){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=cc(this,j,g),v=Nt(this.J),tt(v,"RID",c),tt(v,"CVER",22),this.G&&tt(v,"X-HTTP-Session-Id",this.G),Ks(this,v),G&&(this.R?g="headers="+ir(Yn(G))+"&"+g:this.u&&Gs(v,this.u,G)),ol(this.h,j),this.Ra&&tt(v,"TYPE","init"),this.S?(tt(v,"$req",g),tt(v,"SID","null"),j.U=!0,Di(j,v,null)):Di(j,v,g),this.I=2}}else this.I==3&&(c?_l(this,c):this.i.length==0||al(this.h)||_l(this))};function _l(c,g){var v;g?v=g.l:v=c.V++;const S=Nt(c.J);tt(S,"SID",c.M),tt(S,"RID",v),tt(S,"AID",c.K),Ks(c,S),c.u&&c.o&&Gs(S,c.u,c.o),v=new oi(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),g&&(c.i=g.G.concat(c.i)),g=cc(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ol(c.h,v),Di(v,S,g)}function Ks(c,g){c.H&&_e(c.H,function(v,S){tt(g,S,v)}),c.l&&_e({},function(v,S){tt(g,S,v)})}function cc(c,g,v){v=Math.min(c.i.length,v);const S=c.l?y(c.l.Ka,c.l,c):null;e:{var j=c.i;let Oe=-1;for(;;){const St=["count="+v];Oe==-1?v>0?(Oe=j[0].g,St.push("ofs="+Oe)):Oe=0:St.push("ofs="+Oe);let Ze=!0;for(let dt=0;dt<v;dt++){var G=j[dt].g;const Qn=j[dt].map;if(G-=Oe,G<0)Oe=Math.max(0,j[dt].g-100),Ze=!1;else try{G="req"+G+"_"||"";try{var oe=Qn instanceof Map?Qn:Object.entries(Qn);for(const[ji,fi]of oe){let di=fi;m(fi)&&(di=zr(fi)),St.push(G+ji+"="+encodeURIComponent(di))}}catch(ji){throw St.push(G+"type="+encodeURIComponent("_badmap")),ji}}catch{S&&S(Qn)}}if(Ze){oe=St.join("&");break e}}oe=void 0}return c=c.i.splice(0,v),g.G=c,oe}function hc(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;ye||w(),$||(ye(),$=!0),C.add(g,c),c.A=0}}function Xs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Ri(y(c.Da,c),mc(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,fc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Ri(y(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Dt(10),Hr(this),fc(this))};function vl(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function fc(c){c.g=new oi(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=Nt(c.na);tt(g,"RID","rpc"),tt(g,"SID",c.M),tt(g,"AID",c.K),tt(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&tt(g,"TO",c.ia),tt(g,"TYPE","xmlhttp"),Ks(c,g),c.u&&c.o&&Gs(g,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=qs(Nt(g)),v.u=null,v.R=!0,Oa(v,c)}s.Va=function(){this.C!=null&&(this.C=null,Hr(this),Xs(this),Dt(19))};function Ba(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function dc(c,g){var v=null;if(c.g==g){Ba(c),vl(c),c.g=null;var S=2}else if(Mi(c.h,g))v=g.G,ll(c.h,g),S=1;else return;if(c.I!=0){if(g.o)if(S==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var j=c.D;S=Na(),Ht(S,new wi(S,v)),Ui(c)}else hc(c);else if(j=g.m,j==3||j==0&&g.X>0||!(S==1&&ja(c,g)||S==2&&Xs(c)))switch(v&&v.length>0&&(g=c.h,g.i=g.i.concat(v)),j){case 1:Li(c,5);break;case 4:Li(c,10);break;case 3:Li(c,6);break;default:Li(c,2)}}}function mc(c,g){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*g}function Li(c,g){if(c.j.info("Error code "+g),g==2){var v=y(c.bb,c),S=c.Ua;const j=!S;S=new On(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Qt(S,"https"),qs(S),j?ui(S.toString(),v):ml(S.toString(),v)}else Dt(2);c.I=0,c.l&&c.l.pa(g),gc(c),La(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function gc(c){if(c.I=0,c.ja=[],c.l){const g=ul(c.h);(g.length!=0||c.i.length!=0)&&(Y(c.ja,g),Y(c.ja,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.oa()}}function pc(c,g,v){var S=v instanceof On?Nt(v):new On(v);if(S.g!="")g&&(S.g=g+"."+S.g),kr(S,S.u);else{var j=f.location;S=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;const G=new On(null);S&&Qt(G,S),g&&(G.g=g),j&&kr(G,j),v&&(G.h=v),S=G}return v=c.G,g=c.wa,v&&g&&tt(S,v,g),tt(S,"VER",c.ka),Ks(c,S),S}function yc(c,g,v){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new rt(new zi({ab:v})):new rt(c.ma),g.Fa(c.L),g}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function _c(){}s=_c.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Fr(){}Fr.prototype.g=function(c,g){return new gn(c,g)};function gn(c,g){Ct.call(this),this.g=new qr(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!I(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!I(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ar(this)}b(gn,Ct),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){yl(this.g)},gn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=zr(c),c=v);g.i.push(new xt(g.Ya++,c)),g.I==3&&Ui(g)},gn.prototype.N=function(){this.g.l=null,delete this.j,yl(this.g),delete this.g,gn.Z.N.call(this)};function vc(c){Zt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}b(vc,Zt);function Ec(){Hn.call(this),this.status=1}b(Ec,Hn);function ar(c){this.g=c}b(ar,_c),ar.prototype.ra=function(){Ht(this.g,"a")},ar.prototype.qa=function(c){Ht(this.g,new vc(c))},ar.prototype.pa=function(c){Ht(this.g,new Ec)},ar.prototype.oa=function(){Ht(this.g,"b")},Fr.prototype.createWebChannel=Fr.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,fb=function(){return new Fr},hb=function(){return Na()},cb=bt,Cg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},js.NO_ERROR=0,js.TIMEOUT=8,js.HTTP_ERROR=6,Lh=js,il.COMPLETE="complete",ub=il,Ju.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",Ct.prototype.listen=Ct.prototype.J,ru=Ju,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,lb=rt}).apply(typeof wh<"u"?wh:typeof self<"u"?self:typeof window<"u"?window:{});const aE="@firebase/firestore",oE="4.9.2";class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");let Qo="12.3.0";const Aa=new Jg("@firebase/firestore");function To(){return Aa.logLevel}function fe(s,...e){if(Aa.logLevel<=Be.DEBUG){const n=e.map(hp);Aa.debug(`Firestore (${Qo}): ${s}`,...n)}}function Ir(s,...e){if(Aa.logLevel<=Be.ERROR){const n=e.map(hp);Aa.error(`Firestore (${Qo}): ${s}`,...n)}}function ko(s,...e){if(Aa.logLevel<=Be.WARN){const n=e.map(hp);Aa.warn(`Firestore (${Qo}): ${s}`,...n)}}function hp(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function Ae(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,db(s,r,n)}function db(s,e,n){let r=`FIRESTORE (${Qo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ir(r),new Error(r)}function et(s,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||db(e,o,r)}function Ne(s,e){return s}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Or{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class mb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ID{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(hn.UNAUTHENTICATED)))}shutdown(){}}class xD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class ND{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){et(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let u=new wr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new wr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new wr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(et(typeof r.accessToken=="string",31837,{l:r}),new mb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class OD{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MD{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new OD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class lE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){et(this.o===void 0,3512);const r=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new lE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(et(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new lE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function zD(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class fp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=zD(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=e.charAt(o[u]%62))}return r}}function qe(s,e){return s<e?-1:s>e?1:0}function Dg(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const o=s.charAt(r),u=e.charAt(r);if(o!==u)return rg(o)===rg(u)?qe(o,u):rg(o)?1:-1}return qe(s.length,e.length)}const kD=55296,PD=57343;function rg(s){const e=s.charCodeAt(0);return e>=kD&&e<=PD}function Po(s,e,n){return s.length===e.length&&s.every(((r,o)=>n(r,e[o])))}const uE="__name__";class Yi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ae(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Yi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const u=Yi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return qe(e.length,n.length)}static compareSegments(e,n){const r=Yi.isNumericId(e),o=Yi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Yi.extractNumericId(e).compare(Yi.extractNumericId(n)):Dg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return As.fromString(e.substring(4,e.length-2))}}class ut extends Yi{construct(e,n,r){return new ut(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new ut(n)}static emptyPath(){return new ut([])}}const UD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Yi{construct(e,n,r){return new an(e,n,r)}static isValidIdentifier(e){return UD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uE}static keyField(){return new an([uE])}static fromServerFormat(e){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new ce(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(r+=m,o++):(u(),o++)}if(u(),f)throw new ce(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(n)}static emptyPath(){return new an([])}}class Te{constructor(e){this.path=e}static fromPath(e){return new Te(ut.fromString(e))}static fromName(e){return new Te(ut.fromString(e).popFirst(5))}static empty(){return new Te(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new ut(e.slice()))}}function gb(s,e,n){if(!n)throw new ce(W.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function LD(s,e,n,r){if(e===!0&&r===!0)throw new ce(W.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function cE(s){if(!Te.isDocumentKey(s))throw new ce(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function hE(s){if(Te.isDocumentKey(s))throw new ce(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function pb(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Df(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ae(12329,{type:typeof s})}function _n(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ce(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Df(s);throw new ce(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function jt(s,e){const n={typeString:s};return e&&(n.value=e),n}function Pu(s,e){if(!pb(s))throw new ce(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new ce(W.INVALID_ARGUMENT,n);return!0}const fE=-62135596800,dE=1e6;class We{static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*dE);return new We(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<fE)throw new ce(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dE}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:We._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pu(e,We._jsonSchema))return new We(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-fE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}We._jsonSchemaVersion="firestore/timestamp/1.0",We._jsonSchema={type:jt("string",We._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new We(0,0))}static max(){return new De(new We(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Au=-1;function jD(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=De.fromTimestamp(r===1e9?new We(n+1,0):new We(n,r));return new Rs(o,Te.empty(),e)}function BD(s){return new Rs(s.readTime,s.key,Au)}class Rs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Rs(De.min(),Te.empty(),Au)}static max(){return new Rs(De.max(),Te.empty(),Au)}}function qD(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(s.documentKey,e.documentKey),n!==0?n:qe(s.largestBatchId,e.largestBatchId))}const HD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ko(s){if(s.code!==W.FAILED_PRECONDITION||s.message!==HD)throw s;fe("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,r)=>{n(e)}))}static reject(e){return new te(((n,r)=>{r(e)}))}static waitFor(e){return new te(((n,r)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>r(p)))})),f=!0,u===o&&n()}))}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next((o=>o?te.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(e,n){return new te(((r,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next((E=>{f[y]=E,++m,m===u&&r(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new te(((r,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):r()};u()}))}}function GD(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xo(s){return s.name==="IndexedDbTransactionError"}class If{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}If.ce=-1;const dp=-1;function xf(s){return s==null}function af(s){return s===0&&1/s==-1/0}function YD(s){return typeof s=="number"&&Number.isInteger(s)&&!af(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const yb="";function QD(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=mE(e)),e=KD(s.get(n),e);return mE(e)}function KD(s,e){let n=e;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case yb:n+="";break;default:n+=u}}return n}function mE(s){return s+yb+""}function gE(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Os(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function _b(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class yt{constructor(e,n){this.comparator=e,this.root=n||sn.EMPTY}insert(e,n){return new yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rh(this.root,e,this.comparator,!0)}}class Rh{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??sn.RED,this.left=o??sn.EMPTY,this.right=u??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,u){return new sn(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return sn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,r,o,u){return this}insert(e,n,r){return new sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pE(this.data.getIterator())}getIteratorFrom(e){return new pE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Gt(this.comparator);return n.data=e,n}}class pE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qn{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new qn([])}unionWith(e){let n=new Gt(an.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Po(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class vb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new vb("Invalid base64 string: "+u):u}})(e);return new on(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const XD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(s){if(et(!!s,39018),typeof s=="string"){let e=0;const n=XD.exec(s);if(et(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rt(s.seconds),nanos:Rt(s.nanos)}}function Rt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ds(s){return typeof s=="string"?on.fromBase64String(s):on.fromUint8Array(s)}const Eb="server_timestamp",Tb="__type__",bb="__previous_value__",Sb="__local_write_time__";function mp(s){return(s?.mapValue?.fields||{})[Tb]?.stringValue===Eb}function Nf(s){const e=s.mapValue.fields[bb];return mp(e)?Nf(e):e}function wu(s){const e=Cs(s.mapValue.fields[Sb].timestampValue);return new We(e.seconds,e.nanos)}class $D{constructor(e,n,r,o,u,f,m,p,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const of="(default)";class Ru{constructor(e,n){this.projectId=e,this.database=n||of}static empty(){return new Ru("","")}get isDefaultDatabase(){return this.database===of}isEqual(e){return e instanceof Ru&&e.projectId===this.projectId&&e.database===this.database}}const Ab="__type__",ZD="__max__",Ch={mapValue:{}},wb="__vector__",lf="value";function Is(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?mp(s)?4:WD(s)?9007199254740991:JD(s)?10:11:Ae(28295,{value:s})}function er(s,e){if(s===e)return!0;const n=Is(s);if(n!==Is(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return wu(s).isEqual(wu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Cs(o.timestampValue),m=Cs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,u){return Ds(o.bytesValue).isEqual(Ds(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,u){return Rt(o.geoPointValue.latitude)===Rt(u.geoPointValue.latitude)&&Rt(o.geoPointValue.longitude)===Rt(u.geoPointValue.longitude)})(s,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Rt(o.integerValue)===Rt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Rt(o.doubleValue),m=Rt(u.doubleValue);return f===m?af(f)===af(m):isNaN(f)&&isNaN(m)}return!1})(s,e);case 9:return Po(s.arrayValue.values||[],e.arrayValue.values||[],er);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(gE(f)!==gE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!er(f[p],m[p])))return!1;return!0})(s,e);default:return Ae(52216,{left:s})}}function Cu(s,e){return(s.values||[]).find((n=>er(n,e)))!==void 0}function Uo(s,e){if(s===e)return 0;const n=Is(s),r=Is(e);if(n!==r)return qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(s.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=Rt(u.integerValue||u.doubleValue),p=Rt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(s,e);case 3:return yE(s.timestampValue,e.timestampValue);case 4:return yE(wu(s),wu(e));case 5:return Dg(s.stringValue,e.stringValue);case 6:return(function(u,f){const m=Ds(u),p=Ds(f);return m.compareTo(p)})(s.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=qe(m[y],p[y]);if(E!==0)return E}return qe(m.length,p.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=qe(Rt(u.latitude),Rt(f.latitude));return m!==0?m:qe(Rt(u.longitude),Rt(f.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return _E(s.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},y=m[lf]?.arrayValue,E=p[lf]?.arrayValue,b=qe(y?.values?.length||0,E?.values?.length||0);return b!==0?b:_E(y,E)})(s.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Ch.mapValue&&f===Ch.mapValue)return 0;if(u===Ch.mapValue)return 1;if(f===Ch.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const D=Dg(p[b],E[b]);if(D!==0)return D;const L=Uo(m[p[b]],y[E[b]]);if(L!==0)return L}return qe(p.length,E.length)})(s.mapValue,e.mapValue);default:throw Ae(23264,{he:n})}}function yE(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return qe(s,e);const n=Cs(s),r=Cs(e),o=qe(n.seconds,r.seconds);return o!==0?o:qe(n.nanos,r.nanos)}function _E(s,e){const n=s.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=Uo(n[o],r[o]);if(u)return u}return qe(n.length,r.length)}function Lo(s){return Ig(s)}function Ig(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=Cs(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return Ds(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return Te.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=Ig(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${Ig(n.fields[f])}`;return o+"}"})(s.mapValue):Ae(61005,{value:s})}function jh(s){switch(Is(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nf(s);return e?16+jh(e):16;case 5:return 2*s.stringValue.length;case 6:return Ds(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+jh(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Os(r.fields,((u,f)=>{o+=u.length+jh(f)})),o})(s.mapValue);default:throw Ae(13486,{value:s})}}function vE(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function xg(s){return!!s&&"integerValue"in s}function gp(s){return!!s&&"arrayValue"in s}function EE(s){return!!s&&"nullValue"in s}function TE(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Bh(s){return!!s&&"mapValue"in s}function JD(s){return(s?.mapValue?.fields||{})[Ab]?.stringValue===wb}function du(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Os(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=du(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=du(s.arrayValue.values[n]);return e}return{...s}}function WD(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===ZD}class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Bh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=du(n)}setAll(e){let n=an.emptyPath(),r={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,r,o),r={},o=[],n=m.popLast()}f?r[m.lastSegment()]=du(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(e){const n=this.field(e.popLast());Bh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Bh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Os(n,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new In(du(this.value))}}function Rb(s){const e=[];return Os(s.fields,((n,r)=>{const o=new an([n]);if(Bh(r)){const u=Rb(r.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new qn(e)}class fn{constructor(e,n,r,o,u,f,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new fn(e,0,De.min(),De.min(),De.min(),In.empty(),0)}static newFoundDocument(e,n,r,o){return new fn(e,1,n,De.min(),r,o,0)}static newNoDocument(e,n){return new fn(e,2,n,De.min(),De.min(),In.empty(),0)}static newUnknownDocument(e,n){return new fn(e,3,n,De.min(),De.min(),In.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class uf{constructor(e,n){this.position=e,this.inclusive=n}}function bE(s,e,n){let r=0;for(let o=0;o<s.position.length;o++){const u=e[o],f=s.position[o];if(u.field.isKeyField()?r=Te.comparator(Te.fromName(f.referenceValue),n.key):r=Uo(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function SE(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!er(s.position[n],e.position[n]))return!1;return!0}class Du{constructor(e,n="asc"){this.field=e,this.dir=n}}function eI(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class Cb{}class Lt extends Cb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new nI(e,n,r):n==="array-contains"?new sI(e,r):n==="in"?new aI(e,r):n==="not-in"?new oI(e,r):n==="array-contains-any"?new lI(e,r):new Lt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new iI(e,r):new rI(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Uo(n,this.value)):n!==null&&Is(this.value)===Is(n)&&this.matchesComparison(Uo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bi extends Cb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new bi(e,n)}matches(e){return Db(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Db(s){return s.op==="and"}function Ib(s){return tI(s)&&Db(s)}function tI(s){for(const e of s.filters)if(e instanceof bi)return!1;return!0}function Ng(s){if(s instanceof Lt)return s.field.canonicalString()+s.op.toString()+Lo(s.value);if(Ib(s))return s.filters.map((e=>Ng(e))).join(",");{const e=s.filters.map((n=>Ng(n))).join(",");return`${s.op}(${e})`}}function xb(s,e){return s instanceof Lt?(function(r,o){return o instanceof Lt&&r.op===o.op&&r.field.isEqual(o.field)&&er(r.value,o.value)})(s,e):s instanceof bi?(function(r,o){return o instanceof bi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,m)=>u&&xb(f,o.filters[m])),!0):!1})(s,e):void Ae(19439)}function Nb(s){return s instanceof Lt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Lo(n.value)}`})(s):s instanceof bi?(function(n){return n.op.toString()+" {"+n.getFilters().map(Nb).join(" ,")+"}"})(s):"Filter"}class nI extends Lt{constructor(e,n,r){super(e,n,r),this.key=Te.fromName(r.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class iI extends Lt{constructor(e,n){super(e,"in",n),this.keys=Ob("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class rI extends Lt{constructor(e,n){super(e,"not-in",n),this.keys=Ob("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Ob(s,e){return(e.arrayValue?.values||[]).map((n=>Te.fromName(n.referenceValue)))}class sI extends Lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gp(n)&&Cu(n.arrayValue,this.value)}}class aI extends Lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Cu(this.value.arrayValue,n)}}class oI extends Lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Cu(this.value.arrayValue,n)}}class lI extends Lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Cu(this.value.arrayValue,r)))}}class uI{constructor(e,n=null,r=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function AE(s,e=null,n=[],r=[],o=null,u=null,f=null){return new uI(s,e,n,r,o,u,f)}function pp(s){const e=Ne(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Ng(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),xf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Lo(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Lo(r))).join(",")),e.Te=n}return e.Te}function yp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!eI(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!xb(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!SE(s.startAt,e.startAt)&&SE(s.endAt,e.endAt)}function Og(s){return Te.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class $o{constructor(e,n=null,r=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function cI(s,e,n,r,o,u,f,m){return new $o(s,e,n,r,o,u,f,m)}function Of(s){return new $o(s)}function wE(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Mb(s){return s.collectionGroup!==null}function mu(s){const e=Ne(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Gt(an.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Du(u,r))})),n.has(an.keyField().canonicalString())||e.Ie.push(new Du(an.keyField(),r))}return e.Ie}function Ki(s){const e=Ne(s);return e.Ee||(e.Ee=hI(e,mu(s))),e.Ee}function hI(s,e){if(s.limitType==="F")return AE(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Du(o.field,u)}));const n=s.endAt?new uf(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new uf(s.startAt.position,s.startAt.inclusive):null;return AE(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Mg(s,e){const n=s.filters.concat([e]);return new $o(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function Vg(s,e,n){return new $o(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Mf(s,e){return yp(Ki(s),Ki(e))&&s.limitType===e.limitType}function Vb(s){return`${pp(Ki(s))}|lt:${s.limitType}`}function bo(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>Nb(o))).join(", ")}]`),xf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Lo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Lo(o))).join(",")),`Target(${r})`})(Ki(s))}; limitType=${s.limitType})`}function Vf(s,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Te.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,o){for(const u of mu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(f,m,p){const y=bE(f,m,p);return f.inclusive?y<=0:y<0})(r.startAt,mu(r),o)||r.endAt&&!(function(f,m,p){const y=bE(f,m,p);return f.inclusive?y>=0:y>0})(r.endAt,mu(r),o))})(s,e)}function fI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function zb(s){return(e,n)=>{let r=!1;for(const o of mu(s)){const u=dI(o,e,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function dI(s,e,n){const r=s.field.isKeyField()?Te.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?Uo(p,y):Ae(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:s.dir})}}class Ra{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Os(this.inner,((n,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return _b(this.inner)}size(){return this.innerSize}}const mI=new yt(Te.comparator);function xr(){return mI}const kb=new yt(Te.comparator);function su(...s){let e=kb;for(const n of s)e=e.insert(n.key,n);return e}function Pb(s){let e=kb;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ya(){return gu()}function Ub(){return gu()}function gu(){return new Ra((s=>s.toString()),((s,e)=>s.isEqual(e)))}const gI=new yt(Te.comparator),pI=new Gt(Te.comparator);function He(...s){let e=pI;for(const n of s)e=e.add(n);return e}const yI=new Gt(qe);function _I(){return yI}function _p(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:af(e)?"-0":e}}function Lb(s){return{integerValue:""+s}}function vI(s,e){return YD(e)?Lb(e):_p(s,e)}class zf{constructor(){this._=void 0}}function EI(s,e,n){return s instanceof Iu?(function(o,u){const f={fields:{[Tb]:{stringValue:Eb},[Sb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&mp(u)&&(u=Nf(u)),u&&(f.fields[bb]=u),{mapValue:f}})(n,e):s instanceof xu?Bb(s,e):s instanceof Nu?qb(s,e):(function(o,u){const f=jb(o,u),m=RE(f)+RE(o.Ae);return xg(f)&&xg(o.Ae)?Lb(m):_p(o.serializer,m)})(s,e)}function TI(s,e,n){return s instanceof xu?Bb(s,e):s instanceof Nu?qb(s,e):n}function jb(s,e){return s instanceof cf?(function(r){return xg(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class Iu extends zf{}class xu extends zf{constructor(e){super(),this.elements=e}}function Bb(s,e){const n=Hb(e);for(const r of s.elements)n.some((o=>er(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Nu extends zf{constructor(e){super(),this.elements=e}}function qb(s,e){let n=Hb(e);for(const r of s.elements)n=n.filter((o=>!er(o,r)));return{arrayValue:{values:n}}}class cf extends zf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function RE(s){return Rt(s.integerValue||s.doubleValue)}function Hb(s){return gp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class bI{constructor(e,n){this.field=e,this.transform=n}}function SI(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof xu&&o instanceof xu||r instanceof Nu&&o instanceof Nu?Po(r.elements,o.elements,er):r instanceof cf&&o instanceof cf?er(r.Ae,o.Ae):r instanceof Iu&&o instanceof Iu})(s.transform,e.transform)}class AI{constructor(e,n){this.version=e,this.transformResults=n}}class vn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vn}static exists(e){return new vn(void 0,e)}static updateTime(e){return new vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class kf{}function Fb(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Pf(s.key,vn.none()):new Uu(s.key,s.data,vn.none());{const n=s.data,r=In.empty();let o=new Gt(an.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new Ms(s.key,r,new qn(o.toArray()),vn.none())}}function wI(s,e,n){s instanceof Uu?(function(o,u,f){const m=o.value.clone(),p=DE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(s,e,n):s instanceof Ms?(function(o,u,f){if(!qh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=DE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(Gb(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(s,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function pu(s,e,n,r){return s instanceof Uu?(function(u,f,m,p){if(!qh(u.precondition,f))return m;const y=u.value.clone(),E=IE(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(s,e,n,r):s instanceof Ms?(function(u,f,m,p){if(!qh(u.precondition,f))return m;const y=IE(u.fieldTransforms,p,f),E=f.data;return E.setAll(Gb(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(s,e,n,r):(function(u,f,m){return qh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(s,e,n)}function RI(s,e){let n=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),u=jb(r.transform,o||null);u!=null&&(n===null&&(n=In.empty()),n.set(r.field,u))}return n||null}function CE(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Po(r,o,((u,f)=>SI(u,f)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Uu extends kf{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ms extends kf{constructor(e,n,r,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Gb(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function DE(s,e,n){const r=new Map;et(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let o=0;o<n.length;o++){const u=s[o],f=u.transform,m=e.data.field(u.field);r.set(u.field,TI(f,m,n[o]))}return r}function IE(s,e,n){const r=new Map;for(const o of s){const u=o.transform,f=n.data.field(o.field);r.set(o.field,EI(u,f,e))}return r}class Pf extends kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CI extends kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class DI{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&wI(u,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=pu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=pu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Ub();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=Fb(f,m);p!==null&&r.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(De.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),He())}isEqual(e){return this.batchId===e.batchId&&Po(this.mutations,e.mutations,((n,r)=>CE(n,r)))&&Po(this.baseMutations,e.baseMutations,((n,r)=>CE(n,r)))}}class vp{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){et(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return gI})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new vp(e,n,r,o)}}class II{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class xI{constructor(e,n){this.count=e,this.unchangedNames=n}}var kt,Ke;function NI(s){switch(s){case W.OK:return Ae(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Ae(15467,{code:s})}}function Yb(s){if(s===void 0)return Ir("GRPC error has no .code"),W.UNKNOWN;switch(s){case kt.OK:return W.OK;case kt.CANCELLED:return W.CANCELLED;case kt.UNKNOWN:return W.UNKNOWN;case kt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case kt.INTERNAL:return W.INTERNAL;case kt.UNAVAILABLE:return W.UNAVAILABLE;case kt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case kt.NOT_FOUND:return W.NOT_FOUND;case kt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case kt.ABORTED:return W.ABORTED;case kt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case kt.DATA_LOSS:return W.DATA_LOSS;default:return Ae(39323,{code:s})}}(Ke=kt||(kt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";function OI(){return new TextEncoder}const MI=new As([4294967295,4294967295],0);function xE(s){const e=OI().encode(s),n=new ob;return n.update(e),new Uint8Array(n.digest())}function NE(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new As([n,r],0),new As([o,u],0)]}class Ep{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new au(`Invalid padding: ${n}`);if(r<0)throw new au(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new au(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new au(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=As.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(As.fromNumber(r)));return o.compare(MI)===1&&(o=new As([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=xE(e),[r,o]=NE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Ep(u,o,n);return r.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=xE(e),[r,o]=NE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Uf{constructor(e,n,r,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Lu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Uf(De.min(),o,new yt(qe),xr(),He())}}class Lu{constructor(e,n,r,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Lu(r,n,He(),He(),He())}}class Hh{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class Qb{constructor(e,n){this.targetId=e,this.Ce=n}}class Kb{constructor(e,n,r=on.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class OE{constructor(){this.ve=0,this.Fe=ME(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),n=He(),r=He();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Ae(38017,{changeType:u})}})),new Lu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=ME()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class VI{constructor(e){this.Ge=e,this.ze=new Map,this.je=xr(),this.Je=Dh(),this.He=Dh(),this.Ye=new yt(qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Og(u))if(r===0){const f=new Te(u.path);this.et(n,f,fn.newNoDocument(f,De.min()))}else et(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Ds(r).toUint8Array()}catch(p){if(p instanceof vb)return ko("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Ep(f,o,u)}catch(p){return ko(p instanceof au?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Og(m.target)){const p=new Te(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,fn.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let r=He();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Uf(e,n,this.Ye,this.je,r);return this.je=xr(),this.Je=Dh(),this.He=Dh(),this.Ye=new yt(qe),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new OE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Gt(qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Gt(qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new OE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Dh(){return new yt(Te.comparator)}function ME(){return new yt(Te.comparator)}const zI={asc:"ASCENDING",desc:"DESCENDING"},kI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PI={and:"AND",or:"OR"};class UI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zg(s,e){return s.useProto3Json||xf(e)?e:{value:e}}function hf(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xb(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function LI(s,e){return hf(s,e.toTimestamp())}function Xi(s){return et(!!s,49232),De.fromTimestamp((function(n){const r=Cs(n);return new We(r.seconds,r.nanos)})(s))}function Tp(s,e){return kg(s,e).canonicalString()}function kg(s,e){const n=(function(o){return new ut(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function $b(s){const e=ut.fromString(s);return et(tS(e),10190,{key:e.toString()}),e}function Pg(s,e){return Tp(s.databaseId,e.path)}function sg(s,e){const n=$b(e);if(n.get(1)!==s.databaseId.projectId)throw new ce(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new ce(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new Te(Jb(n))}function Zb(s,e){return Tp(s.databaseId,e)}function jI(s){const e=$b(s);return e.length===4?ut.emptyPath():Jb(e)}function Ug(s){return new ut(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Jb(s){return et(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function VE(s,e,n){return{name:Pg(s,e),fields:n.value.mapValue.fields}}function BI(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ae(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(et(E===void 0||typeof E=="string",58123),on.fromBase64String(E||"")):(et(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),on.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?W.UNKNOWN:Yb(y.code);return new ce(E,y.message||"")})(f);n=new Kb(r,o,u,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=sg(s,r.document.name),u=Xi(r.document.updateTime),f=r.document.createTime?Xi(r.document.createTime):De.min(),m=new In({mapValue:{fields:r.document.fields}}),p=fn.newFoundDocument(o,u,f,m),y=r.targetIds||[],E=r.removedTargetIds||[];n=new Hh(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=sg(s,r.document),u=r.readTime?Xi(r.readTime):De.min(),f=fn.newNoDocument(o,u),m=r.removedTargetIds||[];n=new Hh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=sg(s,r.document),u=r.removedTargetIds||[];n=new Hh([],u,o,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new xI(o,u),m=r.targetId;n=new Qb(m,f)}}return n}function qI(s,e){let n;if(e instanceof Uu)n={update:VE(s,e.key,e.value)};else if(e instanceof Pf)n={delete:Pg(s,e.key)};else if(e instanceof Ms)n={update:VE(s,e.key,e.data),updateMask:ZI(e.fieldMask)};else{if(!(e instanceof CI))return Ae(16599,{Vt:e.type});n={verify:Pg(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,f){const m=f.transform;if(m instanceof Iu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof xu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Nu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof cf)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ae(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:LI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae(27497)})(s,e.precondition)),n}function HI(s,e){return s&&s.length>0?(et(e!==void 0,14353),s.map((n=>(function(o,u){let f=o.updateTime?Xi(o.updateTime):Xi(u);return f.isEqual(De.min())&&(f=Xi(u)),new AI(f,o.transformResults||[])})(n,e)))):[]}function FI(s,e){return{documents:[Zb(s,e.path)]}}function GI(s,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Zb(s,o);const u=(function(y){if(y.length!==0)return eS(bi.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(D){return{field:So(D.field),direction:KI(D.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=zg(s,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function YI(s){let e=jI(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){et(r===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(b){const D=Wb(b);return D instanceof bi&&Ib(D)?D.getFilters():[D]})(n.where));let f=[];n.orderBy&&(f=(function(b){return b.map((D=>(function(Y){return new Du(Ao(Y.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(D)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let D;return D=typeof b=="object"?b.value:b,xf(D)?null:D})(n.limit));let p=null;n.startAt&&(p=(function(b){const D=!!b.before,L=b.values||[];return new uf(L,D)})(n.startAt));let y=null;return n.endAt&&(y=(function(b){const D=!b.before,L=b.values||[];return new uf(L,D)})(n.endAt)),cI(e,o,f,u,m,"F",p,y)}function QI(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Wb(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ao(n.unaryFilter.field);return Lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Ao(n.unaryFilter.field);return Lt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ao(n.unaryFilter.field);return Lt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ao(n.unaryFilter.field);return Lt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Lt.create(Ao(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return bi.create(n.compositeFilter.filters.map((r=>Wb(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(n.compositeFilter.op))})(s):Ae(30097,{filter:s})}function KI(s){return zI[s]}function XI(s){return kI[s]}function $I(s){return PI[s]}function So(s){return{fieldPath:s.canonicalString()}}function Ao(s){return an.fromServerFormat(s.fieldPath)}function eS(s){return s instanceof Lt?(function(n){if(n.op==="=="){if(TE(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NAN"}};if(EE(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(TE(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NAN"}};if(EE(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:So(n.field),op:XI(n.op),value:n.value}}})(s):s instanceof bi?(function(n){const r=n.getFilters().map((o=>eS(o)));return r.length===1?r[0]:{compositeFilter:{op:$I(n.op),filters:r}}})(s):Ae(54877,{filter:s})}function ZI(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function tS(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class vs{constructor(e,n,r,o,u=De.min(),f=De.min(),m=on.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class JI{constructor(e){this.yt=e}}function WI(s){const e=YI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Vg(e,e.limit,"L"):e}class ex{constructor(){this.Cn=new tx}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Rs.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Rs.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class tx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Gt(ut.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Gt(ut.comparator)).toArray()}}const zE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nS=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(nS,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);class jo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new jo(0)}static cr(){return new jo(-1)}}const kE="LruGarbageCollector",nx=1048576;function PE([s,e],[n,r]){const o=qe(s,n);return o===0?qe(e,r):o}class ix{constructor(e){this.Ir=e,this.buffer=new Gt(PE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();PE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rx{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(kE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xo(n)?fe(kE,"Ignoring IndexedDB error during garbage collection: ",n):await Ko(n)}await this.Vr(3e5)}))}}class sx{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(If.ce);const r=new ix(n);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(zE)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(r=b,m=Date.now(),this.removeTargets(e,r,n)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(y=Date.now(),To()<=Be.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function ax(s,e){return new sx(s,e)}class ox{constructor(){this.changes=new Ra((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class ux{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&pu(r.mutation,o,qn.empty(),We.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,He()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=He()){const o=ya();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((u=>{let f=su();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const r=ya();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,He())))}populateOverlays(e,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,r,o){let u=xr();const f=gu(),m=(function(){return gu()})();return n.forEach(((p,y)=>{const E=r.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Ms)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),pu(E.mutation,y,E.mutation.getFieldMask(),We.now())):f.set(y.key,qn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new lx(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const r=gu();let o=new yt(((f,m)=>f-m)),u=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let E=r.get(p)||qn.empty();E=m.applyToLocalView(y,E),r.set(p,E);const b=(o.get(m.batchId)||He()).add(p);o=o.insert(m.batchId,b)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,b=Ub();E.forEach((D=>{if(!u.has(D)){const L=Fb(n.get(D),r.get(D));L!==null&&b.set(D,L),u=u.add(D)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,b))}return te.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(f){return Te.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Mb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-u.size):te.resolve(ya());let m=Au,p=u;return f.next((y=>te.forEach(y,((E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next((D=>{p=p.insert(E,D)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,He()))).next((E=>({batchId:m,changes:Pb(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next((r=>{let o=su();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const u=n.collectionGroup;let f=su();return this.indexManager.getCollectionParents(e,u).next((m=>te.forEach(m,(p=>{const y=(function(b,D){return new $o(D,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((E=>{E.forEach(((b,D)=>{f=f.insert(b,D)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,o)))).next((f=>{u.forEach(((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,fn.newInvalidDocument(E)))}));let m=su();return f.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&pu(E.mutation,y,qn.empty(),We.now()),Vf(n,y)&&(m=m.insert(p,y))})),m}))}}class cx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Xi(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:WI(o.bundledQuery),readTime:Xi(o.readTime)}})(n)),te.resolve()}}class hx{constructor(){this.overlays=new yt(Te.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ya();return te.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,u)=>{this.St(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const o=ya(),u=n.length+1,f=new Te(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let u=new yt(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let E=u.get(y.largestBatchId);E===null&&(E=ya(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=ya(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return te.resolve(m)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new II(n,r));let u=this.qr.get(n);u===void 0&&(u=He(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}class fx{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class bp{constructor(){this.Qr=new Gt(Xt.$r),this.Ur=new Gt(Xt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Xt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Xt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Te(new ut([])),r=new Xt(n,e),o=new Xt(n,e+1),u=[];return this.Ur.forEachInRange([r,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Te(new ut([])),r=new Xt(n,e),o=new Xt(n,e+1);let u=He();return this.Ur.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Xt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Te.comparator(e.key,n.key)||qe(e.Yr,n.Yr)}static Kr(e,n){return qe(e.Yr,n.Yr)||Te.comparator(e.key,n.key)}}class dx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Gt(Xt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new DI(u,n,r,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Xt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?dp:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xt(n,0),o=new Xt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Gt(qe);return n.forEach((o=>{const u=new Xt(o,0),f=new Xt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{r=r.add(m.Yr)}))})),te.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let u=r;Te.isDocumentKey(u)||(u=u.child(""));const f=new Xt(new Te(u),0);let m=new Gt(qe);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Yr)),!0)}),f),te.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){et(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return te.forEach(n.mutations,(o=>{const u=new Xt(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Xt(n,0),o=this.Zr.firstAfterOrEqual(r);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class mx{constructor(e){this.ri=e,this.docs=(function(){return new yt(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let r=xr();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():fn.newInvalidDocument(o))})),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let u=xr();const f=n.path,m=new Te(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||qD(BD(E),r)<=0||(o.has(E.key)||Vf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,r,o){Ae(9500)}ii(e,n){return te.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new gx(this)}getSize(e){return te.resolve(this.size)}}class gx extends ox{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class px{constructor(e){this.persistence=e,this.si=new Ra((n=>pp(n)),yp),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.oi=0,this._i=new bp,this.targetCount=0,this.ai=jo.ur()}forEachTarget(e,n){return this.si.forEach(((r,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new jo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}class iS{constructor(e,n){this.ui={},this.overlays={},this.ci=new If(0),this.li=!1,this.li=!0,this.hi=new fx,this.referenceDelegate=e(this),this.Pi=new px(this),this.indexManager=new ex,this.remoteDocumentCache=(function(o){return new mx(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new JI(n),this.Ii=new cx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new dx(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const o=new yx(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return te.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class yx extends FD{constructor(e){super(),this.currentSequenceNumber=e}}class Sp{constructor(e){this.persistence=e,this.Ri=new bp,this.Vi=null}static mi(e){return new Sp(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(r=>{const o=Te.fromPath(r);return this.gi(e,o).next((u=>{u||n.removeEntry(o,De.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ff{constructor(e,n){this.persistence=e,this.pi=new Ra((r=>QD(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=ax(this,n)}static mi(e,n){return new ff(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((r,o)=>this.br(e,r,o).next((u=>u?te.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(r++,u.removeEntry(f,De.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jh(e.data.value)),n}br(e,n,r){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return te.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ap{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=He(),o=He();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ap(e,n.fromCache,r,o)}}class _x{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class vx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return lw()?8:GD(dn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new _x;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,r,o){return r.documentReadCount<this.fs?(To()<=Be.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",bo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(To()<=Be.DEBUG&&fe("QueryEngine","Query:",bo(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(To()<=Be.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",bo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ki(n))):te.resolve())}ys(e,n){if(wE(n))return te.resolve(null);let r=Ki(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Vg(n,null,"F"),r=Ki(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const f=He(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,r).next((p=>{const y=this.Ds(n,m);return this.Cs(n,y,f,p.readTime)?this.ys(e,Vg(n,null,"F")):this.vs(e,y,n,p)}))))})))))}ws(e,n,r,o){return wE(n)||o.isEqual(De.min())?te.resolve(null):this.ps.getDocuments(e,r).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,r,o)?te.resolve(null):(To()<=Be.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),bo(n)),this.vs(e,f,n,jD(o,Au)).next((m=>m)))}))}Ds(e,n){let r=new Gt(zb(e));return n.forEach(((o,u)=>{Vf(e,u)&&(r=r.add(u))})),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,r){return To()<=Be.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",bo(n)),this.ps.getDocumentsMatchingQuery(e,n,Rs.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const wp="LocalStore",Ex=3e8;class Tx{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new yt(qe),this.xs=new Ra((u=>pp(u)),yp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ux(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function bx(s,e,n,r){return new Tx(s,e,n,r)}async function rS(s,e){const n=Ne(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],m=[];let p=He();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(r,p).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function Sx(s,e){const n=Ne(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const b=y.batch,D=b.keys();let L=te.resolve();return D.forEach((Y=>{L=L.next((()=>E.getEntry(p,Y))).next((z=>{const K=y.docVersions.get(Y);et(K!==null,48541),z.version.compareTo(K)<0&&(b.applyToRemoteDocument(z,y),z.isValidDocument()&&(z.setReadTime(y.commitVersion),E.addEntry(z)))}))})),L.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=He();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function sS(s){const e=Ne(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Ax(s,e){const n=Ne(s),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,b)=>{const D=o.get(b);if(!D)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,b))));let L=D.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?L=L.withResumeToken(on.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,r)),o=o.insert(b,L),(function(z,K,re){return z.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=Ex?!0:re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0})(D,L,E)&&m.push(n.Pi.updateTargetData(u,L))}));let p=xr(),y=He();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(wx(u,f,e.documentUpdates).next((E=>{p=E.ks,y=E.qs}))),!r.isEqual(De.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(E)}return te.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function wx(s,e,n){let r=He(),o=He();return n.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let f=xr();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(De.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):fe(wp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function Rx(s,e){const n=Ne(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=dp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Cx(s,e){const n=Ne(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,e).next((u=>u?(o=u,te.resolve(o)):n.Pi.allocateTargetId(r).next((f=>(o=new vs(e,f,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Lg(s,e,n){const r=Ne(s),o=r.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Xo(f))throw f;fe(wp,`Failed to update sequence numbers for target ${e}: ${f}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function UE(s,e,n){const r=Ne(s);let o=De.min(),u=He();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,E){const b=Ne(p),D=b.xs.get(E);return D!==void 0?te.resolve(b.Ms.get(D)):b.Pi.getTargetData(y,E)})(r,f,Ki(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,e,n?o:De.min(),n?u:He()))).next((m=>(Dx(r,fI(e),m),{documents:m,Qs:u})))))}function Dx(s,e,n){let r=s.Os.get(e)||De.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(e,r)}class LE{constructor(){this.activeTargetIds=_I()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ix{constructor(){this.Mo=new LE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new LE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xx{Oo(e){}shutdown(){}}const jE="ConnectivityMonitor";class BE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(jE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(jE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ih=null;function jg(){return Ih===null?Ih=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ih++,"0x"+Ih.toString(16)}const ag="RestConnection",Nx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ox{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===of?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,u){const f=jg(),m=this.zo(e,n.toUriEncodedString());fe(ag,`Sending RPC '${e}' ${f}:`,m,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:y}=new URL(m),E=Fo(y);return this.Jo(e,m,p,r,E).then((b=>(fe(ag,`Received RPC '${e}' ${f}: `,b),b)),(b=>{throw ko(ag,`RPC '${e}' ${f} failed with error: `,b,"url: ",m,"request:",r),b}))}Ho(e,n,r,o,u,f){return this.Go(e,n,r,o,u)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Qo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const r=Nx[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class Mx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const un="WebChannelConnection";class Vx extends Ox{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,u){const f=jg();return new Promise(((m,p)=>{const y=new lb;y.setWithCredentials(!0),y.listenOnce(ub.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Lh.NO_ERROR:const b=y.getResponseJson();fe(un,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(b)),m(b);break;case Lh.TIMEOUT:fe(un,`RPC '${e}' ${f} timed out`),p(new ce(W.DEADLINE_EXCEEDED,"Request time out"));break;case Lh.HTTP_ERROR:const D=y.getStatus();if(fe(un,`RPC '${e}' ${f} failed with status:`,D,"response text:",y.getResponseText()),D>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const Y=L?.error;if(Y&&Y.status&&Y.message){const z=(function(re){const ue=re.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(ue)>=0?ue:W.UNKNOWN})(Y.status);p(new ce(z,Y.message))}else p(new ce(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ce(W.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{fe(un,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);fe(un,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,r,15)}))}T_(e,n,r){const o=jg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=fb(),m=hb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const E=u.join("");fe(un,`Creating RPC '${e}' stream ${o}: ${E}`,p);const b=f.createWebChannel(E,p);this.I_(b);let D=!1,L=!1;const Y=new Mx({Yo:K=>{L?fe(un,`Not sending because RPC '${e}' stream ${o} is closed:`,K):(D||(fe(un,`Opening RPC '${e}' stream ${o} transport.`),b.open(),D=!0),fe(un,`RPC '${e}' stream ${o} sending:`,K),b.send(K))},Zo:()=>b.close()}),z=(K,re,ue)=>{K.listen(re,(ie=>{try{ue(ie)}catch(se){setTimeout((()=>{throw se}),0)}}))};return z(b,ru.EventType.OPEN,(()=>{L||(fe(un,`RPC '${e}' stream ${o} transport opened.`),Y.o_())})),z(b,ru.EventType.CLOSE,(()=>{L||(L=!0,fe(un,`RPC '${e}' stream ${o} transport closed`),Y.a_(),this.E_(b))})),z(b,ru.EventType.ERROR,(K=>{L||(L=!0,ko(un,`RPC '${e}' stream ${o} transport errored. Name:`,K.name,"Message:",K.message),Y.a_(new ce(W.UNAVAILABLE,"The operation could not be completed")))})),z(b,ru.EventType.MESSAGE,(K=>{if(!L){const re=K.data[0];et(!!re,16349);const ue=re,ie=ue?.error||ue[0]?.error;if(ie){fe(un,`RPC '${e}' stream ${o} received error:`,ie);const se=ie.status;let ye=(function(w){const R=kt[w];if(R!==void 0)return Yb(R)})(se),$=ie.message;ye===void 0&&(ye=W.INTERNAL,$="Unknown error status: "+se+" with message "+ie.message),L=!0,Y.a_(new ce(ye,$)),b.close()}else fe(un,`RPC '${e}' stream ${o} received:`,re),Y.u_(re)}})),z(m,cb.STAT_EVENT,(K=>{K.stat===Cg.PROXY?fe(un,`RPC '${e}' stream ${o} detected buffering proxy`):K.stat===Cg.NOPROXY&&fe(un,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Y.__()}),0),Y}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function og(){return typeof document<"u"?document:null}function Lf(s){return new UI(s,!0)}class aS{constructor(e,n,r=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const qE="PersistentStream";class oS{constructor(e,n,r,o,u,f,m,p){this.Mi=e,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Ir(n.toString()),Ir("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new ce(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(qE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(fe(qE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zx extends oS{constructor(e,n,r,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=BI(this.serializer,e),r=(function(u){if(!("targetChange"in u))return De.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?De.min():f.readTime?Xi(f.readTime):De.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Ug(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Og(p)?{documents:FI(u,p)}:{query:GI(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Xb(u,f.resumeToken);const y=zg(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(De.min())>0){m.readTime=hf(u,f.snapshotVersion.toTimestamp());const y=zg(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const r=QI(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Ug(this.serializer),n.removeTarget=e,this.q_(n)}}class kx extends oS{constructor(e,n,r,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=HI(e.writeResults,e.commitTime),r=Xi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Ug(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>qI(this.serializer,r)))};this.q_(n)}}class Px{}class Ux extends Px{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,kg(n,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(W.UNKNOWN,u.toString())}))}Ho(e,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,kg(n,r),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ce(W.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Lx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ir(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const wa="RemoteStore";class jx{constructor(e,n,r,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{Ca(this)&&(fe(wa,"Restarting streams for network reachability change."),await(async function(p){const y=Ne(p);y.Ea.add(4),await ju(y),y.Ra.set("Unknown"),y.Ea.delete(4),await jf(y)})(this))}))})),this.Ra=new Lx(r,o)}}async function jf(s){if(Ca(s))for(const e of s.da)await e(!0)}async function ju(s){for(const e of s.da)await e(!1)}function lS(s,e){const n=Ne(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ip(n)?Dp(n):Zo(n).O_()&&Cp(n,e))}function Rp(s,e){const n=Ne(s),r=Zo(n);n.Ia.delete(e),r.O_()&&uS(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ca(n)&&n.Ra.set("Unknown"))}function Cp(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Zo(s).Y_(e)}function uS(s,e){s.Va.Ue(e),Zo(s).Z_(e)}function Dp(s){s.Va=new VI({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Zo(s).start(),s.Ra.ua()}function Ip(s){return Ca(s)&&!Zo(s).x_()&&s.Ia.size>0}function Ca(s){return Ne(s).Ea.size===0}function cS(s){s.Va=void 0}async function Bx(s){s.Ra.set("Online")}async function qx(s){s.Ia.forEach(((e,n)=>{Cp(s,e)}))}async function Hx(s,e){cS(s),Ip(s)?(s.Ra.ha(e),Dp(s)):s.Ra.set("Unknown")}async function Fx(s,e,n){if(s.Ra.set("Online"),e instanceof Kb&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(s,e)}catch(r){fe(wa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await df(s,r)}else if(e instanceof Hh?s.Va.Ze(e):e instanceof Qb?s.Va.st(e):s.Va.tt(e),!n.isEqual(De.min()))try{const r=await sS(s.localStore);n.compareTo(r)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(on.EMPTY_BYTE_STRING,E.snapshotVersion)),uS(u,p);const b=new vs(E.target,p,y,E.sequenceNumber);Cp(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(s,n)}catch(r){fe(wa,"Failed to raise snapshot:",r),await df(s,r)}}async function df(s,e,n){if(!Xo(e))throw e;s.Ea.add(1),await ju(s),s.Ra.set("Offline"),n||(n=()=>sS(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{fe(wa,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await jf(s)}))}function hS(s,e){return e().catch((n=>df(s,n,e)))}async function Bf(s){const e=Ne(s),n=xs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:dp;for(;Gx(e);)try{const o=await Rx(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,Yx(e,o)}catch(o){await df(e,o)}fS(e)&&dS(e)}function Gx(s){return Ca(s)&&s.Ta.length<10}function Yx(s,e){s.Ta.push(e);const n=xs(s);n.O_()&&n.X_&&n.ea(e.mutations)}function fS(s){return Ca(s)&&!xs(s).x_()&&s.Ta.length>0}function dS(s){xs(s).start()}async function Qx(s){xs(s).ra()}async function Kx(s){const e=xs(s);for(const n of s.Ta)e.ea(n.mutations)}async function Xx(s,e,n){const r=s.Ta.shift(),o=vp.from(r,e,n);await hS(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Bf(s)}async function $x(s,e){e&&xs(s).X_&&await(async function(r,o){if((function(f){return NI(f)&&f!==W.ABORTED})(o.code)){const u=r.Ta.shift();xs(r).B_(),await hS(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Bf(r)}})(s,e),fS(s)&&dS(s)}async function HE(s,e){const n=Ne(s);n.asyncQueue.verifyOperationInProgress(),fe(wa,"RemoteStore received new credentials");const r=Ca(n);n.Ea.add(3),await ju(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await jf(n)}async function Zx(s,e){const n=Ne(s);e?(n.Ea.delete(2),await jf(n)):e||(n.Ea.add(2),await ju(n),n.Ra.set("Unknown"))}function Zo(s){return s.ma||(s.ma=(function(n,r,o){const u=Ne(n);return u.sa(),new zx(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:Bx.bind(null,s),t_:qx.bind(null,s),r_:Hx.bind(null,s),H_:Fx.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),Ip(s)?Dp(s):s.Ra.set("Unknown")):(await s.ma.stop(),cS(s))}))),s.ma}function xs(s){return s.fa||(s.fa=(function(n,r,o){const u=Ne(n);return u.sa(),new kx(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:Qx.bind(null,s),r_:$x.bind(null,s),ta:Kx.bind(null,s),na:Xx.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Bf(s)):(await s.fa.stop(),s.Ta.length>0&&(fe(wa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class xp{constructor(e,n,r,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,u){const f=Date.now()+r,m=new xp(e,n,f,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Np(s,e){if(Ir("AsyncQueue",`${e}: ${s}`),Xo(s))return new ce(W.UNAVAILABLE,`${e}: ${s}`);throw s}class No{static emptySet(e){return new No(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Te.comparator(n.key,r.key):(n,r)=>Te.comparator(n.key,r.key),this.keyedMap=su(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof No)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new No;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class FE{constructor(){this.ga=new yt(Te.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Bo{constructor(e,n,r,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Bo(e,n,No.emptySet(n),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class Jx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Wx{constructor(){this.queries=GE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Ne(n),u=o.queries;o.queries=GE(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(r)}))})(this,new ce(W.ABORTED,"Firestore shutting down"))}}function GE(){return new Ra((s=>Vb(s)),Mf)}async function Op(s,e){const n=Ne(s);let r=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(r=2):(u=new Jx,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Np(f,`Initialization of query '${bo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Vp(n)}async function Mp(s,e){const n=Ne(s),r=e.query;let o=3;const u=n.queries.get(r);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function e2(s,e){const n=Ne(s);let r=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(r=!0);f.wa=o}}r&&Vp(n)}function t2(s,e,n){const r=Ne(s),o=r.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);r.queries.delete(e)}function Vp(s){s.Ca.forEach((e=>{e.next()}))}var Bg,YE;(YE=Bg||(Bg={})).Ma="default",YE.Cache="cache";class zp{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Bo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Bg.Cache}}class mS{constructor(e){this.key=e}}class gS{constructor(e){this.key=e}}class n2{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=zb(e),this.tu=new No(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new FE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,b)=>{const D=o.get(E),L=Vf(this.query,b)?b:null,Y=!!D&&this.mutatedKeys.has(D.key),z=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let K=!1;D&&L?D.data.isEqual(L.data)?Y!==z&&(r.track({type:3,doc:L}),K=!0):this.su(D,L)||(r.track({type:2,doc:L}),K=!0,(p&&this.eu(L,p)>0||y&&this.eu(L,y)<0)&&(m=!0)):!D&&L?(r.track({type:0,doc:L}),K=!0):D&&!L&&(r.track({type:1,doc:D}),K=!0,(p||y)&&(m=!0)),K&&(L?(f=f.add(L),u=z?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{tu:f,iu:r,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,b)=>(function(L,Y){const z=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:K})}};return z(L)-z(Y)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new Bo(this.query,e.tu,u,f,e.mutatedKeys,p===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new FE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new gS(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new mS(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=He();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Bo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const kp="SyncEngine";class i2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class r2{constructor(e){this.key=e,this.hu=!1}}class s2{constructor(e,n,r,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ra((m=>Vb(m)),Mf),this.Iu=new Map,this.Eu=new Set,this.du=new yt(Te.comparator),this.Au=new Map,this.Ru=new bp,this.Vu={},this.mu=new Map,this.fu=jo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function a2(s,e,n=!0){const r=TS(s);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await pS(r,e,n,!0),o}async function o2(s,e){const n=TS(s);await pS(n,e,!0,!1)}async function pS(s,e,n,r){const o=await Cx(s.localStore,Ki(e)),u=o.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await l2(s,e,u,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&lS(s.remoteStore,o),m}async function l2(s,e,n,r,o){s.pu=(b,D,L)=>(async function(z,K,re,ue){let ie=K.view.ru(re);ie.Cs&&(ie=await UE(z.localStore,K.query,!1).then((({documents:C})=>K.view.ru(C,ie))));const se=ue&&ue.targetChanges.get(K.targetId),ye=ue&&ue.targetMismatches.get(K.targetId)!=null,$=K.view.applyChanges(ie,z.isPrimaryClient,se,ye);return KE(z,K.targetId,$.au),$.snapshot})(s,b,D,L);const u=await UE(s.localStore,e,!0),f=new n2(e,u.Qs),m=f.ru(u.documents),p=Lu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),y=f.applyChanges(m,s.isPrimaryClient,p);KE(s,n,y.au);const E=new i2(e,n,f);return s.Tu.set(e,E),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function u2(s,e,n){const r=Ne(s),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((f=>!Mf(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Lg(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Rp(r.remoteStore,o.targetId),qg(r,o.targetId)})).catch(Ko)):(qg(r,o.targetId),await Lg(r.localStore,o.targetId,!0))}async function c2(s,e){const n=Ne(s),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Rp(n.remoteStore,r.targetId))}async function h2(s,e,n){const r=_2(s);try{const o=await(function(f,m){const p=Ne(f),y=We.now(),E=m.reduce(((L,Y)=>L.add(Y.key)),He());let b,D;return p.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let Y=xr(),z=He();return p.Ns.getEntries(L,E).next((K=>{Y=K,Y.forEach(((re,ue)=>{ue.isValidDocument()||(z=z.add(re))}))})).next((()=>p.localDocuments.getOverlayedDocuments(L,Y))).next((K=>{b=K;const re=[];for(const ue of m){const ie=RI(ue,b.get(ue.key).overlayedDocument);ie!=null&&re.push(new Ms(ue.key,ie,Rb(ie.value.mapValue),vn.exists(!0)))}return p.mutationQueue.addMutationBatch(L,y,re,m)})).next((K=>{D=K;const re=K.applyToLocalDocumentSet(b,z);return p.documentOverlayCache.saveOverlays(L,K.batchId,re)}))})).then((()=>({batchId:D.batchId,changes:Pb(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new yt(qe)),y=y.insert(m,p),f.Vu[f.currentUser.toKey()]=y})(r,o.batchId,n),await Bu(r,o.changes),await Bf(r.remoteStore)}catch(o){const u=Np(o,"Failed to persist write");n.reject(u)}}async function yS(s,e){const n=Ne(s);try{const r=await Ax(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(et(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?et(f.hu,14607):o.removedDocuments.size>0&&(et(f.hu,42227),f.hu=!1))})),await Bu(n,r,e)}catch(r){await Ko(r)}}function QE(s,e,n){const r=Ne(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Ne(f);p.onlineState=m;let y=!1;p.queries.forEach(((E,b)=>{for(const D of b.Sa)D.va(m)&&(y=!0)})),y&&Vp(p)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function f2(s,e,n){const r=Ne(s);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),u=o&&o.key;if(u){let f=new yt(Te.comparator);f=f.insert(u,fn.newNoDocument(u,De.min()));const m=He().add(u),p=new Uf(De.min(),new Map,new yt(qe),f,m);await yS(r,p),r.du=r.du.remove(u),r.Au.delete(e),Pp(r)}else await Lg(r.localStore,e,!1).then((()=>qg(r,e,n))).catch(Ko)}async function d2(s,e){const n=Ne(s),r=e.batch.batchId;try{const o=await Sx(n.localStore,e);vS(n,r,null),_S(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bu(n,o)}catch(o){await Ko(o)}}async function m2(s,e,n){const r=Ne(s);try{const o=await(function(f,m){const p=Ne(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((b=>(et(b!==null,37113),E=b.keys(),p.mutationQueue.removeMutationBatch(y,b)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(r.localStore,e);vS(r,e,n),_S(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Bu(r,o)}catch(o){await Ko(o)}}function _S(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function vS(s,e,n){const r=Ne(s);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function qg(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||ES(s,r)}))}function ES(s,e){s.Eu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(Rp(s.remoteStore,n),s.du=s.du.remove(e),s.Au.delete(n),Pp(s))}function KE(s,e,n){for(const r of n)r instanceof mS?(s.Ru.addReference(r.key,e),g2(s,r)):r instanceof gS?(fe(kp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||ES(s,r.key)):Ae(19791,{wu:r})}function g2(s,e){const n=e.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(fe(kp,"New document in limbo: "+n),s.Eu.add(r),Pp(s))}function Pp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new Te(ut.fromString(e)),r=s.fu.next();s.Au.set(r,new r2(n)),s.du=s.du.insert(n,r),lS(s.remoteStore,new vs(Ki(Of(n.path)),r,"TargetPurposeLimboResolution",If.ce))}}async function Bu(s,e,n){const r=Ne(s),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{f.push(r.pu(p,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Ap.As(p.targetId,y);u.push(E)}})))})),await Promise.all(f),r.Pu.H_(o),await(async function(p,y){const E=Ne(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>te.forEach(y,(D=>te.forEach(D.Es,(L=>E.persistence.referenceDelegate.addReference(b,D.targetId,L))).next((()=>te.forEach(D.ds,(L=>E.persistence.referenceDelegate.removeReference(b,D.targetId,L)))))))))}catch(b){if(!Xo(b))throw b;fe(wp,"Failed to update sequence numbers: "+b)}for(const b of y){const D=b.targetId;if(!b.fromCache){const L=E.Ms.get(D),Y=L.snapshotVersion,z=L.withLastLimboFreeSnapshotVersion(Y);E.Ms=E.Ms.insert(D,z)}}})(r.localStore,u))}async function p2(s,e){const n=Ne(s);if(!n.currentUser.isEqual(e)){fe(kp,"User change. New user:",e.toKey());const r=await rS(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ce(W.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bu(n,r.Ls)}}function y2(s,e){const n=Ne(s),r=n.Au.get(e);if(r&&r.hu)return He().add(r.key);{let o=He();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function TS(s){const e=Ne(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=yS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=y2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=f2.bind(null,e),e.Pu.H_=e2.bind(null,e.eventManager),e.Pu.yu=t2.bind(null,e.eventManager),e}function _2(s){const e=Ne(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=d2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=m2.bind(null,e),e}class mf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return bx(this.persistence,new vx,e.initialUser,this.serializer)}Cu(e){return new iS(Sp.mi,this.serializer)}Du(e){return new Ix}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mf.provider={build:()=>new mf};class v2 extends mf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){et(this.persistence.referenceDelegate instanceof ff,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new rx(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new iS((r=>ff.mi(r,n)),this.serializer)}}class Hg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>QE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=p2.bind(null,this.syncEngine),await Zx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Wx})()}createDatastore(e){const n=Lf(e.databaseInfo.databaseId),r=(function(u){return new Vx(u)})(e.databaseInfo);return(function(u,f,m,p){return new Ux(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,u,f,m){return new jx(r,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>QE(this.syncEngine,n,0)),(function(){return BE.v()?new BE:new xx})())}createSyncEngine(e,n){return(function(o,u,f,m,p,y,E){const b=new s2(o,u,f,m,p,y);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ne(n);fe(wa,"RemoteStore shutting down."),r.Ea.add(5),await ju(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Hg.provider={build:()=>new Hg};class Up{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ir("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ns="FirestoreClient";class E2{constructor(e,n,r,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=hn.UNAUTHENTICATED,this.clientId=fp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{fe(Ns,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(fe(Ns,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Np(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function lg(s,e){s.asyncQueue.verifyOperationInProgress(),fe(Ns,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await rS(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function XE(s,e){s.asyncQueue.verifyOperationInProgress();const n=await T2(s);fe(Ns,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>HE(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>HE(e.remoteStore,o))),s._onlineComponents=e}async function T2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){fe(Ns,"Using user provided OfflineComponentProvider");try{await lg(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ko("Error using user provided cache. Falling back to memory cache: "+n),await lg(s,new mf)}}else fe(Ns,"Using default OfflineComponentProvider"),await lg(s,new v2(void 0));return s._offlineComponents}async function bS(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(fe(Ns,"Using user provided OnlineComponentProvider"),await XE(s,s._uninitializedComponentsProvider._online)):(fe(Ns,"Using default OnlineComponentProvider"),await XE(s,new Hg))),s._onlineComponents}function b2(s){return bS(s).then((e=>e.syncEngine))}async function gf(s){const e=await bS(s),n=e.eventManager;return n.onListen=a2.bind(null,e.syncEngine),n.onUnlisten=u2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=o2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=c2.bind(null,e.syncEngine),n}function S2(s,e,n={}){const r=new wr;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new Up({next:D=>{E.Nu(),f.enqueueAndForget((()=>Mp(u,b)));const L=D.docs.has(m);!L&&D.fromCache?y.reject(new ce(W.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&D.fromCache&&p&&p.source==="server"?y.reject(new ce(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(D)},error:D=>y.reject(D)}),b=new zp(Of(m.path),E,{includeMetadataChanges:!0,qa:!0});return Op(u,b)})(await gf(s),s.asyncQueue,e,n,r))),r.promise}function A2(s,e,n={}){const r=new wr;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new Up({next:D=>{E.Nu(),f.enqueueAndForget((()=>Mp(u,b))),D.fromCache&&p.source==="server"?y.reject(new ce(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(D)},error:D=>y.reject(D)}),b=new zp(m,E,{includeMetadataChanges:!0,qa:!0});return Op(u,b)})(await gf(s),s.asyncQueue,e,n,r))),r.promise}function SS(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const $E=new Map;const AS="firestore.googleapis.com",ZE=!0;class JE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AS,this.ssl=ZE}else this.host=e.host,this.ssl=e.ssl??ZE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nx)throw new ce(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SS(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qf{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new ID;switch(r.type){case"firstParty":return new MD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=$E.get(n);r&&(fe("ComponentProvider","Removing Datastore"),$E.delete(n),r.terminate())})(this),Promise.resolve()}}function w2(s,e,n,r={}){s=_n(s,qf);const o=Fo(e),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},m=`${e}:${n}`;o&&(ST(`https://${m}`),AT("Firestore",!0)),u.host!==AS&&u.host!==m&&ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:r};if(!Ta(p,f)&&(s._setSettings(p),r.mockUserToken)){let y,E;if(typeof r.mockUserToken=="string")y=r.mockUserToken,E=hn.MOCK_USER;else{y=W1(r.mockUserToken,s._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new ce(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new hn(b)}s._authCredentials=new xD(new mb(y,E))}}class Vs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vs(this.firestore,e,this._query)}}class Tt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Pu(n,Tt._jsonSchema))return new Tt(e,r||null,new Te(ut.fromString(n.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:jt("string",Tt._jsonSchemaVersion),referencePath:jt("string")};class ws extends Vs{constructor(e,n,r){super(e,n,Of(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new Te(e))}withConverter(e){return new ws(this.firestore,e,this._path)}}function qo(s,e,...n){if(s=Bt(s),gb("collection","path",e),s instanceof qf){const r=ut.fromString(e,...n);return hE(r),new ws(s,null,r)}{if(!(s instanceof Tt||s instanceof ws))throw new ce(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ut.fromString(e,...n));return hE(r),new ws(s.firestore,null,r)}}function ri(s,e,...n){if(s=Bt(s),arguments.length===1&&(e=fp.newId()),gb("doc","path",e),s instanceof qf){const r=ut.fromString(e,...n);return cE(r),new Tt(s,null,new Te(r))}{if(!(s instanceof Tt||s instanceof ws))throw new ce(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ut.fromString(e,...n));return cE(r),new Tt(s.firestore,s instanceof ws?s.converter:null,new Te(r))}}const WE="AsyncQueue";class eT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aS(this,"async_queue_retry"),this._c=()=>{const r=og();r&&fe(WE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=og();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=og();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new wr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Xo(e))throw e;fe(WE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ir("INTERNAL UNHANDLED ERROR: ",tT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=xp.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ae(47125,{Pc:tT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function tT(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function nT(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(s,["next","error","complete"])}class tr extends qf{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new eT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eT(e),this._firestoreClient=void 0,await e}}}function R2(s,e){const n=typeof s=="object"?s:DT(),r=typeof s=="string"?s:of,o=ep(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=Z1("firestore");u&&w2(o,...u)}return o}function qu(s){if(s._terminated)throw new ce(W.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||C2(s),s._firestoreClient}function C2(s){const e=s._freezeSettings(),n=(function(o,u,f,m){return new $D(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,SS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new E2(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(s._componentsProvider))}class ii{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ii(on.fromBase64String(e))}catch(n){throw new ce(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ii(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ii._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pu(e,ii._jsonSchema))return ii.fromBase64String(e.bytes)}}ii._jsonSchemaVersion="firestore/bytes/1.0",ii._jsonSchema={type:jt("string",ii._jsonSchemaVersion),bytes:jt("string")};class Hu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Hf{constructor(e){this._methodName=e}}class $i{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$i._jsonSchemaVersion}}static fromJSON(e){if(Pu(e,$i._jsonSchema))return new $i(e.latitude,e.longitude)}}$i._jsonSchemaVersion="firestore/geoPoint/1.0",$i._jsonSchema={type:jt("string",$i._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};class Zi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pu(e,Zi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Zi(e.vectorValues);throw new ce(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zi._jsonSchemaVersion="firestore/vectorValue/1.0",Zi._jsonSchema={type:jt("string",Zi._jsonSchemaVersion),vectorValues:jt("object")};const D2=/^__.*__$/;class I2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ms(e,this.data,this.fieldMask,n,this.fieldTransforms):new Uu(e,this.data,n,this.fieldTransforms)}}class wS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ms(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function RS(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:s})}}class Lp{constructor(e,n,r,o,u,f){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Lp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return pf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(RS(this.Ac)&&D2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class x2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Lf(e)}Cc(e,n,r,o=!1){return new Lp({Ac:e,methodName:n,Dc:r,path:an.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fu(s){const e=s._freezeSettings(),n=Lf(s._databaseId);return new x2(s._databaseId,!!e.ignoreUndefinedProperties,n)}function jp(s,e,n,r,o,u={}){const f=s.Cc(u.merge||u.mergeFields?2:0,e,n,o);qp("Data must be an object, but it was:",f,r);const m=IS(r,f);let p,y;if(u.merge)p=new qn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const D=Fg(e,b,n);if(!f.contains(D))throw new ce(W.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);NS(E,D)||E.push(D)}p=new qn(E),y=f.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,y=f.fieldTransforms;return new I2(new In(m),p,y)}class Ff extends Hf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ff}}class Bp extends Hf{_toFieldTransform(e){return new bI(e.path,new Iu)}isEqual(e){return e instanceof Bp}}function CS(s,e,n,r){const o=s.Cc(1,e,n);qp("Data must be an object, but it was:",o,r);const u=[],f=In.empty();Os(r,((p,y)=>{const E=Hp(e,p,n);y=Bt(y);const b=o.yc(E);if(y instanceof Ff)u.push(E);else{const D=Gu(y,b);D!=null&&(u.push(E),f.set(E,D))}}));const m=new qn(u);return new wS(f,m,o.fieldTransforms)}function DS(s,e,n,r,o,u){const f=s.Cc(1,e,n),m=[Fg(e,r,n)],p=[o];if(u.length%2!=0)throw new ce(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<u.length;D+=2)m.push(Fg(e,u[D])),p.push(u[D+1]);const y=[],E=In.empty();for(let D=m.length-1;D>=0;--D)if(!NS(y,m[D])){const L=m[D];let Y=p[D];Y=Bt(Y);const z=f.yc(L);if(Y instanceof Ff)y.push(L);else{const K=Gu(Y,z);K!=null&&(y.push(L),E.set(L,K))}}const b=new qn(y);return new wS(E,b,f.fieldTransforms)}function N2(s,e,n,r=!1){return Gu(n,s.Cc(r?4:3,e))}function Gu(s,e){if(xS(s=Bt(s)))return qp("Unsupported field value:",e,s),IS(s,e);if(s instanceof Hf)return(function(r,o){if(!RS(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const m of r){let p=Gu(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(s,e)}return(function(r,o){if((r=Bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return vI(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=We.fromDate(r);return{timestampValue:hf(o.serializer,u)}}if(r instanceof We){const u=new We(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hf(o.serializer,u)}}if(r instanceof $i)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ii)return{bytesValue:Xb(o.serializer,r._byteString)};if(r instanceof Tt){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Tp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Zi)return(function(f,m){return{mapValue:{fields:{[Ab]:{stringValue:wb},[lf]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return _p(m.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Df(r)}`)})(s,e)}function IS(s,e){const n={};return _b(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Os(s,((r,o)=>{const u=Gu(o,e.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function xS(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof We||s instanceof $i||s instanceof ii||s instanceof Tt||s instanceof Hf||s instanceof Zi)}function qp(s,e,n){if(!xS(n)||!pb(n)){const r=Df(n);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function Fg(s,e,n){if((e=Bt(e))instanceof Hu)return e._internalPath;if(typeof e=="string")return Hp(s,e);throw pf("Field path arguments must be of type string or ",s,!1,void 0,n)}const O2=new RegExp("[~\\*/\\[\\]]");function Hp(s,e,n){if(e.search(O2)>=0)throw pf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Hu(...e.split("."))._internalPath}catch{throw pf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function pf(s,e,n,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${r}`),f&&(p+=` in document ${o}`),p+=")"),new ce(W.INVALID_ARGUMENT,m+s+p)}function NS(s,e){return s.some((n=>n.isEqual(e)))}class OS{constructor(e,n,r,o,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new M2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Fp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class M2 extends OS{data(){return super.data()}}function Fp(s,e){return typeof e=="string"?Hp(s,e):e instanceof Hu?e._internalPath:e._delegate._internalPath}function MS(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ce(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gp{}class VS extends Gp{}function yf(s,e,...n){let r=[];e instanceof Gp&&r.push(e),r=r.concat(n),(function(u){const f=u.filter((p=>p instanceof Qp)).length,m=u.filter((p=>p instanceof Yp)).length;if(f>1||f>0&&m>0)throw new ce(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Yp extends VS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Yp(e,n,r)}_apply(e){const n=this._parse(e);return zS(e._query,n),new Vs(e.firestore,e.converter,Mg(e._query,n))}_parse(e){const n=Fu(e.firestore);return(function(u,f,m,p,y,E,b){let D;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ce(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){rT(b,E);const Y=[];for(const z of b)Y.push(iT(p,u,z));D={arrayValue:{values:Y}}}else D=iT(p,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||rT(b,E),D=N2(m,f,b,E==="in"||E==="not-in");return Lt.create(y,E,D)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Qp extends Gp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Qp(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:bi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)zS(f,p),f=Mg(f,p)})(e._query,n),new Vs(e.firestore,e.converter,Mg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Kp extends VS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Kp(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new ce(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ce(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Du(u,f)})(e._query,this._field,this._direction);return new Vs(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new $o(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function Gg(s,e="asc"){const n=e,r=Fp("orderBy",s);return Kp._create(r,n)}function iT(s,e,n){if(typeof(n=Bt(n))=="string"){if(n==="")throw new ce(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mb(e)&&n.indexOf("/")!==-1)throw new ce(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ut.fromString(n));if(!Te.isDocumentKey(r))throw new ce(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vE(s,new Te(r))}if(n instanceof Tt)return vE(s,n._key);throw new ce(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Df(n)}.`)}function rT(s,e){if(!Array.isArray(s)||s.length===0)throw new ce(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zS(s,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class V2{convertValue(e,n="none"){switch(Is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Os(e,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[lf].arrayValue?.values?.map((r=>Rt(r.doubleValue)));return new Zi(n)}convertGeoPoint(e){return new $i(Rt(e.latitude),Rt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Nf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wu(e));default:return null}}convertTimestamp(e){const n=Cs(e);return new We(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ut.fromString(e);et(tS(r),9688,{name:e});const o=new Ru(r.get(1),r.get(3)),u=new Te(r.popFirst(5));return o.isEqual(n)||Ir(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function Xp(s,e,n){let r;return r=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,r}class ou{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class va extends OS{constructor(e,n,r,o,u,f){super(e,n,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Fp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=va._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}va._jsonSchemaVersion="firestore/documentSnapshot/1.0",va._jsonSchema={type:jt("string",va._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class Fh extends va{data(e={}){return super.data(e)}}class Ea{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ou(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Fh(this._firestore,this._userDataWriter,r.key,r,new ou(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new Fh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ou(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Fh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ou(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:z2(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ea._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=fp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function z2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:s})}}function wo(s){s=_n(s,Tt);const e=_n(s.firestore,tr);return S2(qu(e),s._key).then((n=>US(e,s,n)))}Ea._jsonSchemaVersion="firestore/querySnapshot/1.0",Ea._jsonSchema={type:jt("string",Ea._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};class $p extends V2{constructor(e){super(),this.firestore=e}convertBytes(e){return new ii(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,n)}}function kS(s){s=_n(s,Vs);const e=_n(s.firestore,tr),n=qu(e),r=new $p(e);return MS(s._query),A2(n,s._query).then((o=>new Ea(e,r,s,o)))}function PS(s,e,n){s=_n(s,Tt);const r=_n(s.firestore,tr),o=Xp(s.converter,e,n);return Yu(r,[jp(Fu(r),"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,vn.none())])}function Gi(s,e,n,...r){s=_n(s,Tt);const o=_n(s.firestore,tr),u=Fu(o);let f;return f=typeof(e=Bt(e))=="string"||e instanceof Hu?DS(u,"updateDoc",s._key,e,n,r):CS(u,"updateDoc",s._key,e),Yu(o,[f.toMutation(s._key,vn.exists(!0))])}function Gf(s){return Yu(_n(s.firestore,tr),[new Pf(s._key,vn.none())])}function Oo(s,e){const n=_n(s.firestore,tr),r=ri(s),o=Xp(s.converter,e);return Yu(n,[jp(Fu(s.firestore),"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,vn.exists(!1))]).then((()=>r))}function _f(s,...e){s=Bt(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||nT(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(nT(e[r])){const p=e[r];e[r]=p.next?.bind(p),e[r+1]=p.error?.bind(p),e[r+2]=p.complete?.bind(p)}let u,f,m;if(s instanceof Tt)f=_n(s.firestore,tr),m=Of(s._key.path),u={next:p=>{e[r]&&e[r](US(f,s,p))},error:e[r+1],complete:e[r+2]};else{const p=_n(s,Vs);f=_n(p.firestore,tr),m=p._query;const y=new $p(f);u={next:E=>{e[r]&&e[r](new Ea(f,y,p,E))},error:e[r+1],complete:e[r+2]},MS(s._query)}return(function(y,E,b,D){const L=new Up(D),Y=new zp(E,L,b);return y.asyncQueue.enqueueAndForget((async()=>Op(await gf(y),Y))),()=>{L.Nu(),y.asyncQueue.enqueueAndForget((async()=>Mp(await gf(y),Y)))}})(qu(f),m,o,u)}function Yu(s,e){return(function(r,o){const u=new wr;return r.asyncQueue.enqueueAndForget((async()=>h2(await b2(r),o,u))),u.promise})(qu(s),e)}function US(s,e,n){const r=n.docs.get(e._key),o=new $p(s);return new va(s,o,e._key,r,new ou(n.hasPendingWrites,n.fromCache),e.converter)}class k2{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Fu(e)}set(e,n,r){this._verifyNotCommitted();const o=ug(e,this._firestore),u=Xp(o.converter,n,r),f=jp(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,r);return this._mutations.push(f.toMutation(o._key,vn.none())),this}update(e,n,r,...o){this._verifyNotCommitted();const u=ug(e,this._firestore);let f;return f=typeof(n=Bt(n))=="string"||n instanceof Hu?DS(this._dataReader,"WriteBatch.update",u._key,n,r,o):CS(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,vn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ug(e,this._firestore);return this._mutations=this._mutations.concat(new Pf(n._key,vn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ce(W.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ug(s,e){if((s=Bt(s)).firestore!==e)throw new ce(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function Gh(){return new Bp("serverTimestamp")}function LS(s){return qu(s=_n(s,tr)),new k2(s,(e=>Yu(s,e)))}(function(e,n=!0){(function(o){Qo=o})(Go),Vo(new ba("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),m=new tr(new ND(r.getProvider("auth-internal")),new VD(f,r.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ce(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ru(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ss(aE,oE,e),Ss(aE,oE,"esm2020")})();const P2={apiKey:"AIzaSyBb0S_7U8FPaoUgjYpt_TlaAnJTBqNdvIE",authDomain:"teaching-to-do-list.firebaseapp.com",projectId:"teaching-to-do-list",storageBucket:"teaching-to-do-list.firebasestorage.app",messagingSenderId:"436829328408",appId:"1:436829328408:web:6cc89bf82f9610c2689f6d",measurementId:"G-32552MXKEK"},jS=CT(P2),Yg=wD(jS),$t=R2(jS),sT=(...s)=>s.filter(Boolean).join(" ");function U2({user:s,active:e,setActive:n}){const[r,o]=pe.useState(!1);return A.jsxs(A.Fragment,{children:[A.jsxs("nav",{className:sT("fixed left-0 top-0 z-50 h-screen w-64 border-r border-zinc-800 bg-zinc-900 transition-transform",r?"translate-x-0":"-translate-x-full md:translate-x-0"),children:[A.jsxs("div",{className:"flex items-center justify-between border-b border-zinc-800 p-4",children:[A.jsx("h2",{className:"text-lg font-bold text-teal-300",children:"Teacher Companion"}),A.jsx("button",{className:"md:hidden",onClick:()=>o(u=>!u),"aria-label":"Toggle menu",children:""})]}),A.jsx("ul",{className:"flex-1 overflow-y-auto",children:[{key:"todo",label:"Todo List",icon:"",disabled:!1},{key:"calendar",label:"Calendar",icon:"",disabled:!1},{key:"lessons",label:"Lessons/Planner",icon:"",disabled:!0},{key:"supplies",label:"Supplies",icon:"",disabled:!0},{key:"resources",label:"Resources",icon:"",disabled:!0},{key:"settings",label:"Settings",icon:"",disabled:!1}].map(u=>A.jsxs("li",{className:sT("flex cursor-pointer items-center gap-3 px-4 py-3 text-zinc-400",!u.disabled&&"hover:bg-teal-900/10 hover:text-teal-300",e===u.key&&"border-l-4 border-teal-400 bg-teal-900/20 text-teal-300",u.disabled&&"cursor-not-allowed opacity-40"),onClick:()=>!u.disabled&&n(u.key),children:[A.jsx("span",{className:"w-6 text-xl",children:u.icon}),A.jsx("span",{className:"flex-1 font-medium",children:u.label}),u.disabled&&A.jsx("span",{className:"rounded bg-zinc-800 px-2 py-0.5 text-[10px]",children:"Soon"})]},u.key))}),A.jsx("div",{className:"border-t border-zinc-800 p-4",children:A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-teal-500 text-xl",children:""}),A.jsxs("div",{className:"truncate",children:[A.jsx("div",{className:"truncate text-sm font-medium text-zinc-200",children:s?.displayName||"Loading..."}),A.jsx("div",{className:"truncate text-xs text-zinc-400",children:s?.email||""})]})]})})]}),A.jsx("button",{className:"fixed right-3 top-3 z-50 rounded-md border border-zinc-700 bg-zinc-900 px-3 py-1 text-zinc-200 md:hidden",onClick:()=>o(u=>!u),children:""}),r&&A.jsx("div",{className:"fixed inset-0 z-40 bg-black/40 md:hidden",onClick:()=>o(!1)})]})}function aT(s,e){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),n.push.apply(n,r)}return n}function nr(s){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aT(Object(n),!0).forEach(function(r){L2(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):aT(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}function Yh(s){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yh=function(e){return typeof e}:Yh=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yh(s)}function L2(s,e,n){return e in s?Object.defineProperty(s,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[e]=n,s}function Nr(){return Nr=Object.assign||function(s){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(s[r]=n[r])}return s},Nr.apply(this,arguments)}function j2(s,e){if(s==null)return{};var n={},r=Object.keys(s),o,u;for(u=0;u<r.length;u++)o=r[u],!(e.indexOf(o)>=0)&&(n[o]=s[o]);return n}function B2(s,e){if(s==null)return{};var n=j2(s,e),r,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(s);for(o=0;o<u.length;o++)r=u[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(s,r)&&(n[r]=s[r])}return n}var q2="1.15.6";function Rr(s){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(s)}var Mr=Rr(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Qu=Rr(/Edge/i),oT=Rr(/firefox/i),yu=Rr(/safari/i)&&!Rr(/chrome/i)&&!Rr(/android/i),Zp=Rr(/iP(ad|od|hone)/i),BS=Rr(/chrome/i)&&Rr(/android/i),qS={capture:!1,passive:!1};function Ge(s,e,n){s.addEventListener(e,n,!Mr&&qS)}function je(s,e,n){s.removeEventListener(e,n,!Mr&&qS)}function vf(s,e){if(e){if(e[0]===">"&&(e=e.substring(1)),s)try{if(s.matches)return s.matches(e);if(s.msMatchesSelector)return s.msMatchesSelector(e);if(s.webkitMatchesSelector)return s.webkitMatchesSelector(e)}catch{return!1}return!1}}function HS(s){return s.host&&s!==document&&s.host.nodeType?s.host:s.parentNode}function _i(s,e,n,r){if(s){n=n||document;do{if(e!=null&&(e[0]===">"?s.parentNode===n&&vf(s,e):vf(s,e))||r&&s===n)return s;if(s===n)break}while(s=HS(s))}return null}var lT=/\s+/g;function jn(s,e,n){if(s&&e)if(s.classList)s.classList[n?"add":"remove"](e);else{var r=(" "+s.className+" ").replace(lT," ").replace(" "+e+" "," ");s.className=(r+(n?" "+e:"")).replace(lT," ")}}function we(s,e,n){var r=s&&s.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(s,""):s.currentStyle&&(n=s.currentStyle),e===void 0?n:n[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=n+(typeof n=="string"?"":"px")}}function Mo(s,e){var n="";if(typeof s=="string")n=s;else do{var r=we(s,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!e&&(s=s.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function FS(s,e,n){if(s){var r=s.getElementsByTagName(e),o=0,u=r.length;if(n)for(;o<u;o++)n(r[o],o);return r}return[]}function Ji(){var s=document.scrollingElement;return s||document.documentElement}function Ut(s,e,n,r,o){if(!(!s.getBoundingClientRect&&s!==window)){var u,f,m,p,y,E,b;if(s!==window&&s.parentNode&&s!==Ji()?(u=s.getBoundingClientRect(),f=u.top,m=u.left,p=u.bottom,y=u.right,E=u.height,b=u.width):(f=0,m=0,p=window.innerHeight,y=window.innerWidth,E=window.innerHeight,b=window.innerWidth),(e||n)&&s!==window&&(o=o||s.parentNode,!Mr))do if(o&&o.getBoundingClientRect&&(we(o,"transform")!=="none"||n&&we(o,"position")!=="static")){var D=o.getBoundingClientRect();f-=D.top+parseInt(we(o,"border-top-width")),m-=D.left+parseInt(we(o,"border-left-width")),p=f+u.height,y=m+u.width;break}while(o=o.parentNode);if(r&&s!==window){var L=Mo(o||s),Y=L&&L.a,z=L&&L.d;L&&(f/=z,m/=Y,b/=Y,E/=z,p=f+E,y=m+b)}return{top:f,left:m,bottom:p,right:y,width:b,height:E}}}function uT(s,e,n){for(var r=Es(s,!0),o=Ut(s)[e];r;){var u=Ut(r)[n],f=void 0;if(f=o>=u,!f)return r;if(r===Ji())break;r=Es(r,!1)}return!1}function Ho(s,e,n,r){for(var o=0,u=0,f=s.children;u<f.length;){if(f[u].style.display!=="none"&&f[u]!==Se.ghost&&(r||f[u]!==Se.dragged)&&_i(f[u],n.draggable,s,!1)){if(o===e)return f[u];o++}u++}return null}function Jp(s,e){for(var n=s.lastElementChild;n&&(n===Se.ghost||we(n,"display")==="none"||e&&!vf(n,e));)n=n.previousElementSibling;return n||null}function ni(s,e){var n=0;if(!s||!s.parentNode)return-1;for(;s=s.previousElementSibling;)s.nodeName.toUpperCase()!=="TEMPLATE"&&s!==Se.clone&&(!e||vf(s,e))&&n++;return n}function cT(s){var e=0,n=0,r=Ji();if(s)do{var o=Mo(s),u=o.a,f=o.d;e+=s.scrollLeft*u,n+=s.scrollTop*f}while(s!==r&&(s=s.parentNode));return[e,n]}function H2(s,e){for(var n in s)if(s.hasOwnProperty(n)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===s[n][r])return Number(n)}return-1}function Es(s,e){if(!s||!s.getBoundingClientRect)return Ji();var n=s,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=we(n);if(n.clientWidth<n.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Ji();if(r||e)return n;r=!0}}while(n=n.parentNode);return Ji()}function F2(s,e){if(s&&e)for(var n in e)e.hasOwnProperty(n)&&(s[n]=e[n]);return s}function cg(s,e){return Math.round(s.top)===Math.round(e.top)&&Math.round(s.left)===Math.round(e.left)&&Math.round(s.height)===Math.round(e.height)&&Math.round(s.width)===Math.round(e.width)}var _u;function GS(s,e){return function(){if(!_u){var n=arguments,r=this;n.length===1?s.call(r,n[0]):s.apply(r,n),_u=setTimeout(function(){_u=void 0},e)}}}function G2(){clearTimeout(_u),_u=void 0}function YS(s,e,n){s.scrollLeft+=e,s.scrollTop+=n}function QS(s){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(s).cloneNode(!0):n?n(s).clone(!0)[0]:s.cloneNode(!0)}function KS(s,e,n){var r={};return Array.from(s.children).forEach(function(o){var u,f,m,p;if(!(!_i(o,e.draggable,s,!1)||o.animated||o===n)){var y=Ut(o);r.left=Math.min((u=r.left)!==null&&u!==void 0?u:1/0,y.left),r.top=Math.min((f=r.top)!==null&&f!==void 0?f:1/0,y.top),r.right=Math.max((m=r.right)!==null&&m!==void 0?m:-1/0,y.right),r.bottom=Math.max((p=r.bottom)!==null&&p!==void 0?p:-1/0,y.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var xn="Sortable"+new Date().getTime();function Y2(){var s=[],e;return{captureAnimationState:function(){if(s=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(o){if(!(we(o,"display")==="none"||o===Se.ghost)){s.push({target:o,rect:Ut(o)});var u=nr({},s[s.length-1].rect);if(o.thisAnimationDuration){var f=Mo(o,!0);f&&(u.top-=f.f,u.left-=f.e)}o.fromRect=u}})}},addAnimationState:function(r){s.push(r)},removeAnimationState:function(r){s.splice(H2(s,{target:r}),1)},animateAll:function(r){var o=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var u=!1,f=0;s.forEach(function(m){var p=0,y=m.target,E=y.fromRect,b=Ut(y),D=y.prevFromRect,L=y.prevToRect,Y=m.rect,z=Mo(y,!0);z&&(b.top-=z.f,b.left-=z.e),y.toRect=b,y.thisAnimationDuration&&cg(D,b)&&!cg(E,b)&&(Y.top-b.top)/(Y.left-b.left)===(E.top-b.top)/(E.left-b.left)&&(p=K2(Y,D,L,o.options)),cg(b,E)||(y.prevFromRect=E,y.prevToRect=b,p||(p=o.options.animation),o.animate(y,Y,b,p)),p&&(u=!0,f=Math.max(f,p),clearTimeout(y.animationResetTimer),y.animationResetTimer=setTimeout(function(){y.animationTime=0,y.prevFromRect=null,y.fromRect=null,y.prevToRect=null,y.thisAnimationDuration=null},p),y.thisAnimationDuration=p)}),clearTimeout(e),u?e=setTimeout(function(){typeof r=="function"&&r()},f):typeof r=="function"&&r(),s=[]},animate:function(r,o,u,f){if(f){we(r,"transition",""),we(r,"transform","");var m=Mo(this.el),p=m&&m.a,y=m&&m.d,E=(o.left-u.left)/(p||1),b=(o.top-u.top)/(y||1);r.animatingX=!!E,r.animatingY=!!b,we(r,"transform","translate3d("+E+"px,"+b+"px,0)"),this.forRepaintDummy=Q2(r),we(r,"transition","transform "+f+"ms"+(this.options.easing?" "+this.options.easing:"")),we(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){we(r,"transition",""),we(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},f)}}}}function Q2(s){return s.offsetWidth}function K2(s,e,n,r){return Math.sqrt(Math.pow(e.top-s.top,2)+Math.pow(e.left-s.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}var vo=[],hg={initializeByDefault:!0},Ku={mount:function(e){for(var n in hg)hg.hasOwnProperty(n)&&!(n in e)&&(e[n]=hg[n]);vo.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),vo.push(e)},pluginEvent:function(e,n,r){var o=this;this.eventCanceled=!1,r.cancel=function(){o.eventCanceled=!0};var u=e+"Global";vo.forEach(function(f){n[f.pluginName]&&(n[f.pluginName][u]&&n[f.pluginName][u](nr({sortable:n},r)),n.options[f.pluginName]&&n[f.pluginName][e]&&n[f.pluginName][e](nr({sortable:n},r)))})},initializePlugins:function(e,n,r,o){vo.forEach(function(m){var p=m.pluginName;if(!(!e.options[p]&&!m.initializeByDefault)){var y=new m(e,n,e.options);y.sortable=e,y.options=e.options,e[p]=y,Nr(r,y.defaults)}});for(var u in e.options)if(e.options.hasOwnProperty(u)){var f=this.modifyOption(e,u,e.options[u]);typeof f<"u"&&(e.options[u]=f)}},getEventProperties:function(e,n){var r={};return vo.forEach(function(o){typeof o.eventProperties=="function"&&Nr(r,o.eventProperties.call(n[o.pluginName],e))}),r},modifyOption:function(e,n,r){var o;return vo.forEach(function(u){e[u.pluginName]&&u.optionListeners&&typeof u.optionListeners[n]=="function"&&(o=u.optionListeners[n].call(e[u.pluginName],r))}),o}};function X2(s){var e=s.sortable,n=s.rootEl,r=s.name,o=s.targetEl,u=s.cloneEl,f=s.toEl,m=s.fromEl,p=s.oldIndex,y=s.newIndex,E=s.oldDraggableIndex,b=s.newDraggableIndex,D=s.originalEvent,L=s.putSortable,Y=s.extraEventProperties;if(e=e||n&&n[xn],!!e){var z,K=e.options,re="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!Mr&&!Qu?z=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(z=document.createEvent("Event"),z.initEvent(r,!0,!0)),z.to=f||n,z.from=m||n,z.item=o||n,z.clone=u,z.oldIndex=p,z.newIndex=y,z.oldDraggableIndex=E,z.newDraggableIndex=b,z.originalEvent=D,z.pullMode=L?L.lastPutMode:void 0;var ue=nr(nr({},Y),Ku.getEventProperties(r,e));for(var ie in ue)z[ie]=ue[ie];n&&n.dispatchEvent(z),K[re]&&K[re].call(e,z)}}var $2=["evt"],Cn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=r.evt,u=B2(r,$2);Ku.pluginEvent.bind(Se)(e,n,nr({dragEl:le,parentEl:Et,ghostEl:xe,rootEl:gt,nextEl:ga,lastDownEl:Qh,cloneEl:pt,cloneHidden:_s,dragStarted:lu,putSortable:rn,activeSortable:Se.active,originalEvent:o,oldIndex:Co,oldDraggableIndex:vu,newIndex:Bn,newDraggableIndex:ms,hideGhostForTarget:JS,unhideGhostForTarget:WS,cloneNowHidden:function(){_s=!0},cloneNowShown:function(){_s=!1},dispatchSortableEvent:function(m){yn({sortable:n,name:m,originalEvent:o})}},u))};function yn(s){X2(nr({putSortable:rn,cloneEl:pt,targetEl:le,rootEl:gt,oldIndex:Co,oldDraggableIndex:vu,newIndex:Bn,newDraggableIndex:ms},s))}var le,Et,xe,gt,ga,Qh,pt,_s,Co,Bn,vu,ms,xh,rn,Ro=!1,Ef=!1,Tf=[],fa,yi,fg,dg,hT,fT,lu,Eo,Eu,Tu=!1,Nh=!1,Kh,cn,mg=[],Qg=!1,bf=[],Yf=typeof document<"u",Oh=Zp,dT=Qu||Mr?"cssFloat":"float",Z2=Yf&&!BS&&!Zp&&"draggable"in document.createElement("div"),XS=(function(){if(Yf){if(Mr)return!1;var s=document.createElement("x");return s.style.cssText="pointer-events:auto",s.style.pointerEvents==="auto"}})(),$S=function(e,n){var r=we(e),o=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),u=Ho(e,0,n),f=Ho(e,1,n),m=u&&we(u),p=f&&we(f),y=m&&parseInt(m.marginLeft)+parseInt(m.marginRight)+Ut(u).width,E=p&&parseInt(p.marginLeft)+parseInt(p.marginRight)+Ut(f).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(u&&m.float&&m.float!=="none"){var b=m.float==="left"?"left":"right";return f&&(p.clear==="both"||p.clear===b)?"vertical":"horizontal"}return u&&(m.display==="block"||m.display==="flex"||m.display==="table"||m.display==="grid"||y>=o&&r[dT]==="none"||f&&r[dT]==="none"&&y+E>o)?"vertical":"horizontal"},J2=function(e,n,r){var o=r?e.left:e.top,u=r?e.right:e.bottom,f=r?e.width:e.height,m=r?n.left:n.top,p=r?n.right:n.bottom,y=r?n.width:n.height;return o===m||u===p||o+f/2===m+y/2},W2=function(e,n){var r;return Tf.some(function(o){var u=o[xn].options.emptyInsertThreshold;if(!(!u||Jp(o))){var f=Ut(o),m=e>=f.left-u&&e<=f.right+u,p=n>=f.top-u&&n<=f.bottom+u;if(m&&p)return r=o}}),r},ZS=function(e){function n(u,f){return function(m,p,y,E){var b=m.options.group.name&&p.options.group.name&&m.options.group.name===p.options.group.name;if(u==null&&(f||b))return!0;if(u==null||u===!1)return!1;if(f&&u==="clone")return u;if(typeof u=="function")return n(u(m,p,y,E),f)(m,p,y,E);var D=(f?m:p).options.group.name;return u===!0||typeof u=="string"&&u===D||u.join&&u.indexOf(D)>-1}}var r={},o=e.group;(!o||Yh(o)!="object")&&(o={name:o}),r.name=o.name,r.checkPull=n(o.pull,!0),r.checkPut=n(o.put),r.revertClone=o.revertClone,e.group=r},JS=function(){!XS&&xe&&we(xe,"display","none")},WS=function(){!XS&&xe&&we(xe,"display","")};Yf&&!BS&&document.addEventListener("click",function(s){if(Ef)return s.preventDefault(),s.stopPropagation&&s.stopPropagation(),s.stopImmediatePropagation&&s.stopImmediatePropagation(),Ef=!1,!1},!0);var da=function(e){if(le){e=e.touches?e.touches[0]:e;var n=W2(e.clientX,e.clientY);if(n){var r={};for(var o in e)e.hasOwnProperty(o)&&(r[o]=e[o]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[xn]._onDragOver(r)}}},eN=function(e){le&&le.parentNode[xn]._isOutsideThisEl(e.target)};function Se(s,e){if(!(s&&s.nodeType&&s.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(s));this.el=s,this.options=e=Nr({},e),s[xn]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(s.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return $S(s,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(f,m){f.setData("Text",m.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Se.supportPointer!==!1&&"PointerEvent"in window&&(!yu||Zp),emptyInsertThreshold:5};Ku.initializePlugins(this,s,n);for(var r in n)!(r in e)&&(e[r]=n[r]);ZS(e);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=e.forceFallback?!1:Z2,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Ge(s,"pointerdown",this._onTapStart):(Ge(s,"mousedown",this._onTapStart),Ge(s,"touchstart",this._onTapStart)),this.nativeDraggable&&(Ge(s,"dragover",this),Ge(s,"dragenter",this)),Tf.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Nr(this,Y2())}Se.prototype={constructor:Se,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Eo=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,le):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,r=this.el,o=this.options,u=o.preventOnFilter,f=e.type,m=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,p=(m||e).target,y=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||p,E=o.filter;if(lN(r),!le&&!(/mousedown|pointerdown/.test(f)&&e.button!==0||o.disabled)&&!y.isContentEditable&&!(!this.nativeDraggable&&yu&&p&&p.tagName.toUpperCase()==="SELECT")&&(p=_i(p,o.draggable,r,!1),!(p&&p.animated)&&Qh!==p)){if(Co=ni(p),vu=ni(p,o.draggable),typeof E=="function"){if(E.call(this,e,p,this)){yn({sortable:n,rootEl:y,name:"filter",targetEl:p,toEl:r,fromEl:r}),Cn("filter",n,{evt:e}),u&&e.preventDefault();return}}else if(E&&(E=E.split(",").some(function(b){if(b=_i(y,b.trim(),r,!1),b)return yn({sortable:n,rootEl:b,name:"filter",targetEl:p,fromEl:r,toEl:r}),Cn("filter",n,{evt:e}),!0}),E)){u&&e.preventDefault();return}o.handle&&!_i(y,o.handle,r,!1)||this._prepareDragStart(e,m,p)}}},_prepareDragStart:function(e,n,r){var o=this,u=o.el,f=o.options,m=u.ownerDocument,p;if(r&&!le&&r.parentNode===u){var y=Ut(r);if(gt=u,le=r,Et=le.parentNode,ga=le.nextSibling,Qh=r,xh=f.group,Se.dragged=le,fa={target:le,clientX:(n||e).clientX,clientY:(n||e).clientY},hT=fa.clientX-y.left,fT=fa.clientY-y.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,le.style["will-change"]="all",p=function(){if(Cn("delayEnded",o,{evt:e}),Se.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!oT&&o.nativeDraggable&&(le.draggable=!0),o._triggerDragStart(e,n),yn({sortable:o,name:"choose",originalEvent:e}),jn(le,f.chosenClass,!0)},f.ignore.split(",").forEach(function(E){FS(le,E.trim(),gg)}),Ge(m,"dragover",da),Ge(m,"mousemove",da),Ge(m,"touchmove",da),f.supportPointer?(Ge(m,"pointerup",o._onDrop),!this.nativeDraggable&&Ge(m,"pointercancel",o._onDrop)):(Ge(m,"mouseup",o._onDrop),Ge(m,"touchend",o._onDrop),Ge(m,"touchcancel",o._onDrop)),oT&&this.nativeDraggable&&(this.options.touchStartThreshold=4,le.draggable=!0),Cn("delayStart",this,{evt:e}),f.delay&&(!f.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Qu||Mr))){if(Se.eventCanceled){this._onDrop();return}f.supportPointer?(Ge(m,"pointerup",o._disableDelayedDrag),Ge(m,"pointercancel",o._disableDelayedDrag)):(Ge(m,"mouseup",o._disableDelayedDrag),Ge(m,"touchend",o._disableDelayedDrag),Ge(m,"touchcancel",o._disableDelayedDrag)),Ge(m,"mousemove",o._delayedDragTouchMoveHandler),Ge(m,"touchmove",o._delayedDragTouchMoveHandler),f.supportPointer&&Ge(m,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(p,f.delay)}else p()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){le&&gg(le),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;je(e,"mouseup",this._disableDelayedDrag),je(e,"touchend",this._disableDelayedDrag),je(e,"touchcancel",this._disableDelayedDrag),je(e,"pointerup",this._disableDelayedDrag),je(e,"pointercancel",this._disableDelayedDrag),je(e,"mousemove",this._delayedDragTouchMoveHandler),je(e,"touchmove",this._delayedDragTouchMoveHandler),je(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?Ge(document,"pointermove",this._onTouchMove):n?Ge(document,"touchmove",this._onTouchMove):Ge(document,"mousemove",this._onTouchMove):(Ge(le,"dragend",this),Ge(gt,"dragstart",this._onDragStart));try{document.selection?Xh(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(Ro=!1,gt&&le){Cn("dragStarted",this,{evt:n}),this.nativeDraggable&&Ge(document,"dragover",eN);var r=this.options;!e&&jn(le,r.dragClass,!1),jn(le,r.ghostClass,!0),Se.active=this,e&&this._appendGhost(),yn({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(yi){this._lastX=yi.clientX,this._lastY=yi.clientY,JS();for(var e=document.elementFromPoint(yi.clientX,yi.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(yi.clientX,yi.clientY),e!==n);)n=e;if(le.parentNode[xn]._isOutsideThisEl(e),n)do{if(n[xn]){var r=void 0;if(r=n[xn]._onDragOver({clientX:yi.clientX,clientY:yi.clientY,target:e,rootEl:n}),r&&!this.options.dragoverBubble)break}e=n}while(n=HS(n));WS()}},_onTouchMove:function(e){if(fa){var n=this.options,r=n.fallbackTolerance,o=n.fallbackOffset,u=e.touches?e.touches[0]:e,f=xe&&Mo(xe,!0),m=xe&&f&&f.a,p=xe&&f&&f.d,y=Oh&&cn&&cT(cn),E=(u.clientX-fa.clientX+o.x)/(m||1)+(y?y[0]-mg[0]:0)/(m||1),b=(u.clientY-fa.clientY+o.y)/(p||1)+(y?y[1]-mg[1]:0)/(p||1);if(!Se.active&&!Ro){if(r&&Math.max(Math.abs(u.clientX-this._lastX),Math.abs(u.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(xe){f?(f.e+=E-(fg||0),f.f+=b-(dg||0)):f={a:1,b:0,c:0,d:1,e:E,f:b};var D="matrix(".concat(f.a,",").concat(f.b,",").concat(f.c,",").concat(f.d,",").concat(f.e,",").concat(f.f,")");we(xe,"webkitTransform",D),we(xe,"mozTransform",D),we(xe,"msTransform",D),we(xe,"transform",D),fg=E,dg=b,yi=u}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!xe){var e=this.options.fallbackOnBody?document.body:gt,n=Ut(le,!0,Oh,!0,e),r=this.options;if(Oh){for(cn=e;we(cn,"position")==="static"&&we(cn,"transform")==="none"&&cn!==document;)cn=cn.parentNode;cn!==document.body&&cn!==document.documentElement?(cn===document&&(cn=Ji()),n.top+=cn.scrollTop,n.left+=cn.scrollLeft):cn=Ji(),mg=cT(cn)}xe=le.cloneNode(!0),jn(xe,r.ghostClass,!1),jn(xe,r.fallbackClass,!0),jn(xe,r.dragClass,!0),we(xe,"transition",""),we(xe,"transform",""),we(xe,"box-sizing","border-box"),we(xe,"margin",0),we(xe,"top",n.top),we(xe,"left",n.left),we(xe,"width",n.width),we(xe,"height",n.height),we(xe,"opacity","0.8"),we(xe,"position",Oh?"absolute":"fixed"),we(xe,"zIndex","100000"),we(xe,"pointerEvents","none"),Se.ghost=xe,e.appendChild(xe),we(xe,"transform-origin",hT/parseInt(xe.style.width)*100+"% "+fT/parseInt(xe.style.height)*100+"%")}},_onDragStart:function(e,n){var r=this,o=e.dataTransfer,u=r.options;if(Cn("dragStart",this,{evt:e}),Se.eventCanceled){this._onDrop();return}Cn("setupClone",this),Se.eventCanceled||(pt=QS(le),pt.removeAttribute("id"),pt.draggable=!1,pt.style["will-change"]="",this._hideClone(),jn(pt,this.options.chosenClass,!1),Se.clone=pt),r.cloneId=Xh(function(){Cn("clone",r),!Se.eventCanceled&&(r.options.removeCloneOnHide||gt.insertBefore(pt,le),r._hideClone(),yn({sortable:r,name:"clone"}))}),!n&&jn(le,u.dragClass,!0),n?(Ef=!0,r._loopId=setInterval(r._emulateDragOver,50)):(je(document,"mouseup",r._onDrop),je(document,"touchend",r._onDrop),je(document,"touchcancel",r._onDrop),o&&(o.effectAllowed="move",u.setData&&u.setData.call(r,o,le)),Ge(document,"drop",r),we(le,"transform","translateZ(0)")),Ro=!0,r._dragStartId=Xh(r._dragStarted.bind(r,n,e)),Ge(document,"selectstart",r),lu=!0,window.getSelection().removeAllRanges(),yu&&we(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,r=e.target,o,u,f,m=this.options,p=m.group,y=Se.active,E=xh===p,b=m.sort,D=rn||y,L,Y=this,z=!1;if(Qg)return;function K(he,_e){Cn(he,Y,nr({evt:e,isOwner:E,axis:L?"vertical":"horizontal",revert:f,dragRect:o,targetRect:u,canSort:b,fromSortable:D,target:r,completed:ue,onMove:function(M,Z){return Mh(gt,n,le,o,M,Ut(M),e,Z)},changed:ie},_e))}function re(){K("dragOverAnimationCapture"),Y.captureAnimationState(),Y!==D&&D.captureAnimationState()}function ue(he){return K("dragOverCompleted",{insertion:he}),he&&(E?y._hideClone():y._showClone(Y),Y!==D&&(jn(le,rn?rn.options.ghostClass:y.options.ghostClass,!1),jn(le,m.ghostClass,!0)),rn!==Y&&Y!==Se.active?rn=Y:Y===Se.active&&rn&&(rn=null),D===Y&&(Y._ignoreWhileAnimating=r),Y.animateAll(function(){K("dragOverAnimationComplete"),Y._ignoreWhileAnimating=null}),Y!==D&&(D.animateAll(),D._ignoreWhileAnimating=null)),(r===le&&!le.animated||r===n&&!r.animated)&&(Eo=null),!m.dragoverBubble&&!e.rootEl&&r!==document&&(le.parentNode[xn]._isOutsideThisEl(e.target),!he&&da(e)),!m.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),z=!0}function ie(){Bn=ni(le),ms=ni(le,m.draggable),yn({sortable:Y,name:"change",toEl:n,newIndex:Bn,newDraggableIndex:ms,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=_i(r,m.draggable,n,!0),K("dragOver"),Se.eventCanceled)return z;if(le.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||Y._ignoreWhileAnimating===r)return ue(!1);if(Ef=!1,y&&!m.disabled&&(E?b||(f=Et!==gt):rn===this||(this.lastPutMode=xh.checkPull(this,y,le,e))&&p.checkPut(this,y,le,e))){if(L=this._getDirection(e,r)==="vertical",o=Ut(le),K("dragOverValid"),Se.eventCanceled)return z;if(f)return Et=gt,re(),this._hideClone(),K("revert"),Se.eventCanceled||(ga?gt.insertBefore(le,ga):gt.appendChild(le)),ue(!0);var se=Jp(n,m.draggable);if(!se||rN(e,L,this)&&!se.animated){if(se===le)return ue(!1);if(se&&n===e.target&&(r=se),r&&(u=Ut(r)),Mh(gt,n,le,o,r,u,e,!!r)!==!1)return re(),se&&se.nextSibling?n.insertBefore(le,se.nextSibling):n.appendChild(le),Et=n,ie(),ue(!0)}else if(se&&iN(e,L,this)){var ye=Ho(n,0,m,!0);if(ye===le)return ue(!1);if(r=ye,u=Ut(r),Mh(gt,n,le,o,r,u,e,!1)!==!1)return re(),n.insertBefore(le,ye),Et=n,ie(),ue(!0)}else if(r.parentNode===n){u=Ut(r);var $=0,C,w=le.parentNode!==n,R=!J2(le.animated&&le.toRect||o,r.animated&&r.toRect||u,L),N=L?"top":"left",O=uT(r,"top","top")||uT(le,"top","top"),k=O?O.scrollTop:void 0;Eo!==r&&(C=u[N],Tu=!1,Nh=!R&&m.invertSwap||w),$=sN(e,r,u,L,R?1:m.swapThreshold,m.invertedSwapThreshold==null?m.swapThreshold:m.invertedSwapThreshold,Nh,Eo===r);var I;if($!==0){var Ye=ni(le);do Ye-=$,I=Et.children[Ye];while(I&&(we(I,"display")==="none"||I===xe))}if($===0||I===r)return ue(!1);Eo=r,Eu=$;var B=r.nextElementSibling,U=!1;U=$===1;var ne=Mh(gt,n,le,o,r,u,e,U);if(ne!==!1)return(ne===1||ne===-1)&&(U=ne===1),Qg=!0,setTimeout(nN,30),re(),U&&!B?n.appendChild(le):r.parentNode.insertBefore(le,U?B:r),O&&YS(O,0,k-O.scrollTop),Et=le.parentNode,C!==void 0&&!Nh&&(Kh=Math.abs(C-Ut(r)[N])),ie(),ue(!0)}if(n.contains(le))return ue(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){je(document,"mousemove",this._onTouchMove),je(document,"touchmove",this._onTouchMove),je(document,"pointermove",this._onTouchMove),je(document,"dragover",da),je(document,"mousemove",da),je(document,"touchmove",da)},_offUpEvents:function(){var e=this.el.ownerDocument;je(e,"mouseup",this._onDrop),je(e,"touchend",this._onDrop),je(e,"pointerup",this._onDrop),je(e,"pointercancel",this._onDrop),je(e,"touchcancel",this._onDrop),je(document,"selectstart",this)},_onDrop:function(e){var n=this.el,r=this.options;if(Bn=ni(le),ms=ni(le,r.draggable),Cn("drop",this,{evt:e}),Et=le&&le.parentNode,Bn=ni(le),ms=ni(le,r.draggable),Se.eventCanceled){this._nulling();return}Ro=!1,Nh=!1,Tu=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Kg(this.cloneId),Kg(this._dragStartId),this.nativeDraggable&&(je(document,"drop",this),je(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),yu&&we(document.body,"user-select",""),we(le,"transform",""),e&&(lu&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),xe&&xe.parentNode&&xe.parentNode.removeChild(xe),(gt===Et||rn&&rn.lastPutMode!=="clone")&&pt&&pt.parentNode&&pt.parentNode.removeChild(pt),le&&(this.nativeDraggable&&je(le,"dragend",this),gg(le),le.style["will-change"]="",lu&&!Ro&&jn(le,rn?rn.options.ghostClass:this.options.ghostClass,!1),jn(le,this.options.chosenClass,!1),yn({sortable:this,name:"unchoose",toEl:Et,newIndex:null,newDraggableIndex:null,originalEvent:e}),gt!==Et?(Bn>=0&&(yn({rootEl:Et,name:"add",toEl:Et,fromEl:gt,originalEvent:e}),yn({sortable:this,name:"remove",toEl:Et,originalEvent:e}),yn({rootEl:Et,name:"sort",toEl:Et,fromEl:gt,originalEvent:e}),yn({sortable:this,name:"sort",toEl:Et,originalEvent:e})),rn&&rn.save()):Bn!==Co&&Bn>=0&&(yn({sortable:this,name:"update",toEl:Et,originalEvent:e}),yn({sortable:this,name:"sort",toEl:Et,originalEvent:e})),Se.active&&((Bn==null||Bn===-1)&&(Bn=Co,ms=vu),yn({sortable:this,name:"end",toEl:Et,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Cn("nulling",this),gt=le=Et=xe=ga=pt=Qh=_s=fa=yi=lu=Bn=ms=Co=vu=Eo=Eu=rn=xh=Se.dragged=Se.ghost=Se.clone=Se.active=null,bf.forEach(function(e){e.checked=!0}),bf.length=fg=dg=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":le&&(this._onDragOver(e),tN(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,r=this.el.children,o=0,u=r.length,f=this.options;o<u;o++)n=r[o],_i(n,f.draggable,this.el,!1)&&e.push(n.getAttribute(f.dataIdAttr)||oN(n));return e},sort:function(e,n){var r={},o=this.el;this.toArray().forEach(function(u,f){var m=o.children[f];_i(m,this.options.draggable,o,!1)&&(r[u]=m)},this),n&&this.captureAnimationState(),e.forEach(function(u){r[u]&&(o.removeChild(r[u]),o.appendChild(r[u]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return _i(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var r=this.options;if(n===void 0)return r[e];var o=Ku.modifyOption(this,e,n);typeof o<"u"?r[e]=o:r[e]=n,e==="group"&&ZS(r)},destroy:function(){Cn("destroy",this);var e=this.el;e[xn]=null,je(e,"mousedown",this._onTapStart),je(e,"touchstart",this._onTapStart),je(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(je(e,"dragover",this),je(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Tf.splice(Tf.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!_s){if(Cn("hideClone",this),Se.eventCanceled)return;we(pt,"display","none"),this.options.removeCloneOnHide&&pt.parentNode&&pt.parentNode.removeChild(pt),_s=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(_s){if(Cn("showClone",this),Se.eventCanceled)return;le.parentNode==gt&&!this.options.group.revertClone?gt.insertBefore(pt,le):ga?gt.insertBefore(pt,ga):gt.appendChild(pt),this.options.group.revertClone&&this.animate(le,pt),we(pt,"display",""),_s=!1}}};function tN(s){s.dataTransfer&&(s.dataTransfer.dropEffect="move"),s.cancelable&&s.preventDefault()}function Mh(s,e,n,r,o,u,f,m){var p,y=s[xn],E=y.options.onMove,b;return window.CustomEvent&&!Mr&&!Qu?p=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(p=document.createEvent("Event"),p.initEvent("move",!0,!0)),p.to=e,p.from=s,p.dragged=n,p.draggedRect=r,p.related=o||e,p.relatedRect=u||Ut(e),p.willInsertAfter=m,p.originalEvent=f,s.dispatchEvent(p),E&&(b=E.call(y,p,f)),b}function gg(s){s.draggable=!1}function nN(){Qg=!1}function iN(s,e,n){var r=Ut(Ho(n.el,0,n.options,!0)),o=KS(n.el,n.options,xe),u=10;return e?s.clientX<o.left-u||s.clientY<r.top&&s.clientX<r.right:s.clientY<o.top-u||s.clientY<r.bottom&&s.clientX<r.left}function rN(s,e,n){var r=Ut(Jp(n.el,n.options.draggable)),o=KS(n.el,n.options,xe),u=10;return e?s.clientX>o.right+u||s.clientY>r.bottom&&s.clientX>r.left:s.clientY>o.bottom+u||s.clientX>r.right&&s.clientY>r.top}function sN(s,e,n,r,o,u,f,m){var p=r?s.clientY:s.clientX,y=r?n.height:n.width,E=r?n.top:n.left,b=r?n.bottom:n.right,D=!1;if(!f){if(m&&Kh<y*o){if(!Tu&&(Eu===1?p>E+y*u/2:p<b-y*u/2)&&(Tu=!0),Tu)D=!0;else if(Eu===1?p<E+Kh:p>b-Kh)return-Eu}else if(p>E+y*(1-o)/2&&p<b-y*(1-o)/2)return aN(e)}return D=D||f,D&&(p<E+y*u/2||p>b-y*u/2)?p>E+y/2?1:-1:0}function aN(s){return ni(le)<ni(s)?1:-1}function oN(s){for(var e=s.tagName+s.className+s.src+s.href+s.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function lN(s){bf.length=0;for(var e=s.getElementsByTagName("input"),n=e.length;n--;){var r=e[n];r.checked&&bf.push(r)}}function Xh(s){return setTimeout(s,0)}function Kg(s){return clearTimeout(s)}Yf&&Ge(document,"touchmove",function(s){(Se.active||Ro)&&s.cancelable&&s.preventDefault()});Se.utils={on:Ge,off:je,css:we,find:FS,is:function(e,n){return!!_i(e,n,e,!1)},extend:F2,throttle:GS,closest:_i,toggleClass:jn,clone:QS,index:ni,nextTick:Xh,cancelNextTick:Kg,detectDirection:$S,getChild:Ho,expando:xn};Se.get=function(s){return s[xn]};Se.mount=function(){for(var s=arguments.length,e=new Array(s),n=0;n<s;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(Se.utils=nr(nr({},Se.utils),r.utils)),Ku.mount(r)})};Se.create=function(s,e){return new Se(s,e)};Se.version=q2;var Pt=[],uu,Xg,$g=!1,pg,yg,Sf,cu;function uN(){function s(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return s.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?Ge(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Ge(document,"pointermove",this._handleFallbackAutoScroll):r.touches?Ge(document,"touchmove",this._handleFallbackAutoScroll):Ge(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?je(document,"dragover",this._handleAutoScroll):(je(document,"pointermove",this._handleFallbackAutoScroll),je(document,"touchmove",this._handleFallbackAutoScroll),je(document,"mousemove",this._handleFallbackAutoScroll)),mT(),$h(),G2()},nulling:function(){Sf=Xg=uu=$g=cu=pg=yg=null,Pt.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var o=this,u=(n.touches?n.touches[0]:n).clientX,f=(n.touches?n.touches[0]:n).clientY,m=document.elementFromPoint(u,f);if(Sf=n,r||this.options.forceAutoScrollFallback||Qu||Mr||yu){_g(n,this.options,m,r);var p=Es(m,!0);$g&&(!cu||u!==pg||f!==yg)&&(cu&&mT(),cu=setInterval(function(){var y=Es(document.elementFromPoint(u,f),!0);y!==p&&(p=y,$h()),_g(n,o.options,y,r)},10),pg=u,yg=f)}else{if(!this.options.bubbleScroll||Es(m,!0)===Ji()){$h();return}_g(n,this.options,Es(m,!1),!1)}}},Nr(s,{pluginName:"scroll",initializeByDefault:!0})}function $h(){Pt.forEach(function(s){clearInterval(s.pid)}),Pt=[]}function mT(){clearInterval(cu)}var _g=GS(function(s,e,n,r){if(e.scroll){var o=(s.touches?s.touches[0]:s).clientX,u=(s.touches?s.touches[0]:s).clientY,f=e.scrollSensitivity,m=e.scrollSpeed,p=Ji(),y=!1,E;Xg!==n&&(Xg=n,$h(),uu=e.scroll,E=e.scrollFn,uu===!0&&(uu=Es(n,!0)));var b=0,D=uu;do{var L=D,Y=Ut(L),z=Y.top,K=Y.bottom,re=Y.left,ue=Y.right,ie=Y.width,se=Y.height,ye=void 0,$=void 0,C=L.scrollWidth,w=L.scrollHeight,R=we(L),N=L.scrollLeft,O=L.scrollTop;L===p?(ye=ie<C&&(R.overflowX==="auto"||R.overflowX==="scroll"||R.overflowX==="visible"),$=se<w&&(R.overflowY==="auto"||R.overflowY==="scroll"||R.overflowY==="visible")):(ye=ie<C&&(R.overflowX==="auto"||R.overflowX==="scroll"),$=se<w&&(R.overflowY==="auto"||R.overflowY==="scroll"));var k=ye&&(Math.abs(ue-o)<=f&&N+ie<C)-(Math.abs(re-o)<=f&&!!N),I=$&&(Math.abs(K-u)<=f&&O+se<w)-(Math.abs(z-u)<=f&&!!O);if(!Pt[b])for(var Ye=0;Ye<=b;Ye++)Pt[Ye]||(Pt[Ye]={});(Pt[b].vx!=k||Pt[b].vy!=I||Pt[b].el!==L)&&(Pt[b].el=L,Pt[b].vx=k,Pt[b].vy=I,clearInterval(Pt[b].pid),(k!=0||I!=0)&&(y=!0,Pt[b].pid=setInterval((function(){r&&this.layer===0&&Se.active._onTouchMove(Sf);var B=Pt[this.layer].vy?Pt[this.layer].vy*m:0,U=Pt[this.layer].vx?Pt[this.layer].vx*m:0;typeof E=="function"&&E.call(Se.dragged.parentNode[xn],U,B,s,Sf,Pt[this.layer].el)!=="continue"||YS(Pt[this.layer].el,U,B)}).bind({layer:b}),24))),b++}while(e.bubbleScroll&&D!==p&&(D=Es(D,!1)));$g=y}},30),eA=function(e){var n=e.originalEvent,r=e.putSortable,o=e.dragEl,u=e.activeSortable,f=e.dispatchSortableEvent,m=e.hideGhostForTarget,p=e.unhideGhostForTarget;if(n){var y=r||u;m();var E=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,b=document.elementFromPoint(E.clientX,E.clientY);p(),y&&!y.el.contains(b)&&(f("spill"),this.onSpill({dragEl:o,putSortable:r}))}};function Wp(){}Wp.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var o=Ho(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(n,o):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:eA};Nr(Wp,{pluginName:"revertOnSpill"});function ey(){}ey.prototype={onSpill:function(e){var n=e.dragEl,r=e.putSortable,o=r||this.sortable;o.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),o.animateAll()},drop:eA};Nr(ey,{pluginName:"removeOnSpill"});Se.mount(new uN);Se.mount(ey,Wp);function cN({onAdd:s}){const[e,n]=pe.useState("");return A.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-2",children:[A.jsx("input",{className:"min-w-0 flex-1 rounded-md border border-zinc-700 bg-zinc-900 px-3 py-2 text-zinc-100 outline-none focus:border-teal-400",placeholder:"Create a new category...",value:e,onChange:r=>n(r.target.value),onKeyDown:r=>{r.key==="Enter"&&(s(e),n(""))}}),A.jsx("button",{className:"inline-flex items-center rounded-md bg-teal-400 px-4 py-2 text-sm font-medium text-zinc-900 hover:opacity-90",onClick:()=>{s(e),n("")},children:"Add Category"})]})}function hN({onAdd:s}){const[e,n]=pe.useState(""),[r,o]=pe.useState(""),[u,f]=pe.useState(!1);return A.jsxs("div",{className:"mb-3 flex flex-wrap items-center gap-2",children:[A.jsx("input",{className:"min-w-0 flex-1 rounded-md border border-zinc-700 bg-zinc-900 px-3 py-2 text-zinc-100 outline-none focus:border-teal-400",placeholder:"Add a new task...",value:e,onChange:m=>{n(m.target.value),m.target.value&&!u&&f(!0)},onKeyDown:m=>{m.key==="Enter"&&(s(e,r),n(""),o(""),f(!1))}}),u&&A.jsx("input",{type:"date",className:"rounded-md border border-zinc-700 bg-zinc-900 px-3 py-2 text-zinc-100 outline-none focus:border-teal-400",value:r,onChange:m=>o(m.target.value)}),A.jsx("button",{className:"inline-flex items-center rounded-md bg-teal-400 px-4 py-2 text-sm font-medium text-zinc-900 hover:opacity-90",onClick:()=>{s(e,r),n(""),o(""),f(!1)},children:"Add"})]})}const fN=(...s)=>s.filter(Boolean).join(" ");function dN({items:s,onAdd:e,onToggle:n,onDelete:r,onEdit:o,onReorder:u,isParentEditing:f}){const[m,p]=pe.useState(""),[y,E]=pe.useState(!0),[b,D]=pe.useState(null),[L,Y]=pe.useState(""),z=pe.useRef(null),K=pe.useRef(null);pe.useEffect(()=>{const ie=z.current;if(!(!ie||s.length===0||!u)){if(K.current){try{K.current.destroy()}catch{}K.current=null}return K.current=new Se(ie,{animation:150,ghostClass:"sortable-ghost",handle:".drag-handle",delay:100,delayOnTouchOnly:!0,forceFallback:!0,onEnd:se=>{se.oldIndex!==void 0&&se.newIndex!==void 0&&se.oldIndex!==se.newIndex&&u&&(se.item.remove(),ie.insertBefore(se.item,ie.children[se.oldIndex]),u(se.oldIndex,se.newIndex))}}),()=>{try{K.current?.destroy()}catch{}K.current=null}}},[s.length,u]);const re=(ie,se)=>{D(ie),Y(se)},ue=ie=>{L.trim()&&o&&o(ie,L.trim()),D(null),Y("")};return A.jsxs("div",{className:"mt-2",children:[A.jsxs("button",{className:"mb-1 text-sm text-zinc-400 hover:text-teal-300",onClick:()=>E(ie=>!ie),children:[y?"":""," ",s.length?`(${s.length})`:""," Subtasks"]}),y&&A.jsxs(A.Fragment,{children:[A.jsx("ul",{ref:z,className:"ml-6 space-y-1",children:s.map((ie,se)=>A.jsxs("li",{className:"flex items-center justify-between rounded-md border border-zinc-800 bg-zinc-900 px-2 py-1 text-sm",children:[s.length>1&&A.jsx("span",{className:"drag-handle cursor-move pr-1 text-zinc-500 hover:text-zinc-300",title:"Drag to reorder",children:""}),f&&b===se?A.jsxs("div",{className:"flex flex-1 items-center gap-2",children:[A.jsx("input",{className:"min-w-0 flex-1 rounded-md border border-zinc-700 bg-zinc-950 px-2 py-1 text-xs text-zinc-100 outline-none focus:border-teal-400",value:L,onChange:ye=>Y(ye.target.value),onKeyDown:ye=>{ye.key==="Enter"&&ue(se),ye.key==="Escape"&&(D(null),Y(""))},autoFocus:!0}),A.jsx("button",{className:"px-2 text-xs text-teal-400 hover:text-teal-300",onClick:()=>ue(se),children:""}),A.jsx("button",{className:"px-2 text-xs text-zinc-400 hover:text-zinc-300",onClick:()=>{D(null),Y("")},children:""})]}):A.jsxs(A.Fragment,{children:[A.jsxs("label",{className:"flex flex-1 items-center gap-2",children:[A.jsx("input",{type:"checkbox",checked:!!ie.isComplete,onChange:ye=>n(se,ye.target.checked)}),A.jsx("span",{className:fN(ie.isComplete&&"line-through opacity-60",f&&"cursor-pointer"),onClick:()=>f&&re(se,ie.text),children:ie.text})]}),f&&A.jsx("button",{className:"px-2 text-xs text-zinc-400 hover:text-teal-300",onClick:()=>re(se,ie.text),title:"Edit subtask",children:""}),A.jsx("button",{className:"px-2 text-red-400 hover:bg-red-900/20",onClick:()=>r(se),title:"Delete subtask",children:""})]})]},ie.id||se))}),A.jsxs("div",{className:"ml-6 mt-2 flex gap-2",children:[A.jsx("input",{className:"min-w-0 flex-1 rounded-md border border-zinc-700 bg-zinc-900 px-2 py-1 text-sm text-zinc-100 outline-none focus:border-teal-400",placeholder:"Add a subtask...",value:m,onChange:ie=>p(ie.target.value),onKeyDown:ie=>{ie.key==="Enter"&&(e(m),p(""))}}),A.jsx("button",{className:"inline-flex items-center rounded-md bg-teal-400 px-3 py-1 text-xs font-medium text-zinc-900 hover:opacity-90",onClick:()=>{e(m),p("")},children:"+"})]})]})]})}const gT=(...s)=>s.filter(Boolean).join(" "),mN=s=>s.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),gN=s=>{const e=new Date,n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(s.getFullYear(),s.getMonth(),s.getDate());return r<n?"text-red-400":r.getTime()===n.getTime()?"text-amber-400":"text-zinc-400"};function pN({user:s,listId:e,catId:n,task:r}){const[o,u]=pe.useState(!1),[f,m]=pe.useState(r.text),[p,y]=pe.useState(r.dueDate?r.dueDate.toDate?r.dueDate.toDate():r.dueDate:null);pe.useEffect(()=>m(r.text),[r.text]);const E=pe.useMemo(()=>ri($t,"users",s.uid,"lists",e,"categories",n,"tasks",r.id),[s,e,n,r.id]),b=async $=>{if($&&r.subtasks?.length){const C=r.subtasks.map(w=>({...w,isComplete:!0}));await Gi(E,{isComplete:$,subtasks:C})}else await Gi(E,{isComplete:$})},D=async()=>{const $={text:f};p===""?$.dueDate=null:p instanceof Date&&($.dueDate=p),await Gi(E,$),u(!1)},L=async()=>{confirm("Delete this task?")&&await Gf(E)},Y=async $=>{if(!$?.trim())return;const R=(await wo(E)).data().subtasks||[];R.push({id:Date.now()+Math.random(),text:$.trim(),isComplete:!1,createdAt:new Date}),await Gi(E,{subtasks:R})},z=async($,C)=>{const N=(await wo(E)).data().subtasks||[];N[$]&&(N[$].isComplete=C),await Gi(E,{subtasks:N})},K=async $=>{const R=(await wo(E)).data().subtasks||[];R.splice($,1),await Gi(E,{subtasks:R})},re=async($,C)=>{const N=(await wo(E)).data().subtasks||[];N[$]&&(N[$].text=C),await Gi(E,{subtasks:N})},ue=async($,C)=>{const N=(await wo(E)).data().subtasks||[],[O]=N.splice($,1);N.splice(C,0,O),await Gi(E,{subtasks:N})},ie=async()=>{if(!r.dueDate){alert("This task doesn't have a due date. Add one first!");return}try{const $=r.dueDate.toDate?r.dueDate.toDate():new Date(r.dueDate),C=qo($t,"users",s.uid,"events");await Oo(C,{title:r.text,description:"Task from Todo List",date:We.fromDate($),startTime:null,endTime:null,allDay:!0,reminder:!0,reminderMinutes:60,color:"teal",createdAt:We.now()}),alert(" Task added to calendar!")}catch($){console.error("Error adding to calendar:",$),alert("Failed to add to calendar")}},se=r.createdAt?.toDate?r.createdAt.toDate():r.createdAt,ye=se?(()=>{const C=new Date-se,w=Math.floor(C/6e4),R=Math.floor(C/36e5),N=Math.floor(C/864e5);return w<1?"Added just now":w<60?`Added ${w} min${w>1?"s":""} ago`:R<24?`Added ${R} hour${R>1?"s":""} ago`:N<7?`Added ${N} day${N>1?"s":""} ago`:`Added ${se.toLocaleDateString("en-US",{month:"short",day:"numeric"})} at ${se.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}`})():"";return A.jsx("div",{className:gT("rounded-lg border border-zinc-800 bg-zinc-950 p-3",r.isComplete&&"opacity-60 line-through"),children:A.jsxs("div",{className:"flex items-start gap-3",children:[A.jsx("span",{className:"task-drag-handle mt-1 cursor-move text-zinc-600 hover:text-zinc-400",title:"Drag to reorder task",children:""}),A.jsx("input",{type:"checkbox",className:"mt-1 h-4 w-4",checked:!!r.isComplete,onChange:$=>b($.target.checked)}),A.jsxs("div",{className:"flex-1",children:[o?A.jsxs("div",{className:"mb-2 flex flex-wrap items-center gap-2",children:[A.jsx("input",{className:"min-w-0 flex-1 rounded-md border border-zinc-700 bg-zinc-900 px-3 py-2 text-zinc-100 outline-none focus:border-teal-400",value:f,onChange:$=>m($.target.value)}),A.jsx("input",{type:"date",className:"rounded-md border border-zinc-700 bg-zinc-900 px-3 py-2 text-zinc-100 outline-none focus:border-teal-400",value:p?new Date(p).toISOString().slice(0,10):"",onChange:$=>{if($.target.value){const[C,w,R]=$.target.value.split("-").map(Number);y(new Date(C,w-1,R))}else y("")}}),A.jsx("button",{className:"inline-flex items-center rounded-md bg-teal-400 px-3 py-1 text-sm text-zinc-900",onClick:D,children:"Save"}),A.jsx("button",{className:"inline-flex items-center rounded-md border border-zinc-600 px-3 py-1 text-sm text-zinc-300",onClick:()=>u(!1),children:"Cancel"})]}):A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"text-zinc-100",children:r.text}),ye&&A.jsx("div",{className:"text-xs italic text-zinc-400",children:ye}),r.dueDate&&A.jsxs("div",{className:gT("text-xs",gN(r.dueDate.toDate?r.dueDate.toDate():r.dueDate)),children:["Due: ",mN(r.dueDate.toDate?r.dueDate.toDate():r.dueDate)]})]}),A.jsx(dN,{items:r.subtasks||[],onAdd:Y,onToggle:z,onDelete:K,onEdit:re,onReorder:ue,isParentEditing:o})]}),A.jsxs("div",{className:"flex shrink-0 gap-1 self-start",children:[!o&&r.dueDate&&A.jsx("button",{className:"inline-flex items-center rounded-md border border-teal-600 bg-teal-600/10 px-2 py-1 text-sm text-teal-400 hover:bg-teal-600/20",onClick:ie,title:"Add this task to your calendar",children:""}),!o&&A.jsx("button",{className:"inline-flex items-center rounded-md border border-zinc-600 px-2 py-1 text-sm text-zinc-300 hover:bg-zinc-800",onClick:()=>u(!0),children:"Edit"}),A.jsx("button",{className:"inline-flex items-center rounded-md px-2 py-1 text-sm text-red-400 hover:bg-red-900/20",onClick:L,title:"Delete task",children:""})]})]})})}function yN({user:s,listId:e,cat:n}){const[r,o]=pe.useState(n.name),[u,f]=pe.useState(!1),[m,p]=pe.useState([]),[y,E]=pe.useState(!0),b=pe.useMemo(()=>qo($t,"users",s.uid,"lists",e,"categories",n.id,"tasks"),[s,e,n.id]);pe.useEffect(()=>{const re=yf(b,Gg("order","asc")),ue=_f(re,ie=>{const se=[];ie.forEach(ye=>se.push({id:ye.id,...ye.data()})),p(se)});return()=>ue()},[b]);const D=pe.useRef(null),L=pe.useRef(null);pe.useEffect(()=>{const re=D.current;if(!(!re||m.length===0)){if(L.current){try{L.current.destroy()}catch{}L.current=null}return L.current=new Se(re,{group:"tasks",animation:150,handle:".task-drag-handle",ghostClass:"sortable-ghost",delay:100,delayOnTouchOnly:!0,forceFallback:!0,onEnd:async()=>{if(!D.current)return;const ue=Array.from(D.current.children),ie=LS($t);ue.forEach((se,ye)=>{const $=se.getAttribute("data-id");$&&ie.update(ri(b,$),{order:ye})}),await ie.commit()}}),()=>{try{L.current?.destroy()}catch{}L.current=null}}},[m.length,b]);const Y=async()=>{await Gi(ri($t,"users",s.uid,"lists",e,"categories",n.id),{name:r}),f(!1)},z=async()=>{confirm("Delete this category and all its tasks?")&&await Gf(ri($t,"users",s.uid,"lists",e,"categories",n.id))},K=async(re,ue)=>{if(!re?.trim())return;const ie=(await kS(b)).size;let se=null;if(ue){const[ye,$,C]=ue.split("-").map(Number);se=new Date(ye,$-1,C)}await Oo(b,{text:re.trim(),order:ie,isComplete:!1,createdAt:Gh(),dueDate:se,subtasks:[]})};return A.jsxs("div",{className:"rounded-xl border border-zinc-800 bg-zinc-900 p-4",children:[A.jsxs("div",{className:"mb-3 flex flex-wrap items-start justify-between gap-2",children:[u?A.jsxs("div",{className:"flex w-full flex-wrap items-center gap-2",children:[A.jsx("input",{className:"min-w-0 flex-1 rounded-md border border-zinc-700 bg-zinc-900 px-3 py-2 text-zinc-100 outline-none focus:border-teal-400",value:r,onChange:re=>o(re.target.value),onKeyDown:re=>re.key==="Enter"&&Y()}),A.jsx("button",{className:"inline-flex items-center rounded-md bg-teal-400 px-3 py-1 text-sm text-zinc-900",onClick:Y,children:"Save"})]}):A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:"category-drag-handle cursor-move text-zinc-500 hover:text-zinc-300",title:"Drag to reorder category",children:""}),A.jsx("button",{className:"text-teal-400 hover:text-teal-300",style:{fontFamily:"inherit",fontSize:"inherit"},onClick:()=>E(re=>!re),title:y?"Expand tasks":"Collapse tasks",children:A.jsx("span",{style:{fontVariantEmoji:"text"},children:y?"":""})}),A.jsxs("h3",{className:"text-lg font-semibold text-zinc-100",children:[n.name," ",m.length>0&&A.jsxs("span",{className:"text-sm text-zinc-400",children:["(",m.length,")"]})]})]}),A.jsxs("div",{className:"flex shrink-0 items-center gap-2",children:[A.jsx("button",{className:"inline-flex items-center rounded-md border border-zinc-600 px-3 py-1 text-sm text-zinc-300 hover:bg-zinc-800",onClick:()=>f(re=>!re),children:"Edit"}),A.jsx("button",{className:"inline-flex items-center rounded-md px-2 py-1 text-sm text-red-400 hover:bg-red-900/20",onClick:z,title:"Delete category",children:""})]})]}),!y&&A.jsxs(A.Fragment,{children:[A.jsx(hN,{onAdd:K}),A.jsx("ul",{ref:D,className:"space-y-2",children:m.map(re=>A.jsx("li",{"data-id":re.id,children:A.jsx(pN,{user:s,listId:e,catId:n.id,task:re})},re.id))})]})]})}function _N({user:s}){const[e,n]=pe.useState([]),[r,o]=pe.useState(null),[u,f]=pe.useState(!1),[m,p]=pe.useState(""),[y,E]=pe.useState(!1),[b,D]=pe.useState([]),L=pe.useMemo(()=>s?qo($t,"users",s.uid,"lists"):null,[s]),Y=pe.useMemo(()=>s&&r?qo($t,"users",s.uid,"lists",r,"categories"):null,[s,r]);pe.useEffect(()=>{if(!s||!L)return;const $=yf(L,Gg("order","asc")),C=_f($,async w=>{const R=[];if(w.forEach(N=>R.push({id:N.id,...N.data()})),n(R),R.length===0){const N=await Oo(L,{name:"My Tasks",order:0,createdAt:Gh()});o(N.id)}else r||o(R[0].id)});return()=>C()},[s,L]),pe.useEffect(()=>{if(!Y)return;const $=yf(Y,Gg("order","asc")),C=_f($,w=>{const R=[];w.forEach(N=>R.push({id:N.id,...N.data()})),D(R)});return()=>C()},[Y]);const z=pe.useRef(null),K=pe.useRef(null);pe.useEffect(()=>{const $=z.current;if(!(!$||b.length===0)){if(K.current){try{K.current.destroy()}catch{}K.current=null}return K.current=new Se($,{animation:150,handle:".category-drag-handle",ghostClass:"sortable-ghost",delay:100,delayOnTouchOnly:!0,forceFallback:!0,onEnd:async()=>{if(!s||!z.current)return;const C=Array.from(z.current.children),w=LS($t);C.forEach((R,N)=>{const O=R.getAttribute("data-id");O&&r&&w.update(ri($t,"users",s.uid,"lists",r,"categories",O),{order:N})}),await w.commit()}}),()=>{try{K.current?.destroy()}catch{}K.current=null}}},[s?.uid,r,b.length]);const re=async $=>{f(!1),!(!s||!r||!$?.trim())&&await PS(ri($t,"users",s.uid,"lists",r),{name:$.trim()},{merge:!0})},ue=async()=>{if(!m?.trim()||!s)return;const $=e.length,C=await Oo(L,{name:m.trim(),order:$,createdAt:Gh()});o(C.id),p(""),E(!1)},ie=async()=>{if(!r||e.length<=1){alert("Cannot delete your only list!");return}const $=e.find(C=>C.id===r);confirm(`Delete "${$?.name}" and all its content?`)&&(await Gf(ri($t,"users",s.uid,"lists",r)),o(e[0].id===r?e[1]?.id:e[0]?.id))},se=async $=>{if(!$?.trim()||!s||!Y)return;const C=(await kS(Y)).size;await Oo(Y,{name:$.trim(),order:C,createdAt:Gh()})},ye=e.find($=>$.id===r);return ye?A.jsxs("div",{className:"w-full px-4 py-6 md:px-6",children:[A.jsx("header",{className:"mb-6 border-b border-zinc-800 pb-4",children:A.jsxs("div",{className:"mb-3 flex flex-wrap items-center justify-between gap-3",children:[A.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[A.jsx("select",{className:"rounded-md border border-zinc-700 bg-zinc-900 px-4 py-2.5 text-lg font-medium text-zinc-100 outline-none focus:border-teal-400",value:r||"",onChange:$=>o($.target.value),children:e.map($=>A.jsx("option",{value:$.id,children:$.name},$.id))}),y?A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("input",{className:"rounded-md border border-zinc-700 bg-zinc-900 px-3 py-2 text-sm text-zinc-100 outline-none focus:border-teal-400",placeholder:"List name...",value:m,onChange:$=>p($.target.value),onKeyDown:$=>{$.key==="Enter"&&ue(),$.key==="Escape"&&(E(!1),p(""))},autoFocus:!0}),A.jsx("button",{className:"px-2 text-teal-400 hover:text-teal-300",onClick:ue,children:""}),A.jsx("button",{className:"px-2 text-zinc-400 hover:text-zinc-300",onClick:()=>{E(!1),p("")},children:""})]}):A.jsxs(A.Fragment,{children:[A.jsx("button",{className:"inline-flex items-center rounded-md border border-zinc-600 px-3 py-2 text-sm text-zinc-300 hover:bg-zinc-800",onClick:()=>E(!0),children:"+ New List"}),A.jsx("button",{className:"inline-flex items-center rounded-md border border-zinc-600 px-3 py-2 text-sm text-zinc-300 hover:bg-zinc-800",onClick:()=>f(!0),children:"Rename List"}),A.jsx("button",{className:"inline-flex items-center rounded-md border border-red-600 px-3 py-2 text-sm text-red-400 hover:bg-red-900/20",onClick:ie,title:"Delete list",children:"Delete List"})]}),u&&A.jsx("div",{className:"flex items-center gap-2",children:A.jsx("input",{className:"rounded-md border border-zinc-700 bg-zinc-900 px-3 py-2 text-sm text-zinc-100 outline-none focus:border-teal-400",placeholder:"New list name...",defaultValue:ye.name,onBlur:$=>re($.target.value),onKeyDown:$=>{$.key==="Enter"&&re($.currentTarget.value),$.key==="Escape"&&f(!1)},autoFocus:!0})})]}),A.jsx("div",{className:"flex items-center gap-2",children:A.jsx("button",{className:"inline-flex items-center rounded-md bg-zinc-700 px-3 py-2 text-sm text-zinc-100 hover:bg-zinc-600",onClick:()=>mC(Yg),children:"Sign Out"})})]})}),A.jsx(cN,{onAdd:se}),A.jsx("div",{ref:z,className:"flex flex-col gap-4",children:b.map($=>A.jsx("div",{"data-id":$.id,className:"w-full",children:A.jsx(yN,{user:s,listId:r,cat:$})},$.id))})]}):A.jsx("div",{className:"w-full px-4 py-6 text-zinc-400",children:"Loading..."})}const Vh=[{name:"Teal",value:"teal",bg:"bg-teal-900/30",hover:"hover:bg-teal-900/50",text:"text-teal-300",border:"border-teal-600"},{name:"Blue",value:"blue",bg:"bg-blue-900/30",hover:"hover:bg-blue-900/50",text:"text-blue-300",border:"border-blue-600"},{name:"Purple",value:"purple",bg:"bg-purple-900/30",hover:"hover:bg-purple-900/50",text:"text-purple-300",border:"border-purple-600"},{name:"Pink",value:"pink",bg:"bg-pink-900/30",hover:"hover:bg-pink-900/50",text:"text-pink-300",border:"border-pink-600"},{name:"Orange",value:"orange",bg:"bg-orange-900/30",hover:"hover:bg-orange-900/50",text:"text-orange-300",border:"border-orange-600"},{name:"Green",value:"green",bg:"bg-green-900/30",hover:"hover:bg-green-900/50",text:"text-green-300",border:"border-green-600"}];function vN({user:s}){const[e,n]=pe.useState([]),[r,o]=pe.useState(new Date),[u,f]=pe.useState("month"),[m,p]=pe.useState(!1),[y,E]=pe.useState(!1),[b,D]=pe.useState(null),[L,Y]=pe.useState(null),[z,K]=pe.useState({title:"",description:"",date:"",startTime:"",endTime:"",allDay:!0,reminder:!1,reminderMinutes:15,color:"teal"});pe.useEffect(()=>{if(!s)return;const B=qo($t,"users",s.uid,"events"),U=yf(B),ne=_f(U,he=>{const _e=he.docs.map(ve=>({id:ve.id,...ve.data(),date:ve.data().date?.toDate()}));n(_e)});return()=>ne()},[s]);const re=B=>{const U=B.getFullYear(),ne=B.getMonth(),he=new Date(U,ne,1),ve=new Date(U,ne+1,0).getDate(),M=he.getDay(),Z=[];for(let ae=0;ae<M;ae++)Z.push(null);for(let ae=1;ae<=ve;ae++)Z.push(new Date(U,ne,ae));return Z},ue=B=>{const U=[],ne=new Date(B),he=ne.getDay(),_e=new Date(ne);_e.setDate(ne.getDate()-he);for(let ve=0;ve<7;ve++){const M=new Date(_e);M.setDate(_e.getDate()+ve),U.push(M)}return U},ie=B=>B?e.filter(U=>new Date(U.date).toDateString()===B.toDateString()):[],se=["January","February","March","April","May","June","July","August","September","October","November","December"],ye=()=>{if(u==="month")o(new Date(r.getFullYear(),r.getMonth()-1,1));else if(u==="week"){const B=new Date(r);B.setDate(B.getDate()-7),o(B)}else{const B=new Date(r);B.setDate(B.getDate()-1),o(B)}},$=()=>{if(u==="month")o(new Date(r.getFullYear(),r.getMonth()+1,1));else if(u==="week"){const B=new Date(r);B.setDate(B.getDate()+7),o(B)}else{const B=new Date(r);B.setDate(B.getDate()+1),o(B)}},C=(B=null)=>{const U=B||new Date;Y(B),K({title:"",description:"",date:U.toISOString().split("T")[0],startTime:"09:00",endTime:"10:00",allDay:!0,reminder:!1,reminderMinutes:15,color:"teal"}),p(!0)},w=(B,U)=>{U&&U.stopPropagation(),D(B);const ne=new Date(B.date);K({title:B.title,description:B.description||"",date:ne.toISOString().split("T")[0],startTime:B.startTime||"09:00",endTime:B.endTime||"10:00",allDay:B.allDay!==void 0?B.allDay:!0,reminder:B.reminder||!1,reminderMinutes:B.reminderMinutes||15,color:B.color||"teal"}),E(!0)},R=B=>Vh.find(U=>U.value===B)||Vh[0],N=async B=>{if(B.preventDefault(),!(!z.title||!z.date))try{const[U,ne,he]=z.date.split("-").map(Number),_e=new Date(U,ne-1,he),ve=qo($t,"users",s.uid,"events");await Oo(ve,{title:z.title,description:z.description,date:We.fromDate(_e),startTime:z.allDay?null:z.startTime,endTime:z.allDay?null:z.endTime,allDay:z.allDay,reminder:z.reminder,reminderMinutes:z.reminderMinutes,color:z.color,createdAt:We.now()}),p(!1),Y(null)}catch(U){console.error("Error adding event:",U),alert("Failed to add event")}},O=async B=>{if(B.preventDefault(),!(!z.title||!z.date||!b))try{const[U,ne,he]=z.date.split("-").map(Number),_e=new Date(U,ne-1,he),ve=ri($t,"users",s.uid,"events",b.id);await Gi(ve,{title:z.title,description:z.description,date:We.fromDate(_e),startTime:z.allDay?null:z.startTime,endTime:z.allDay?null:z.endTime,allDay:z.allDay,reminder:z.reminder,reminderMinutes:z.reminderMinutes,color:z.color,updatedAt:We.now()}),E(!1),D(null)}catch(U){console.error("Error updating event:",U),alert("Failed to update event")}},k=async()=>{if(!(!b||!confirm("Are you sure you want to delete this event?")))try{const B=ri($t,"users",s.uid,"events",b.id);await Gf(B),E(!1),D(null)}catch(B){console.error("Error deleting event:",B),alert("Failed to delete event")}},I=re(r),Ye=()=>{if(u==="day")return`${se[r.getMonth()]} ${r.getDate()}, ${r.getFullYear()}`;if(u==="week"){const B=new Date(r);B.setDate(r.getDate()-r.getDay());const U=new Date(B);return U.setDate(B.getDate()+6),`${se[B.getMonth()]} ${B.getDate()} - ${se[U.getMonth()]} ${U.getDate()}, ${r.getFullYear()}`}return`${se[r.getMonth()]} ${r.getFullYear()}`};return A.jsxs("div",{className:"h-full p-6",children:[A.jsxs("div",{className:"mx-auto max-w-7xl",children:[A.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-2xl font-bold text-zinc-100",children:Ye()}),A.jsx("p",{className:"text-sm text-zinc-400",children:"Manage your schedule and events"})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsxs("div",{className:"flex rounded-md border border-zinc-700 bg-zinc-800",children:[A.jsx("button",{onClick:()=>f("day"),className:`px-3 py-2 text-sm font-medium ${u==="day"?"bg-teal-600 text-white":"text-zinc-300 hover:bg-zinc-700"} rounded-l-md`,children:"Day"}),A.jsx("button",{onClick:()=>f("week"),className:`border-x border-zinc-700 px-3 py-2 text-sm font-medium ${u==="week"?"bg-teal-600 text-white":"text-zinc-300 hover:bg-zinc-700"}`,children:"Week"}),A.jsx("button",{onClick:()=>f("month"),className:`px-3 py-2 text-sm font-medium ${u==="month"?"bg-teal-600 text-white":"text-zinc-300 hover:bg-zinc-700"} rounded-r-md`,children:"Month"})]}),A.jsx("button",{onClick:()=>C(),className:"rounded-md bg-teal-600 px-4 py-2 text-sm font-medium text-white hover:bg-teal-700",children:"+ New Event"})]})]}),A.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:ye,className:"rounded-md border border-zinc-700 bg-zinc-800 px-3 py-1 text-zinc-200 hover:bg-zinc-700",children:""}),A.jsx("button",{onClick:$,className:"rounded-md border border-zinc-700 bg-zinc-800 px-3 py-1 text-zinc-200 hover:bg-zinc-700",children:""})]}),A.jsxs("div",{className:"text-sm text-zinc-400",children:[e.length," event",e.length!==1?"s":""," total"]})]}),u==="month"&&A.jsxs("div",{className:"overflow-hidden rounded-lg border border-zinc-800 bg-zinc-900",children:[A.jsx("div",{className:"grid grid-cols-7 border-b border-zinc-800 bg-zinc-800/50",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(B=>A.jsx("div",{className:"p-2 text-center text-sm font-medium text-zinc-400",children:B},B))}),A.jsx("div",{className:"grid grid-cols-7",children:I.map((B,U)=>{const ne=B?ie(B):[],he=B&&B.toDateString()===new Date().toDateString();return A.jsx("div",{onClick:()=>{B&&(o(B),f("day"))},className:`min-h-[100px] cursor-pointer border-b border-r border-zinc-800 p-2 ${B?"bg-zinc-900 hover:bg-zinc-800/50":"bg-zinc-900/50"}`,children:B&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:`mb-1 text-sm font-medium ${he?"flex h-6 w-6 items-center justify-center rounded-full bg-teal-600 text-white":"text-zinc-300"}`,children:B.getDate()}),A.jsx("div",{className:"space-y-1",children:ne.map(_e=>{const ve=R(_e.color);return A.jsxs("div",{onClick:M=>w(_e,M),className:`cursor-pointer truncate rounded px-2 py-1 text-xs ${ve.bg} ${ve.hover} ${ve.text}`,title:_e.title,children:[_e.allDay?"":" ",_e.title]},_e.id)})})]})},U)})})]}),u==="week"&&A.jsx("div",{className:"rounded-lg border border-zinc-800 bg-zinc-900",children:A.jsx("div",{className:"grid grid-cols-7",children:ue(r).map((B,U)=>{const ne=ie(B),he=B.toDateString()===new Date().toDateString(),_e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return A.jsxs("div",{className:"min-h-[400px] border-r border-zinc-800 last:border-r-0",children:[A.jsxs("div",{className:`border-b border-zinc-800 p-3 text-center ${he?"bg-teal-900/20":"bg-zinc-800/50"}`,children:[A.jsx("div",{className:"text-xs font-medium text-zinc-400",children:_e[U]}),A.jsx("div",{className:`mt-1 text-lg font-bold ${he?"text-teal-400":"text-zinc-200"}`,children:B.getDate()})]}),A.jsx("div",{className:"space-y-1 p-2",children:ne.map(ve=>{const M=R(ve.color);return A.jsxs("div",{onClick:()=>w(ve),className:`cursor-pointer rounded px-2 py-1 text-xs ${M.bg} ${M.hover} ${M.text}`,children:[A.jsx("div",{className:"truncate font-medium",children:ve.title}),!ve.allDay&&A.jsx("div",{className:"mt-0.5 text-[10px] opacity-80",children:ve.startTime})]},ve.id)})})]},U)})})}),u==="day"&&A.jsx("div",{className:"rounded-lg border border-zinc-800 bg-zinc-900 p-6",children:A.jsxs("div",{className:"space-y-2",children:[ie(r).map(B=>{const U=R(B.color);return A.jsxs("div",{onClick:()=>w(B),className:`cursor-pointer rounded-lg border-l-4 p-4 ${U.border} ${U.bg} ${U.hover}`,children:[A.jsx("div",{className:`font-medium ${U.text}`,children:B.title}),B.description&&A.jsx("div",{className:"mt-1 text-sm text-zinc-400",children:B.description}),!B.allDay&&A.jsxs("div",{className:"mt-1 text-xs text-zinc-500",children:[" ",B.startTime," - ",B.endTime]})]},B.id)}),ie(r).length===0&&A.jsx("div",{className:"py-8 text-center text-zinc-400",children:'No events for this day. Click "+ New Event" to add one.'})]})})]}),m&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>p(!1),children:A.jsxs("div",{className:"w-full max-w-md rounded-lg border border-zinc-800 bg-zinc-900 p-6",onClick:B=>B.stopPropagation(),children:[A.jsx("h2",{className:"mb-4 text-xl font-bold text-zinc-100",children:"New Event"}),A.jsxs("form",{onSubmit:N,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-zinc-300",children:"Title *"}),A.jsx("input",{type:"text",value:z.title,onChange:B=>K({...z,title:B.target.value}),className:"w-full rounded-md border border-zinc-700 bg-zinc-800 px-3 py-2 text-zinc-100 focus:border-teal-500 focus:outline-none",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-zinc-300",children:"Description"}),A.jsx("textarea",{value:z.description,onChange:B=>K({...z,description:B.target.value}),className:"w-full rounded-md border border-zinc-700 bg-zinc-800 px-3 py-2 text-zinc-100 focus:border-teal-500 focus:outline-none",rows:"3"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-zinc-300",children:"Date *"}),A.jsx("input",{type:"date",value:z.date,onChange:B=>K({...z,date:B.target.value}),className:"w-full rounded-md border border-zinc-700 bg-zinc-800 px-3 py-2 text-zinc-100 focus:border-teal-500 focus:outline-none",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"mb-2 block text-sm font-medium text-zinc-300",children:"Color"}),A.jsx("div",{className:"flex gap-2",children:Vh.map(B=>A.jsx("button",{type:"button",onClick:()=>K({...z,color:B.value}),className:`h-8 w-8 rounded-full ${B.bg} ${z.color===B.value?`ring-2 ring-offset-2 ${B.border} ring-offset-zinc-900`:""}`,title:B.name},B.value))})]}),A.jsx("div",{children:A.jsxs("label",{className:"flex items-center gap-2",children:[A.jsx("input",{type:"checkbox",checked:z.allDay,onChange:B=>K({...z,allDay:B.target.checked}),className:"h-4 w-4 rounded border-zinc-700 bg-zinc-800 text-teal-600"}),A.jsx("span",{className:"text-sm text-zinc-300",children:"All day event"})]})}),!z.allDay&&A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-zinc-300",children:"Start Time"}),A.jsx("input",{type:"time",value:z.startTime,onChange:B=>K({...z,startTime:B.target.value}),className:"w-full rounded-md border border-zinc-700 bg-zinc-800 px-3 py-2 text-zinc-100 focus:border-teal-500 focus:outline-none"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-zinc-300",children:"End Time"}),A.jsx("input",{type:"time",value:z.endTime,onChange:B=>K({...z,endTime:B.target.value}),className:"w-full rounded-md border border-zinc-700 bg-zinc-800 px-3 py-2 text-zinc-100 focus:border-teal-500 focus:outline-none"})]})]}),A.jsx("div",{children:A.jsxs("label",{className:"flex items-center gap-2",children:[A.jsx("input",{type:"checkbox",checked:z.reminder,onChange:B=>K({...z,reminder:B.target.checked}),className:"h-4 w-4 rounded border-zinc-700 bg-zinc-800 text-teal-600"}),A.jsx("span",{className:"text-sm text-zinc-300",children:"Set reminder"})]})}),z.reminder&&A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-zinc-300",children:"Remind me"}),A.jsxs("select",{value:z.reminderMinutes,onChange:B=>K({...z,reminderMinutes:parseInt(B.target.value)}),className:"w-full rounded-md border border-zinc-700 bg-zinc-800 px-3 py-2 text-zinc-100 focus:border-teal-500 focus:outline-none",children:[A.jsx("option",{value:"5",children:"5 minutes before"}),A.jsx("option",{value:"15",children:"15 minutes before"}),A.jsx("option",{value:"30",children:"30 minutes before"}),A.jsx("option",{value:"60",children:"1 hour before"}),A.jsx("option",{value:"1440",children:"1 day before"})]})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{type:"button",onClick:()=>p(!1),className:"flex-1 rounded-md border border-zinc-700 bg-zinc-800 px-4 py-2 text-sm font-medium text-zinc-200 hover:bg-zinc-700",children:"Cancel"}),A.jsx("button",{type:"submit",className:"flex-1 rounded-md bg-teal-600 px-4 py-2 text-sm font-medium text-white hover:bg-teal-700",children:"Add Event"})]})]})]})}),y&&b&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>E(!1),children:A.jsxs("div",{className:"w-full max-w-md rounded-lg border border-zinc-800 bg-zinc-900 p-6",onClick:B=>B.stopPropagation(),children:[A.jsx("h2",{className:"mb-4 text-xl font-bold text-zinc-100",children:"Edit Event"}),A.jsxs("form",{onSubmit:O,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-zinc-300",children:"Title *"}),A.jsx("input",{type:"text",value:z.title,onChange:B=>K({...z,title:B.target.value}),className:"w-full rounded-md border border-zinc-700 bg-zinc-800 px-3 py-2 text-zinc-100 focus:border-teal-500 focus:outline-none",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-zinc-300",children:"Description"}),A.jsx("textarea",{value:z.description,onChange:B=>K({...z,description:B.target.value}),className:"w-full rounded-md border border-zinc-700 bg-zinc-800 px-3 py-2 text-zinc-100 focus:border-teal-500 focus:outline-none",rows:"3"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-zinc-300",children:"Date *"}),A.jsx("input",{type:"date",value:z.date,onChange:B=>K({...z,date:B.target.value}),className:"w-full rounded-md border border-zinc-700 bg-zinc-800 px-3 py-2 text-zinc-100 focus:border-teal-500 focus:outline-none",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"mb-2 block text-sm font-medium text-zinc-300",children:"Color"}),A.jsx("div",{className:"flex gap-2",children:Vh.map(B=>A.jsx("button",{type:"button",onClick:()=>K({...z,color:B.value}),className:`h-8 w-8 rounded-full ${B.bg} ${z.color===B.value?`ring-2 ring-offset-2 ${B.border} ring-offset-zinc-900`:""}`,title:B.name},B.value))})]}),A.jsx("div",{children:A.jsxs("label",{className:"flex items-center gap-2",children:[A.jsx("input",{type:"checkbox",checked:z.allDay,onChange:B=>K({...z,allDay:B.target.checked}),className:"h-4 w-4 rounded border-zinc-700 bg-zinc-800 text-teal-600"}),A.jsx("span",{className:"text-sm text-zinc-300",children:"All day event"})]})}),!z.allDay&&A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-zinc-300",children:"Start Time"}),A.jsx("input",{type:"time",value:z.startTime,onChange:B=>K({...z,startTime:B.target.value}),className:"w-full rounded-md border border-zinc-700 bg-zinc-800 px-3 py-2 text-zinc-100 focus:border-teal-500 focus:outline-none"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-zinc-300",children:"End Time"}),A.jsx("input",{type:"time",value:z.endTime,onChange:B=>K({...z,endTime:B.target.value}),className:"w-full rounded-md border border-zinc-700 bg-zinc-800 px-3 py-2 text-zinc-100 focus:border-teal-500 focus:outline-none"})]})]}),A.jsx("div",{children:A.jsxs("label",{className:"flex items-center gap-2",children:[A.jsx("input",{type:"checkbox",checked:z.reminder,onChange:B=>K({...z,reminder:B.target.checked}),className:"h-4 w-4 rounded border-zinc-700 bg-zinc-800 text-teal-600"}),A.jsx("span",{className:"text-sm text-zinc-300",children:"Set reminder"})]})}),z.reminder&&A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-zinc-300",children:"Remind me"}),A.jsxs("select",{value:z.reminderMinutes,onChange:B=>K({...z,reminderMinutes:parseInt(B.target.value)}),className:"w-full rounded-md border border-zinc-700 bg-zinc-800 px-3 py-2 text-zinc-100 focus:border-teal-500 focus:outline-none",children:[A.jsx("option",{value:"5",children:"5 minutes before"}),A.jsx("option",{value:"15",children:"15 minutes before"}),A.jsx("option",{value:"30",children:"30 minutes before"}),A.jsx("option",{value:"60",children:"1 hour before"}),A.jsx("option",{value:"1440",children:"1 day before"})]})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{type:"button",onClick:k,className:"rounded-md border border-red-700 bg-red-900/20 px-4 py-2 text-sm font-medium text-red-400 hover:bg-red-900/40",children:"Delete"}),A.jsx("button",{type:"button",onClick:()=>E(!1),className:"flex-1 rounded-md border border-zinc-700 bg-zinc-800 px-4 py-2 text-sm font-medium text-zinc-200 hover:bg-zinc-700",children:"Cancel"}),A.jsx("button",{type:"submit",className:"flex-1 rounded-md bg-teal-600 px-4 py-2 text-sm font-medium text-white hover:bg-teal-700",children:"Save"})]})]})]})})]})}function EN({user:s}){const[e,n]=pe.useState(!1),[r,o]=pe.useState(""),[u,f]=pe.useState(!0);pe.useEffect(()=>{if(!s)return;(async()=>{try{const E=ri($t,"users",s.uid,"settings","calendar"),b=await wo(E);if(b.exists()){const D=b.data();n(D.googleSyncEnabled||!1),o(D.selectedCalendar||"")}}catch(E){console.error("Error loading settings:",E)}finally{f(!1)}})()},[s]);const m=async(y,E)=>{if(s)try{const b=ri($t,"users",s.uid,"settings","calendar");await PS(b,{googleSyncEnabled:y,selectedCalendar:E,updatedAt:new Date})}catch(b){console.error("Error saving settings:",b)}},p=async y=>{n(y),await m(y,r),y&&alert("Google Calendar sync will be implemented in Phase 2. For now, use the built-in calendar!")};return u?A.jsx("div",{className:"flex h-full items-center justify-center",children:A.jsx("div",{className:"text-zinc-400",children:"Loading settings..."})}):A.jsxs("div",{className:"mx-auto max-w-2xl space-y-6 p-6",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-2xl font-bold text-zinc-100",children:"Settings"}),A.jsx("p",{className:"text-sm text-zinc-400",children:"Manage your calendar and app preferences"})]}),A.jsx("div",{className:"rounded-lg border border-zinc-800 bg-zinc-900 p-6",children:A.jsxs("div",{className:"flex items-start gap-3",children:[A.jsx("span",{className:"text-2xl",children:""}),A.jsxs("div",{className:"flex-1",children:[A.jsx("h2",{className:"text-lg font-semibold text-zinc-100",children:"Built-in Calendar"}),A.jsx("p",{className:"mt-1 text-sm text-zinc-400",children:"Your app includes a full-featured calendar for managing events, reminders, and task deadlines."}),A.jsxs("ul",{className:"mt-3 space-y-1 text-sm text-zinc-400",children:[A.jsx("li",{children:" Add, edit, and delete events"}),A.jsx("li",{children:" Set reminders and notifications"}),A.jsx("li",{children:" Push tasks from Todo lists to Calendar"}),A.jsx("li",{children:" View daily, weekly, and monthly schedules"})]})]})]})}),A.jsxs("div",{className:"rounded-lg border border-zinc-800 bg-zinc-900 p-6",children:[A.jsxs("div",{className:"flex items-start justify-between",children:[A.jsxs("div",{className:"flex-1",children:[A.jsx("h2",{className:"text-lg font-semibold text-zinc-100",children:" Google Calendar Sync"}),A.jsx("p",{className:"mt-1 text-sm text-zinc-400",children:"Optionally sync your built-in calendar with Google Calendar"}),A.jsx("p",{className:"mt-2 text-xs text-amber-500",children:" Coming in Phase 2 - Currently in development"})]}),A.jsxs("label",{className:"relative inline-flex cursor-pointer items-center",children:[A.jsx("input",{type:"checkbox",checked:e,onChange:y=>p(y.target.checked),className:"peer sr-only",disabled:!0}),A.jsx("div",{className:"peer h-6 w-11 rounded-full bg-zinc-700 opacity-50 after:absolute after:left-[2px] after:top-[2px] after:h-5 after:w-5 after:rounded-full after:border after:border-zinc-600 after:bg-white after:transition-all after:content-[''] peer-checked:bg-teal-500 peer-checked:after:translate-x-full peer-checked:after:border-white"})]})]}),A.jsxs("div",{className:"mt-4 space-y-2 border-t border-zinc-800 pt-4 text-sm text-zinc-400",children:[A.jsx("p",{children:A.jsx("strong",{children:"When enabled, you'll be able to:"})}),A.jsxs("ul",{className:"ml-4 list-disc space-y-1",children:[A.jsx("li",{children:"Two-way sync between app calendar and Google Calendar"}),A.jsx("li",{children:"Choose which Google Calendar to sync with"}),A.jsx("li",{children:"See Google events in your app"}),A.jsx("li",{children:"Push app events to Google Calendar"})]})]})]}),A.jsx("div",{className:"rounded-lg border border-blue-900/50 bg-blue-950/20 p-4",children:A.jsxs("div",{className:"flex gap-3",children:[A.jsx("span",{className:"text-xl",children:""}),A.jsxs("div",{className:"flex-1 text-sm text-zinc-300",children:[A.jsx("p",{className:"font-medium",children:"Pro Tip:"}),A.jsx("p",{className:"mt-1 text-zinc-400",children:"You can use the built-in calendar without connecting Google Calendar. The sync feature is completely optional for users who want to integrate with their existing Google Calendar."})]})]})})]})}function TN(){const[s,e]=pe.useState(null),[n,r]=pe.useState("todo");return pe.useEffect(()=>dC(Yg,e),[]),s?A.jsxs("div",{className:"min-h-screen bg-zinc-950 text-zinc-100",children:[A.jsx(U2,{user:s,active:n,setActive:r}),A.jsxs("main",{className:"min-h-screen w-full md:pl-64",children:[n==="todo"&&A.jsx(_N,{user:s}),n==="calendar"&&A.jsx(vN,{user:s}),n==="settings"&&A.jsx(EN,{user:s}),n!=="todo"&&n!=="calendar"&&n!=="settings"&&A.jsx("div",{className:"p-6",children:A.jsxs("div",{className:"mx-auto max-w-5xl rounded-xl border border-zinc-800 bg-zinc-900 p-6",children:[A.jsx("h2",{className:"mb-2 text-xl font-semibold",children:"Coming soon"}),A.jsx("p",{className:"text-zinc-400",children:"This section isn't ready yet."}),A.jsx("button",{className:"mt-4 rounded-md bg-zinc-700 px-3 py-1 text-sm",onClick:()=>r("todo"),children:" Back to Todo"})]})})]})]}):A.jsx("div",{className:"min-h-screen bg-zinc-950 text-zinc-100",children:A.jsxs("div",{className:"mx-auto max-w-4xl p-6",children:[A.jsxs("header",{className:"mb-6 border-b border-zinc-800 pb-4 text-center",children:[A.jsx("h1",{className:"text-2xl font-bold",children:"My To-Do List"}),A.jsx("p",{className:"text-zinc-400",children:"Please sign in to continue"})]}),A.jsx("div",{className:"flex justify-center",children:A.jsx("button",{className:"rounded-md bg-[#4285F4] px-4 py-2 text-white shadow hover:opacity-90",onClick:()=>VC(Yg,new br),children:"Sign in with Google"})})]})})}q1.createRoot(document.getElementById("root")).render(A.jsx(V1.StrictMode,{children:A.jsx(TN,{})}));
