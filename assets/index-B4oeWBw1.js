(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function gT(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var jm={exports:{}},Wl={};var EE;function D1(){if(EE)return Wl;EE=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:u}}return Wl.Fragment=t,Wl.jsx=n,Wl.jsxs=n,Wl}var TE;function N1(){return TE||(TE=1,jm.exports=D1()),jm.exports}var G=N1(),Bm={exports:{}},wt={};var bE;function O1(){if(bE)return wt;bE=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),C=Symbol.iterator;function k(M){return M===null||typeof M!="object"?null:(M=C&&M[C]||M["@@iterator"],typeof M=="function"?M:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,J={};function nt(M,Z,ot){this.props=M,this.context=Z,this.refs=J,this.updater=ot||H}nt.prototype.isReactComponent={},nt.prototype.setState=function(M,Z){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Z,"setState")},nt.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ut(){}ut.prototype=nt.prototype;function et(M,Z,ot){this.props=M,this.context=Z,this.refs=J,this.updater=ot||H}var ct=et.prototype=new ut;ct.constructor=et,X(ct,nt.prototype),ct.isPureReactComponent=!0;var at=Array.isArray;function tt(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function w(M,Z,ot){var ft=ot.ref;return{$$typeof:s,type:M,key:Z,ref:ft!==void 0?ft:null,props:ot}}function x(M,Z){return w(M.type,Z,M.props)}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function U(M){var Z={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ot){return Z[ot]})}var I=/\/+/g;function Yt(M,Z){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):Z.toString(36)}function le(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(tt,tt):(M.status="pending",M.then(function(Z){M.status==="pending"&&(M.status="fulfilled",M.value=Z)},function(Z){M.status==="pending"&&(M.status="rejected",M.reason=Z)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function F(M,Z,ot,ft,St){var Ot=typeof M;(Ot==="undefined"||Ot==="boolean")&&(M=null);var Ft=!1;if(M===null)Ft=!0;else switch(Ot){case"bigint":case"string":case"number":Ft=!0;break;case"object":switch(M.$$typeof){case s:case t:Ft=!0;break;case E:return Ft=M._init,F(Ft(M._payload),Z,ot,ft,St)}}if(Ft)return St=St(M),Ft=ft===""?"."+Yt(M,0):ft,at(St)?(ot="",Ft!=null&&(ot=Ft.replace(I,"$&/")+"/"),F(St,Z,ot,"",function(Us){return Us})):St!=null&&(N(St)&&(St=x(St,ot+(St.key==null||M&&M.key===St.key?"":(""+St.key).replace(I,"$&/")+"/")+Ft)),Z.push(St)),1;Ft=0;var qe=ft===""?".":ft+":";if(at(M))for(var fe=0;fe<M.length;fe++)ft=M[fe],Ot=qe+Yt(ft,fe),Ft+=F(ft,Z,ot,Ot,St);else if(fe=k(M),typeof fe=="function")for(M=fe.call(M),fe=0;!(ft=M.next()).done;)ft=ft.value,Ot=qe+Yt(ft,fe++),Ft+=F(ft,Z,ot,Ot,St);else if(Ot==="object"){if(typeof M.then=="function")return F(le(M),Z,ot,ft,St);throw Z=String(M),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ft}function st(M,Z,ot){if(M==null)return M;var ft=[],St=0;return F(M,ft,"","",function(Ot){return Z.call(ot,Ot,St++)}),ft}function gt(M){if(M._status===-1){var Z=M._result;Z=Z(),Z.then(function(ot){(M._status===0||M._status===-1)&&(M._status=1,M._result=ot)},function(ot){(M._status===0||M._status===-1)&&(M._status=2,M._result=ot)}),M._status===-1&&(M._status=0,M._result=Z)}if(M._status===1)return M._result.default;throw M._result}var Bt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},$t={map:st,forEach:function(M,Z,ot){st(M,function(){Z.apply(this,arguments)},ot)},count:function(M){var Z=0;return st(M,function(){Z++}),Z},toArray:function(M){return st(M,function(Z){return Z})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return wt.Activity=b,wt.Children=$t,wt.Component=nt,wt.Fragment=n,wt.Profiler=o,wt.PureComponent=et,wt.StrictMode=r,wt.Suspense=p,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,wt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return R.H.useMemoCache(M)}},wt.cache=function(M){return function(){return M.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(M,Z,ot){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ft=X({},M.props),St=M.key;if(Z!=null)for(Ot in Z.key!==void 0&&(St=""+Z.key),Z)!A.call(Z,Ot)||Ot==="key"||Ot==="__self"||Ot==="__source"||Ot==="ref"&&Z.ref===void 0||(ft[Ot]=Z[Ot]);var Ot=arguments.length-2;if(Ot===1)ft.children=ot;else if(1<Ot){for(var Ft=Array(Ot),qe=0;qe<Ot;qe++)Ft[qe]=arguments[qe+2];ft.children=Ft}return w(M.type,St,ft)},wt.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},wt.createElement=function(M,Z,ot){var ft,St={},Ot=null;if(Z!=null)for(ft in Z.key!==void 0&&(Ot=""+Z.key),Z)A.call(Z,ft)&&ft!=="key"&&ft!=="__self"&&ft!=="__source"&&(St[ft]=Z[ft]);var Ft=arguments.length-2;if(Ft===1)St.children=ot;else if(1<Ft){for(var qe=Array(Ft),fe=0;fe<Ft;fe++)qe[fe]=arguments[fe+2];St.children=qe}if(M&&M.defaultProps)for(ft in Ft=M.defaultProps,Ft)St[ft]===void 0&&(St[ft]=Ft[ft]);return w(M,Ot,St)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(M){return{$$typeof:m,render:M}},wt.isValidElement=N,wt.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:gt}},wt.memo=function(M,Z){return{$$typeof:y,type:M,compare:Z===void 0?null:Z}},wt.startTransition=function(M){var Z=R.T,ot={};R.T=ot;try{var ft=M(),St=R.S;St!==null&&St(ot,ft),typeof ft=="object"&&ft!==null&&typeof ft.then=="function"&&ft.then(tt,Bt)}catch(Ot){Bt(Ot)}finally{Z!==null&&ot.types!==null&&(Z.types=ot.types),R.T=Z}},wt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},wt.use=function(M){return R.H.use(M)},wt.useActionState=function(M,Z,ot){return R.H.useActionState(M,Z,ot)},wt.useCallback=function(M,Z){return R.H.useCallback(M,Z)},wt.useContext=function(M){return R.H.useContext(M)},wt.useDebugValue=function(){},wt.useDeferredValue=function(M,Z){return R.H.useDeferredValue(M,Z)},wt.useEffect=function(M,Z){return R.H.useEffect(M,Z)},wt.useEffectEvent=function(M){return R.H.useEffectEvent(M)},wt.useId=function(){return R.H.useId()},wt.useImperativeHandle=function(M,Z,ot){return R.H.useImperativeHandle(M,Z,ot)},wt.useInsertionEffect=function(M,Z){return R.H.useInsertionEffect(M,Z)},wt.useLayoutEffect=function(M,Z){return R.H.useLayoutEffect(M,Z)},wt.useMemo=function(M,Z){return R.H.useMemo(M,Z)},wt.useOptimistic=function(M,Z){return R.H.useOptimistic(M,Z)},wt.useReducer=function(M,Z,ot){return R.H.useReducer(M,Z,ot)},wt.useRef=function(M){return R.H.useRef(M)},wt.useState=function(M){return R.H.useState(M)},wt.useSyncExternalStore=function(M,Z,ot){return R.H.useSyncExternalStore(M,Z,ot)},wt.useTransition=function(){return R.H.useTransition()},wt.version="19.2.0",wt}var SE;function Xg(){return SE||(SE=1,Bm.exports=O1()),Bm.exports}var It=Xg();const x1=gT(It);var qm={exports:{}},tu={},Hm={exports:{}},Fm={};var AE;function M1(){return AE||(AE=1,(function(s){function t(F,st){var gt=F.length;F.push(st);t:for(;0<gt;){var Bt=gt-1>>>1,$t=F[Bt];if(0<o($t,st))F[Bt]=st,F[gt]=$t,gt=Bt;else break t}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var st=F[0],gt=F.pop();if(gt!==st){F[0]=gt;t:for(var Bt=0,$t=F.length,M=$t>>>1;Bt<M;){var Z=2*(Bt+1)-1,ot=F[Z],ft=Z+1,St=F[ft];if(0>o(ot,gt))ft<$t&&0>o(St,ot)?(F[Bt]=St,F[ft]=gt,Bt=ft):(F[Bt]=ot,F[Z]=gt,Bt=Z);else if(ft<$t&&0>o(St,gt))F[Bt]=St,F[ft]=gt,Bt=ft;else break t}}return st}function o(F,st){var gt=F.sortIndex-st.sortIndex;return gt!==0?gt:F.id-st.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,b=null,C=3,k=!1,H=!1,X=!1,J=!1,nt=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,et=typeof setImmediate<"u"?setImmediate:null;function ct(F){for(var st=n(y);st!==null;){if(st.callback===null)r(y);else if(st.startTime<=F)r(y),st.sortIndex=st.expirationTime,t(p,st);else break;st=n(y)}}function at(F){if(X=!1,ct(F),!H)if(n(p)!==null)H=!0,tt||(tt=!0,U());else{var st=n(y);st!==null&&le(at,st.startTime-F)}}var tt=!1,R=-1,A=5,w=-1;function x(){return J?!0:!(s.unstable_now()-w<A)}function N(){if(J=!1,tt){var F=s.unstable_now();w=F;var st=!0;try{t:{H=!1,X&&(X=!1,ut(R),R=-1),k=!0;var gt=C;try{e:{for(ct(F),b=n(p);b!==null&&!(b.expirationTime>F&&x());){var Bt=b.callback;if(typeof Bt=="function"){b.callback=null,C=b.priorityLevel;var $t=Bt(b.expirationTime<=F);if(F=s.unstable_now(),typeof $t=="function"){b.callback=$t,ct(F),st=!0;break e}b===n(p)&&r(p),ct(F)}else r(p);b=n(p)}if(b!==null)st=!0;else{var M=n(y);M!==null&&le(at,M.startTime-F),st=!1}}break t}finally{b=null,C=gt,k=!1}st=void 0}}finally{st?U():tt=!1}}}var U;if(typeof et=="function")U=function(){et(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Yt=I.port2;I.port1.onmessage=N,U=function(){Yt.postMessage(null)}}else U=function(){nt(N,0)};function le(F,st){R=nt(function(){F(s.unstable_now())},st)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return C},s.unstable_next=function(F){switch(C){case 1:case 2:case 3:var st=3;break;default:st=C}var gt=C;C=st;try{return F()}finally{C=gt}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(F,st){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var gt=C;C=F;try{return st()}finally{C=gt}},s.unstable_scheduleCallback=function(F,st,gt){var Bt=s.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?Bt+gt:Bt):gt=Bt,F){case 1:var $t=-1;break;case 2:$t=250;break;case 5:$t=1073741823;break;case 4:$t=1e4;break;default:$t=5e3}return $t=gt+$t,F={id:E++,callback:st,priorityLevel:F,startTime:gt,expirationTime:$t,sortIndex:-1},gt>Bt?(F.sortIndex=gt,t(y,F),n(p)===null&&F===n(y)&&(X?(ut(R),R=-1):X=!0,le(at,gt-Bt))):(F.sortIndex=$t,t(p,F),H||k||(H=!0,tt||(tt=!0,U()))),F},s.unstable_shouldYield=x,s.unstable_wrapCallback=function(F){var st=C;return function(){var gt=C;C=st;try{return F.apply(this,arguments)}finally{C=gt}}}})(Fm)),Fm}var wE;function V1(){return wE||(wE=1,Hm.exports=M1()),Hm.exports}var Gm={exports:{}},on={};var RE;function U1(){if(RE)return on;RE=1;var s=Xg();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:y,implementation:E}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,on.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(p,y,null,E)},on.flushSync=function(p){var y=f.T,E=r.p;try{if(f.T=null,r.p=2,p)return p()}finally{f.T=y,r.p=E,r.d.f()}},on.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(p,y))},on.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},on.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,k=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?r.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:C,fetchPriority:k}):E==="script"&&r.d.X(p,{crossOrigin:b,integrity:C,fetchPriority:k,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},on.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);r.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(p)},on.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin);r.d.L(p,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},on.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);r.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(p)},on.requestFormReset=function(p){r.d.r(p)},on.unstable_batchedUpdates=function(p,y){return p(y)},on.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},on.useFormStatus=function(){return f.H.useHostTransitionStatus()},on.version="19.2.0",on}var CE;function k1(){if(CE)return Gm.exports;CE=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Gm.exports=U1(),Gm.exports}var IE;function L1(){if(IE)return tu;IE=1;var s=V1(),t=Xg(),n=k1();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(r(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),e;if(d===l)return p(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var b=Object.assign,C=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),nt=Symbol.for("react.profiler"),ut=Symbol.for("react.consumer"),et=Symbol.for("react.context"),ct=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function Yt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case X:return"Fragment";case nt:return"Profiler";case J:return"StrictMode";case at:return"Suspense";case tt:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case H:return"Portal";case et:return e.displayName||"Context";case ut:return(e._context.displayName||"Context")+".Consumer";case ct:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return i=e.displayName||null,i!==null?i:Yt(e.type)||"Memo";case A:i=e._payload,e=e._init;try{return Yt(e(i))}catch{}}return null}var le=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},Bt=[],$t=-1;function M(e){return{current:e}}function Z(e){0>$t||(e.current=Bt[$t],Bt[$t]=null,$t--)}function ot(e,i){$t++,Bt[$t]=e.current,e.current=i}var ft=M(null),St=M(null),Ot=M(null),Ft=M(null);function qe(e,i){switch(ot(Ot,i),ot(St,e),ot(ft,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Hv(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Hv(i),e=Fv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Z(ft),ot(ft,e)}function fe(){Z(ft),Z(St),Z(Ot)}function Us(e){e.memoizedState!==null&&ot(Ft,e);var i=ft.current,a=Fv(i,e.type);i!==a&&(ot(St,e),ot(ft,a))}function Ia(e){St.current===e&&(Z(ft),Z(St)),Ft.current===e&&(Z(Ft),Xl._currentValue=gt)}var Da,Na;function bi(e){if(Da===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Da=i&&i[1]||"",Na=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Da+e+Na}var Xo=!1;function ks(e,i){if(!e||Xo)return"";Xo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(q){var j=q}Reflect.construct(e,[],$)}else{try{$.call()}catch(q){j=q}e.call($.prototype)}}else{try{throw Error()}catch(q){j=q}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var D=_.split(`
`),z=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===z.length)for(l=D.length-1,h=z.length-1;1<=l&&0<=h&&D[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==z[h]){var Y=`
`+D[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=h);break}}}finally{Xo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?bi(a):""}function Zo(e,i){switch(e.tag){case 26:case 27:case 5:return bi(e.type);case 16:return bi("Lazy");case 13:return e.child!==i&&i!==null?bi("Suspense Fallback"):bi("Suspense");case 19:return bi("SuspenseList");case 0:case 15:return ks(e.type,!1);case 11:return ks(e.type.render,!1);case 1:return ks(e.type,!0);case 31:return bi("Activity");default:return""}}function $o(e){try{var i="",a=null;do i+=Zo(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ce=Object.prototype.hasOwnProperty,He=s.unstable_scheduleCallback,Mr=s.unstable_cancelCallback,qf=s.unstable_shouldYield,Qu=s.unstable_requestPaint,dn=s.unstable_now,Ls=s.unstable_getCurrentPriorityLevel,Jo=s.unstable_ImmediatePriority,Wo=s.unstable_UserBlockingPriority,Vr=s.unstable_NormalPriority,Hf=s.unstable_LowPriority,Ku=s.unstable_IdlePriority,Xu=s.log,Zu=s.unstable_setDisableYieldValue,ii=null,Ze=null;function qn(e){if(typeof Xu=="function"&&Zu(e),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(ii,e)}catch{}}var be=Math.clz32?Math.clz32:Ju,$u=Math.log,Oa=Math.LN2;function Ju(e){return e>>>=0,e===0?32:31-($u(e)/Oa|0)|0}var Si=256,Ps=262144,Ie=4194304;function Ai(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function wi(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Ai(l):(_&=T,_!==0?h=Ai(_):a||(a=T&~e,a!==0&&(h=Ai(a))))):(T=l&~d,T!==0?h=Ai(T):_!==0?h=Ai(_):a||(a=l&~e,a!==0&&(h=Ai(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function ri(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Ff(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wu(){var e=Ie;return Ie<<=1,(Ie&62914560)===0&&(Ie=4194304),e}function Ri(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function zs(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Gf(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,D=e.expirationTimes,z=e.hiddenUpdates;for(a=_&~a;0<a;){var Y=31-be(a),$=1<<Y;T[Y]=0,D[Y]=-1;var j=z[Y];if(j!==null)for(z[Y]=null,Y=0;Y<j.length;Y++){var q=j[Y];q!==null&&(q.lane&=-536870913)}a&=~$}l!==0&&js(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function js(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-be(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function tl(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-be(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function el(e,i){var a=i&-i;return a=(a&42)!==0?1:Bs(a),(a&(e.suspendedLanes|i))!==0?0:a}function Bs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function er(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function tc(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:dE(e.type))}function si(e,i){var a=st.p;try{return st.p=e,i()}finally{st.p=a}}var ai=Math.random().toString(36).slice(2),De="__reactFiber$"+ai,Ye="__reactProps$"+ai,Ci="__reactContainer$"+ai,xa="__reactEvents$"+ai,Yf="__reactListeners$"+ai,ec="__reactHandles$"+ai,nc="__reactResources$"+ai,Ii="__reactMarker$"+ai;function Ma(e){delete e[De],delete e[Ye],delete e[xa],delete e[Yf],delete e[ec]}function Di(e){var i=e[De];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Ci]||a[De]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=$v(e);e!==null;){if(a=e[De])return a;e=$v(e)}return i}e=a,a=e.parentNode}return null}function Hn(e){if(e=e[De]||e[Ci]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function Nn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function Ni(e){var i=e[nc];return i||(i=e[nc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ne(e){e[Ii]=!0}var nl=new Set,il={};function Oi(e,i){xi(e,i),xi(e+"Capture",i)}function xi(e,i){for(il[e]=i,e=0;e<i.length;e++)nl.add(i[e])}var rl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sl={},al={};function ic(e){return Ce.call(al,e)?!0:Ce.call(sl,e)?!1:rl.test(e)?al[e]=!0:(sl[e]=!0,!1)}function Va(e,i,a){if(ic(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function On(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Oe(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Qe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ur(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ol(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Wt(e){if(!e._valueTracker){var i=Ur(e)?"checked":"value";e._valueTracker=ol(e,i,""+e[i])}}function qs(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=Ur(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function Mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Hs=/[\n"\\]/g;function vn(e){return e.replace(Hs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ua(e,i,a,l,h,d,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Qe(i)):e.value!==""+Qe(i)&&(e.value=""+Qe(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?ll(e,_,Qe(i)):a!=null?ll(e,_,Qe(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Qe(T):e.removeAttribute("name")}function rc(e,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Wt(e);return}a=a!=null?""+Qe(a):"",i=i!=null?""+Qe(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Wt(e)}function ll(e,i,a){i==="number"&&Mi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function kr(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Qe(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function sc(e,i,a){if(i!=null&&(i=""+Qe(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Qe(a):""}function Lr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(le(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Qe(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Wt(e)}function En(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var ac=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ul(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||ac.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function cl(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&ul(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&ul(e,d,i[d])}function ka(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function La(e){return Pr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function oi(){}var hl=null;function Fn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zr=null,Vi=null;function Fs(e){var i=Hn(e);if(i&&(e=i.stateNode)){var a=e[Ye]||null;t:switch(e=i.stateNode,i.type){case"input":if(Ua(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+vn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Ye]||null;if(!h)throw Error(r(90));Ua(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&qs(l)}break t;case"textarea":sc(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&kr(e,!!a.multiple,i,!1)}}}var Pa=!1;function jr(e,i,a){if(Pa)return e(i,a);Pa=!0;try{var l=e(i);return l}finally{if(Pa=!1,(zr!==null||Vi!==null)&&(th(),zr&&(i=zr,e=Vi,Vi=zr=null,Fs(i),e)))for(i=0;i<e.length;i++)Fs(e[i])}}function li(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Ye]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gs=!1;if(Gn)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){Gs=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{Gs=!1}var Ui=null,fl=null,Ys=null;function dl(){if(Ys)return Ys;var e,i=fl,a=i.length,l,h="value"in Ui?Ui.value:Ui.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Ys=h.slice(e,1<l?1-l:void 0)}function Qs(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function nr(){return!0}function ui(){return!1}function $e(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?nr:ui,this.isPropagationStopped=ui,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=nr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=nr)},persist:function(){},isPersistent:nr}),i}var ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ki=$e(ir),Br=b({},ir,{view:0,detail:0}),ml=$e(Br),qr,za,Li,ja=b({},Br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Li&&(Li&&e.type==="mousemove"?(qr=e.screenX-Li.screenX,za=e.screenY-Li.screenY):za=qr=0,Li=e),qr)},movementY:function(e){return"movementY"in e?e.movementY:za}}),gl=$e(ja),Ks=b({},ja,{dataTransfer:0}),lc=$e(Ks),uc=b({},Br,{relatedTarget:0}),Xs=$e(uc),pl=b({},ir,{animationName:0,elapsedTime:0,pseudoElement:0}),cc=$e(pl),Ba=b({},ir,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hc=$e(Ba),fc=b({},ir,{data:0}),Pi=$e(fc),dc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pc(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=gc[e])?!!i[e]:!1}function Hr(){return pc}var mn=b({},Br,{key:function(e){if(e.key){var i=dc[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Qs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hr,charCode:function(e){return e.type==="keypress"?Qs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yc=$e(mn),_c=b({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rr=$e(_c),c=b({},Br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hr}),g=$e(c),v=b({},ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=$e(v),L=b({},ja,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=$e(L),it=b({},ir,{newState:0,oldState:0}),Dt=$e(it),Se=[9,13,27,32],Xt=Gn&&"CompositionEvent"in window,de=null;Gn&&"documentMode"in document&&(de=document.documentMode);var Yn=Gn&&"TextEvent"in window&&!de,zi=Gn&&(!Xt||de&&8<de&&11>=de),ci=" ",hi=!1;function Zs(e,i){switch(e){case"keyup":return Se.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ha=!1;function WS(e,i){switch(e){case"compositionend":return qa(i);case"keypress":return i.which!==32?null:(hi=!0,ci);case"textInput":return e=i.data,e===ci&&hi?null:e;default:return null}}function tA(e,i){if(Ha)return e==="compositionend"||!Xt&&Zs(e,i)?(e=dl(),Ys=fl=Ui=null,Ha=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return zi&&i.locale!=="ko"?null:i.data;default:return null}}var eA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ty(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!eA[e.type]:i==="textarea"}function ey(e,i,a,l){zr?Vi?Vi.push(l):Vi=[l]:zr=l,i=oh(i,"onChange"),0<i.length&&(a=new ki("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var yl=null,_l=null;function nA(e){Lv(e,0)}function vc(e){var i=Nn(e);if(qs(i))return e}function ny(e,i){if(e==="change")return i}var iy=!1;if(Gn){var Qf;if(Gn){var Kf="oninput"in document;if(!Kf){var ry=document.createElement("div");ry.setAttribute("oninput","return;"),Kf=typeof ry.oninput=="function"}Qf=Kf}else Qf=!1;iy=Qf&&(!document.documentMode||9<document.documentMode)}function sy(){yl&&(yl.detachEvent("onpropertychange",ay),_l=yl=null)}function ay(e){if(e.propertyName==="value"&&vc(_l)){var i=[];ey(i,_l,e,Fn(e)),jr(nA,i)}}function iA(e,i,a){e==="focusin"?(sy(),yl=i,_l=a,yl.attachEvent("onpropertychange",ay)):e==="focusout"&&sy()}function rA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vc(_l)}function sA(e,i){if(e==="click")return vc(i)}function aA(e,i){if(e==="input"||e==="change")return vc(i)}function oA(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var xn=typeof Object.is=="function"?Object.is:oA;function vl(e,i){if(xn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ce.call(i,h)||!xn(e[h],i[h]))return!1}return!0}function oy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ly(e,i){var a=oy(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=oy(a)}}function uy(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?uy(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function cy(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Mi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Mi(e.document)}return i}function Xf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var lA=Gn&&"documentMode"in document&&11>=document.documentMode,Fa=null,Zf=null,El=null,$f=!1;function hy(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;$f||Fa==null||Fa!==Mi(l)||(l=Fa,"selectionStart"in l&&Xf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),El&&vl(El,l)||(El=l,l=oh(Zf,"onSelect"),0<l.length&&(i=new ki("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Fa)))}function $s(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Ga={animationend:$s("Animation","AnimationEnd"),animationiteration:$s("Animation","AnimationIteration"),animationstart:$s("Animation","AnimationStart"),transitionrun:$s("Transition","TransitionRun"),transitionstart:$s("Transition","TransitionStart"),transitioncancel:$s("Transition","TransitionCancel"),transitionend:$s("Transition","TransitionEnd")},Jf={},fy={};Gn&&(fy=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function Js(e){if(Jf[e])return Jf[e];if(!Ga[e])return e;var i=Ga[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in fy)return Jf[e]=i[a];return e}var dy=Js("animationend"),my=Js("animationiteration"),gy=Js("animationstart"),uA=Js("transitionrun"),cA=Js("transitionstart"),hA=Js("transitioncancel"),py=Js("transitionend"),yy=new Map,Wf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wf.push("scrollEnd");function fi(e,i){yy.set(e,i),Oi(i,[e])}var Ec=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Qn=[],Ya=0,td=0;function Tc(){for(var e=Ya,i=td=Ya=0;i<e;){var a=Qn[i];Qn[i++]=null;var l=Qn[i];Qn[i++]=null;var h=Qn[i];Qn[i++]=null;var d=Qn[i];if(Qn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&_y(a,h,d)}}function bc(e,i,a,l){Qn[Ya++]=e,Qn[Ya++]=i,Qn[Ya++]=a,Qn[Ya++]=l,td|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function ed(e,i,a,l){return bc(e,i,a,l),Sc(e)}function Ws(e,i){return bc(e,null,null,i),Sc(e)}function _y(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-be(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Sc(e){if(50<ql)throw ql=0,cm=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Qa={};function fA(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(e,i,a,l){return new fA(e,i,a,l)}function nd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sr(e,i){var a=e.alternate;return a===null?(a=Mn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function vy(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Ac(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")nd(e)&&(_=1);else if(typeof e=="string")_=y1(e,a,ft.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=Mn(31,a,i,h),e.elementType=w,e.lanes=d,e;case X:return ta(a.children,h,d,i);case J:_=8,h|=24;break;case nt:return e=Mn(12,a,i,h|2),e.elementType=nt,e.lanes=d,e;case at:return e=Mn(13,a,i,h),e.elementType=at,e.lanes=d,e;case tt:return e=Mn(19,a,i,h),e.elementType=tt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case et:_=10;break t;case ut:_=9;break t;case ct:_=11;break t;case R:_=14;break t;case A:_=16,l=null;break t}_=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return i=Mn(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function ta(e,i,a,l){return e=Mn(7,e,l,i),e.lanes=a,e}function id(e,i,a){return e=Mn(6,e,null,i),e.lanes=a,e}function Ey(e){var i=Mn(18,null,null,0);return i.stateNode=e,i}function rd(e,i,a){return i=Mn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Ty=new WeakMap;function Kn(e,i){if(typeof e=="object"&&e!==null){var a=Ty.get(e);return a!==void 0?a:(i={value:e,source:i,stack:$o(i)},Ty.set(e,i),i)}return{value:e,source:i,stack:$o(i)}}var Ka=[],Xa=0,wc=null,Tl=0,Xn=[],Zn=0,Fr=null,ji=1,Bi="";function ar(e,i){Ka[Xa++]=Tl,Ka[Xa++]=wc,wc=e,Tl=i}function by(e,i,a){Xn[Zn++]=ji,Xn[Zn++]=Bi,Xn[Zn++]=Fr,Fr=e;var l=ji;e=Bi;var h=32-be(l)-1;l&=~(1<<h),a+=1;var d=32-be(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,ji=1<<32-be(i)+h|a<<h|l,Bi=d+e}else ji=1<<d|a<<h|l,Bi=e}function sd(e){e.return!==null&&(ar(e,1),by(e,1,0))}function ad(e){for(;e===wc;)wc=Ka[--Xa],Ka[Xa]=null,Tl=Ka[--Xa],Ka[Xa]=null;for(;e===Fr;)Fr=Xn[--Zn],Xn[Zn]=null,Bi=Xn[--Zn],Xn[Zn]=null,ji=Xn[--Zn],Xn[Zn]=null}function Sy(e,i){Xn[Zn++]=ji,Xn[Zn++]=Bi,Xn[Zn++]=Fr,ji=i.id,Bi=i.overflow,Fr=e}var Je=null,ue=null,qt=!1,Gr=null,$n=!1,od=Error(r(519));function Yr(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bl(Kn(i,e)),od}function Ay(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[De]=e,i[Ye]=l,a){case"dialog":Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":case"embed":Vt("load",i);break;case"video":case"audio":for(a=0;a<Fl.length;a++)Vt(Fl[a],i);break;case"source":Vt("error",i);break;case"img":case"image":case"link":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"input":Vt("invalid",i),rc(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Vt("invalid",i);break;case"textarea":Vt("invalid",i),Lr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Bv(i.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",i),Vt("toggle",i)),l.onScroll!=null&&Vt("scroll",i),l.onScrollEnd!=null&&Vt("scrollend",i),l.onClick!=null&&(i.onclick=oi),i=!0):i=!1,i||Yr(e,!0)}function wy(e){for(Je=e.return;Je;)switch(Je.tag){case 5:case 31:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:Je=Je.return}}function Za(e){if(e!==Je)return!1;if(!qt)return wy(e),qt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||wm(e.type,e.memoizedProps)),a=!a),a&&ue&&Yr(e),wy(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ue=Zv(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ue=Zv(e)}else i===27?(i=ue,as(e.type)?(e=Nm,Nm=null,ue=e):ue=i):ue=Je?Wn(e.stateNode.nextSibling):null;return!0}function ea(){ue=Je=null,qt=!1}function ld(){var e=Gr;return e!==null&&(An===null?An=e:An.push.apply(An,e),Gr=null),e}function bl(e){Gr===null?Gr=[e]:Gr.push(e)}var ud=M(null),na=null,or=null;function Qr(e,i,a){ot(ud,i._currentValue),i._currentValue=a}function lr(e){e._currentValue=ud.current,Z(ud)}function cd(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function hd(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var D=0;D<i.length;D++)if(T.context===i[D]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),cd(d.return,a,e),l||(_=null);break t}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),cd(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function $a(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var T=h.type;xn(h.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(h===Ft.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Xl):e=[Xl])}h=h.return}e!==null&&hd(i,e,a,l),i.flags|=262144}function Rc(e){for(e=e.firstContext;e!==null;){if(!xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ia(e){na=e,or=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function We(e){return Ry(na,e)}function Cc(e,i){return na===null&&ia(e),Ry(e,i)}function Ry(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},or===null){if(e===null)throw Error(r(308));or=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else or=or.next=i;return a}var dA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},mA=s.unstable_scheduleCallback,gA=s.unstable_NormalPriority,xe={$$typeof:et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fd(){return{controller:new dA,data:new Map,refCount:0}}function Sl(e){e.refCount--,e.refCount===0&&mA(gA,function(){e.controller.abort()})}var Al=null,dd=0,Ja=0,Wa=null;function pA(e,i){if(Al===null){var a=Al=[];dd=0,Ja=pm(),Wa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return dd++,i.then(Cy,Cy),i}function Cy(){if(--dd===0&&Al!==null){Wa!==null&&(Wa.status="fulfilled");var e=Al;Al=null,Ja=0,Wa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function yA(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Iy=F.S;F.S=function(e,i){hv=dn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&pA(e,i),Iy!==null&&Iy(e,i)};var ra=M(null);function md(){var e=ra.current;return e!==null?e:ae.pooledCache}function Ic(e,i){i===null?ot(ra,ra.current):ot(ra,i.pool)}function Dy(){var e=md();return e===null?null:{parent:xe._currentValue,pool:e}}var to=Error(r(460)),gd=Error(r(474)),Dc=Error(r(542)),Nc={then:function(){}};function Ny(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Oy(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(oi,oi),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,My(e),e;default:if(typeof i.status=="string")i.then(oi,oi);else{if(e=ae,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,My(e),e}throw aa=i,to}}function sa(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(aa=a,to):a}}var aa=null;function xy(){if(aa===null)throw Error(r(459));var e=aa;return aa=null,e}function My(e){if(e===to||e===Dc)throw Error(r(483))}var eo=null,wl=0;function Oc(e){var i=wl;return wl+=1,eo===null&&(eo=[]),Oy(eo,e,i)}function Rl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function xc(e,i){throw i.$$typeof===C?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Vy(e){function i(V,O){if(e){var P=V.deletions;P===null?(V.deletions=[O],V.flags|=16):P.push(O)}}function a(V,O){if(!e)return null;for(;O!==null;)i(V,O),O=O.sibling;return null}function l(V){for(var O=new Map;V!==null;)V.key!==null?O.set(V.key,V):O.set(V.index,V),V=V.sibling;return O}function h(V,O){return V=sr(V,O),V.index=0,V.sibling=null,V}function d(V,O,P){return V.index=P,e?(P=V.alternate,P!==null?(P=P.index,P<O?(V.flags|=67108866,O):P):(V.flags|=67108866,O)):(V.flags|=1048576,O)}function _(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function T(V,O,P,Q){return O===null||O.tag!==6?(O=id(P,V.mode,Q),O.return=V,O):(O=h(O,P),O.return=V,O)}function D(V,O,P,Q){var pt=P.type;return pt===X?Y(V,O,P.props.children,Q,P.key):O!==null&&(O.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===A&&sa(pt)===O.type)?(O=h(O,P.props),Rl(O,P),O.return=V,O):(O=Ac(P.type,P.key,P.props,null,V.mode,Q),Rl(O,P),O.return=V,O)}function z(V,O,P,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=rd(P,V.mode,Q),O.return=V,O):(O=h(O,P.children||[]),O.return=V,O)}function Y(V,O,P,Q,pt){return O===null||O.tag!==7?(O=ta(P,V.mode,Q,pt),O.return=V,O):(O=h(O,P),O.return=V,O)}function $(V,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=id(""+O,V.mode,P),O.return=V,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case k:return P=Ac(O.type,O.key,O.props,null,V.mode,P),Rl(P,O),P.return=V,P;case H:return O=rd(O,V.mode,P),O.return=V,O;case A:return O=sa(O),$(V,O,P)}if(le(O)||U(O))return O=ta(O,V.mode,P,null),O.return=V,O;if(typeof O.then=="function")return $(V,Oc(O),P);if(O.$$typeof===et)return $(V,Cc(V,O),P);xc(V,O)}return null}function j(V,O,P,Q){var pt=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return pt!==null?null:T(V,O,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case k:return P.key===pt?D(V,O,P,Q):null;case H:return P.key===pt?z(V,O,P,Q):null;case A:return P=sa(P),j(V,O,P,Q)}if(le(P)||U(P))return pt!==null?null:Y(V,O,P,Q,null);if(typeof P.then=="function")return j(V,O,Oc(P),Q);if(P.$$typeof===et)return j(V,O,Cc(V,P),Q);xc(V,P)}return null}function q(V,O,P,Q,pt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return V=V.get(P)||null,T(O,V,""+Q,pt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case k:return V=V.get(Q.key===null?P:Q.key)||null,D(O,V,Q,pt);case H:return V=V.get(Q.key===null?P:Q.key)||null,z(O,V,Q,pt);case A:return Q=sa(Q),q(V,O,P,Q,pt)}if(le(Q)||U(Q))return V=V.get(P)||null,Y(O,V,Q,pt,null);if(typeof Q.then=="function")return q(V,O,P,Oc(Q),pt);if(Q.$$typeof===et)return q(V,O,P,Cc(O,Q),pt);xc(O,Q)}return null}function dt(V,O,P,Q){for(var pt=null,Qt=null,mt=O,xt=O=0,kt=null;mt!==null&&xt<P.length;xt++){mt.index>xt?(kt=mt,mt=null):kt=mt.sibling;var Kt=j(V,mt,P[xt],Q);if(Kt===null){mt===null&&(mt=kt);break}e&&mt&&Kt.alternate===null&&i(V,mt),O=d(Kt,O,xt),Qt===null?pt=Kt:Qt.sibling=Kt,Qt=Kt,mt=kt}if(xt===P.length)return a(V,mt),qt&&ar(V,xt),pt;if(mt===null){for(;xt<P.length;xt++)mt=$(V,P[xt],Q),mt!==null&&(O=d(mt,O,xt),Qt===null?pt=mt:Qt.sibling=mt,Qt=mt);return qt&&ar(V,xt),pt}for(mt=l(mt);xt<P.length;xt++)kt=q(mt,V,xt,P[xt],Q),kt!==null&&(e&&kt.alternate!==null&&mt.delete(kt.key===null?xt:kt.key),O=d(kt,O,xt),Qt===null?pt=kt:Qt.sibling=kt,Qt=kt);return e&&mt.forEach(function(hs){return i(V,hs)}),qt&&ar(V,xt),pt}function _t(V,O,P,Q){if(P==null)throw Error(r(151));for(var pt=null,Qt=null,mt=O,xt=O=0,kt=null,Kt=P.next();mt!==null&&!Kt.done;xt++,Kt=P.next()){mt.index>xt?(kt=mt,mt=null):kt=mt.sibling;var hs=j(V,mt,Kt.value,Q);if(hs===null){mt===null&&(mt=kt);break}e&&mt&&hs.alternate===null&&i(V,mt),O=d(hs,O,xt),Qt===null?pt=hs:Qt.sibling=hs,Qt=hs,mt=kt}if(Kt.done)return a(V,mt),qt&&ar(V,xt),pt;if(mt===null){for(;!Kt.done;xt++,Kt=P.next())Kt=$(V,Kt.value,Q),Kt!==null&&(O=d(Kt,O,xt),Qt===null?pt=Kt:Qt.sibling=Kt,Qt=Kt);return qt&&ar(V,xt),pt}for(mt=l(mt);!Kt.done;xt++,Kt=P.next())Kt=q(mt,V,xt,Kt.value,Q),Kt!==null&&(e&&Kt.alternate!==null&&mt.delete(Kt.key===null?xt:Kt.key),O=d(Kt,O,xt),Qt===null?pt=Kt:Qt.sibling=Kt,Qt=Kt);return e&&mt.forEach(function(I1){return i(V,I1)}),qt&&ar(V,xt),pt}function se(V,O,P,Q){if(typeof P=="object"&&P!==null&&P.type===X&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case k:t:{for(var pt=P.key;O!==null;){if(O.key===pt){if(pt=P.type,pt===X){if(O.tag===7){a(V,O.sibling),Q=h(O,P.props.children),Q.return=V,V=Q;break t}}else if(O.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===A&&sa(pt)===O.type){a(V,O.sibling),Q=h(O,P.props),Rl(Q,P),Q.return=V,V=Q;break t}a(V,O);break}else i(V,O);O=O.sibling}P.type===X?(Q=ta(P.props.children,V.mode,Q,P.key),Q.return=V,V=Q):(Q=Ac(P.type,P.key,P.props,null,V.mode,Q),Rl(Q,P),Q.return=V,V=Q)}return _(V);case H:t:{for(pt=P.key;O!==null;){if(O.key===pt)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){a(V,O.sibling),Q=h(O,P.children||[]),Q.return=V,V=Q;break t}else{a(V,O);break}else i(V,O);O=O.sibling}Q=rd(P,V.mode,Q),Q.return=V,V=Q}return _(V);case A:return P=sa(P),se(V,O,P,Q)}if(le(P))return dt(V,O,P,Q);if(U(P)){if(pt=U(P),typeof pt!="function")throw Error(r(150));return P=pt.call(P),_t(V,O,P,Q)}if(typeof P.then=="function")return se(V,O,Oc(P),Q);if(P.$$typeof===et)return se(V,O,Cc(V,P),Q);xc(V,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(a(V,O.sibling),Q=h(O,P),Q.return=V,V=Q):(a(V,O),Q=id(P,V.mode,Q),Q.return=V,V=Q),_(V)):a(V,O)}return function(V,O,P,Q){try{wl=0;var pt=se(V,O,P,Q);return eo=null,pt}catch(mt){if(mt===to||mt===Dc)throw mt;var Qt=Mn(29,mt,null,V.mode);return Qt.lanes=Q,Qt.return=V,Qt}finally{}}}var oa=Vy(!0),Uy=Vy(!1),Kr=!1;function pd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yd(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Xr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Zr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Zt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Sc(e),_y(e,null,a),i}return bc(e,l,i,a),Sc(e)}function Cl(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,tl(e,a)}}function _d(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var vd=!1;function Il(){if(vd){var e=Wa;if(e!==null)throw e}}function Dl(e,i,a,l){vd=!1;var h=e.updateQueue;Kr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,z=D.next;D.next=null,_===null?d=z:_.next=z,_=D;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==_&&(T===null?Y.firstBaseUpdate=z:T.next=z,Y.lastBaseUpdate=D))}if(d!==null){var $=h.baseState;_=0,Y=z=D=null,T=d;do{var j=T.lane&-536870913,q=j!==T.lane;if(q?(Ut&j)===j:(l&j)===j){j!==0&&j===Ja&&(vd=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var dt=e,_t=T;j=i;var se=a;switch(_t.tag){case 1:if(dt=_t.payload,typeof dt=="function"){$=dt.call(se,$,j);break t}$=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=_t.payload,j=typeof dt=="function"?dt.call(se,$,j):dt,j==null)break t;$=b({},$,j);break t;case 2:Kr=!0}}j=T.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(z=Y=q,D=$):Y=Y.next=q,_|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);Y===null&&(D=$),h.baseState=D,h.firstBaseUpdate=z,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),es|=_,e.lanes=_,e.memoizedState=$}}function ky(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function Ly(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ky(a[e],i)}var no=M(null),Mc=M(0);function Py(e,i){e=yr,ot(Mc,e),ot(no,i),yr=e|i.baseLanes}function Ed(){ot(Mc,yr),ot(no,no.current)}function Td(){yr=Mc.current,Z(no),Z(Mc)}var Vn=M(null),Jn=null;function $r(e){var i=e.alternate;ot(Ae,Ae.current&1),ot(Vn,e),Jn===null&&(i===null||no.current!==null||i.memoizedState!==null)&&(Jn=e)}function bd(e){ot(Ae,Ae.current),ot(Vn,e),Jn===null&&(Jn=e)}function zy(e){e.tag===22?(ot(Ae,Ae.current),ot(Vn,e),Jn===null&&(Jn=e)):Jr()}function Jr(){ot(Ae,Ae.current),ot(Vn,Vn.current)}function Un(e){Z(Vn),Jn===e&&(Jn=null),Z(Ae)}var Ae=M(0);function Vc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Im(a)||Dm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ur=0,Nt=null,ie=null,Me=null,Uc=!1,io=!1,la=!1,kc=0,Nl=0,ro=null,_A=0;function _e(){throw Error(r(321))}function Sd(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!xn(e[a],i[a]))return!1;return!0}function Ad(e,i,a,l,h,d){return ur=d,Nt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=e===null||e.memoizedState===null?b_:zd,la=!1,d=a(l,h),la=!1,io&&(d=By(i,a,l,h)),jy(e),d}function jy(e){F.H=Ml;var i=ie!==null&&ie.next!==null;if(ur=0,Me=ie=Nt=null,Uc=!1,Nl=0,ro=null,i)throw Error(r(300));e===null||Ve||(e=e.dependencies,e!==null&&Rc(e)&&(Ve=!0))}function By(e,i,a,l){Nt=e;var h=0;do{if(io&&(ro=null),Nl=0,io=!1,25<=h)throw Error(r(301));if(h+=1,Me=ie=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=S_,d=i(a,l)}while(io);return d}function vA(){var e=F.H,i=e.useState()[0];return i=typeof i.then=="function"?Ol(i):i,e=e.useState()[0],(ie!==null?ie.memoizedState:null)!==e&&(Nt.flags|=1024),i}function wd(){var e=kc!==0;return kc=0,e}function Rd(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Cd(e){if(Uc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Uc=!1}ur=0,Me=ie=Nt=null,io=!1,Nl=kc=0,ro=null}function gn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?Nt.memoizedState=Me=e:Me=Me.next=e,Me}function we(){if(ie===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var i=Me===null?Nt.memoizedState:Me.next;if(i!==null)Me=i,ie=e;else{if(e===null)throw Nt.alternate===null?Error(r(467)):Error(r(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},Me===null?Nt.memoizedState=Me=e:Me=Me.next=e}return Me}function Lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ol(e){var i=Nl;return Nl+=1,ro===null&&(ro=[]),e=Oy(ro,e,i),i=Nt,(Me===null?i.memoizedState:Me.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?b_:zd),e}function Pc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ol(e);if(e.$$typeof===et)return We(e)}throw Error(r(438,String(e)))}function Id(e){var i=null,a=Nt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Nt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Lc(),Nt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=x;return i.index++,a}function cr(e,i){return typeof i=="function"?i(e):i}function zc(e){var i=we();return Dd(i,ie,e)}function Dd(e,i,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=_=null,D=null,z=i,Y=!1;do{var $=z.lane&-536870913;if($!==z.lane?(Ut&$)===$:(ur&$)===$){var j=z.revertLane;if(j===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===Ja&&(Y=!0);else if((ur&j)===j){z=z.next,j===Ja&&(Y=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(T=D=$,_=d):D=D.next=$,Nt.lanes|=j,es|=j;$=z.action,la&&a(d,$),d=z.hasEagerState?z.eagerState:a(d,$)}else j={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(T=D=j,_=d):D=D.next=j,Nt.lanes|=$,es|=$;z=z.next}while(z!==null&&z!==i);if(D===null?_=d:D.next=T,!xn(d,e.memoizedState)&&(Ve=!0,Y&&(a=Wa,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Nd(e){var i=we(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);xn(d,i.memoizedState)||(Ve=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function qy(e,i,a){var l=Nt,h=we(),d=qt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!xn((ie||h).memoizedState,a);if(_&&(h.memoizedState=a,Ve=!0),h=h.queue,Md(Gy.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||Me!==null&&Me.memoizedState.tag&1){if(l.flags|=2048,so(9,{destroy:void 0},Fy.bind(null,l,h,a,i),null),ae===null)throw Error(r(349));d||(ur&127)!==0||Hy(l,i,a)}return a}function Hy(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Nt.updateQueue,i===null?(i=Lc(),Nt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Fy(e,i,a,l){i.value=a,i.getSnapshot=l,Yy(i)&&Qy(e)}function Gy(e,i,a){return a(function(){Yy(i)&&Qy(e)})}function Yy(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!xn(e,a)}catch{return!0}}function Qy(e){var i=Ws(e,2);i!==null&&wn(i,e,2)}function Od(e){var i=gn();if(typeof e=="function"){var a=e;if(e=a(),la){qn(!0);try{a()}finally{qn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:e},i}function Ky(e,i,a,l){return e.baseState=a,Dd(e,ie,typeof l=="function"?l:cr)}function EA(e,i,a,l,h){if(qc(e))throw Error(r(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};F.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Xy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Xy(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=F.T,_={};F.T=_;try{var T=a(h,l),D=F.S;D!==null&&D(_,T),Zy(e,i,T)}catch(z){xd(e,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),F.T=d}}else try{d=a(h,l),Zy(e,i,d)}catch(z){xd(e,i,z)}}function Zy(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){$y(e,i,l)},function(l){return xd(e,i,l)}):$y(e,i,a)}function $y(e,i,a){i.status="fulfilled",i.value=a,Jy(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Xy(e,a)))}function xd(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Jy(i),i=i.next;while(i!==l)}e.action=null}function Jy(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Wy(e,i){return i}function t_(e,i){if(qt){var a=ae.formState;if(a!==null){t:{var l=Nt;if(qt){if(ue){e:{for(var h=ue,d=$n;h.nodeType!==8;){if(!d){h=null;break e}if(h=Wn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ue=Wn(h.nextSibling),l=h.data==="F!";break t}}Yr(l)}l=!1}l&&(i=a[0])}}return a=gn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wy,lastRenderedState:i},a.queue=l,a=v_.bind(null,Nt,l),l.dispatch=a,l=Od(!1),d=Pd.bind(null,Nt,!1,l.queue),l=gn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=EA.bind(null,Nt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function e_(e){var i=we();return n_(i,ie,e)}function n_(e,i,a){if(i=Dd(e,i,Wy)[0],e=zc(cr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Ol(i)}catch(_){throw _===to?Dc:_}else l=i;i=we();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Nt.flags|=2048,so(9,{destroy:void 0},TA.bind(null,h,a),null)),[l,d,e]}function TA(e,i){e.action=i}function i_(e){var i=we(),a=ie;if(a!==null)return n_(i,a,e);we(),i=i.memoizedState,a=we();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function so(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Nt.updateQueue,i===null&&(i=Lc(),Nt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function r_(){return we().memoizedState}function jc(e,i,a,l){var h=gn();Nt.flags|=e,h.memoizedState=so(1|i,{destroy:void 0},a,l===void 0?null:l)}function Bc(e,i,a,l){var h=we();l=l===void 0?null:l;var d=h.memoizedState.inst;ie!==null&&l!==null&&Sd(l,ie.memoizedState.deps)?h.memoizedState=so(i,d,a,l):(Nt.flags|=e,h.memoizedState=so(1|i,d,a,l))}function s_(e,i){jc(8390656,8,e,i)}function Md(e,i){Bc(2048,8,e,i)}function bA(e){Nt.flags|=4;var i=Nt.updateQueue;if(i===null)i=Lc(),Nt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function a_(e){var i=we().memoizedState;return bA({ref:i,nextImpl:e}),function(){if((Zt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function o_(e,i){return Bc(4,2,e,i)}function l_(e,i){return Bc(4,4,e,i)}function u_(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function c_(e,i,a){a=a!=null?a.concat([e]):null,Bc(4,4,u_.bind(null,i,e),a)}function Vd(){}function h_(e,i){var a=we();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Sd(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function f_(e,i){var a=we();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Sd(i,l[1]))return l[0];if(l=e(),la){qn(!0);try{e()}finally{qn(!1)}}return a.memoizedState=[l,i],l}function Ud(e,i,a){return a===void 0||(ur&1073741824)!==0&&(Ut&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=dv(),Nt.lanes|=e,es|=e,a)}function d_(e,i,a,l){return xn(a,i)?a:no.current!==null?(e=Ud(e,a,l),xn(e,i)||(Ve=!0),e):(ur&42)===0||(ur&1073741824)!==0&&(Ut&261930)===0?(Ve=!0,e.memoizedState=a):(e=dv(),Nt.lanes|=e,es|=e,i)}function m_(e,i,a,l,h){var d=st.p;st.p=d!==0&&8>d?d:8;var _=F.T,T={};F.T=T,Pd(e,!1,i,a);try{var D=h(),z=F.S;if(z!==null&&z(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Y=yA(D,l);xl(e,i,Y,Pn(e))}else xl(e,i,l,Pn(e))}catch($){xl(e,i,{then:function(){},status:"rejected",reason:$},Pn())}finally{st.p=d,_!==null&&T.types!==null&&(_.types=T.types),F.T=_}}function SA(){}function kd(e,i,a,l){if(e.tag!==5)throw Error(r(476));var h=g_(e).queue;m_(e,h,i,gt,a===null?SA:function(){return p_(e),a(l)})}function g_(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:gt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function p_(e){var i=g_(e);i.next===null&&(i=e.alternate.memoizedState),xl(e,i.next.queue,{},Pn())}function Ld(){return We(Xl)}function y_(){return we().memoizedState}function __(){return we().memoizedState}function AA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Pn();e=Xr(a);var l=Zr(i,e,a);l!==null&&(wn(l,i,a),Cl(l,i,a)),i={cache:fd()},e.payload=i;return}i=i.return}}function wA(e,i,a){var l=Pn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},qc(e)?E_(i,a):(a=ed(e,i,a,l),a!==null&&(wn(a,e,l),T_(a,i,l)))}function v_(e,i,a){var l=Pn();xl(e,i,a,l)}function xl(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(qc(e))E_(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,xn(T,_))return bc(e,i,h,0),ae===null&&Tc(),!1}catch{}finally{}if(a=ed(e,i,h,l),a!==null)return wn(a,e,l),T_(a,i,l),!0}return!1}function Pd(e,i,a,l){if(l={lane:2,revertLane:pm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},qc(e)){if(i)throw Error(r(479))}else i=ed(e,a,l,2),i!==null&&wn(i,e,2)}function qc(e){var i=e.alternate;return e===Nt||i!==null&&i===Nt}function E_(e,i){io=Uc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function T_(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,tl(e,a)}}var Ml={readContext:We,use:Pc,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e};Ml.useEffectEvent=_e;var b_={readContext:We,use:Pc,useCallback:function(e,i){return gn().memoizedState=[e,i===void 0?null:i],e},useContext:We,useEffect:s_,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,jc(4194308,4,u_.bind(null,i,e),a)},useLayoutEffect:function(e,i){return jc(4194308,4,e,i)},useInsertionEffect:function(e,i){jc(4,2,e,i)},useMemo:function(e,i){var a=gn();i=i===void 0?null:i;var l=e();if(la){qn(!0);try{e()}finally{qn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=gn();if(a!==void 0){var h=a(i);if(la){qn(!0);try{a(i)}finally{qn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=wA.bind(null,Nt,e),[l.memoizedState,e]},useRef:function(e){var i=gn();return e={current:e},i.memoizedState=e},useState:function(e){e=Od(e);var i=e.queue,a=v_.bind(null,Nt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Vd,useDeferredValue:function(e,i){var a=gn();return Ud(a,e,i)},useTransition:function(){var e=Od(!1);return e=m_.bind(null,Nt,e.queue,!0,!1),gn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Nt,h=gn();if(qt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),ae===null)throw Error(r(349));(Ut&127)!==0||Hy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,s_(Gy.bind(null,l,d,e),[e]),l.flags|=2048,so(9,{destroy:void 0},Fy.bind(null,l,d,a,i),null),a},useId:function(){var e=gn(),i=ae.identifierPrefix;if(qt){var a=Bi,l=ji;a=(l&~(1<<32-be(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=kc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=_A++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Ld,useFormState:t_,useActionState:t_,useOptimistic:function(e){var i=gn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Pd.bind(null,Nt,!0,a),a.dispatch=i,[e,i]},useMemoCache:Id,useCacheRefresh:function(){return gn().memoizedState=AA.bind(null,Nt)},useEffectEvent:function(e){var i=gn(),a={impl:e};return i.memoizedState=a,function(){if((Zt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},zd={readContext:We,use:Pc,useCallback:h_,useContext:We,useEffect:Md,useImperativeHandle:c_,useInsertionEffect:o_,useLayoutEffect:l_,useMemo:f_,useReducer:zc,useRef:r_,useState:function(){return zc(cr)},useDebugValue:Vd,useDeferredValue:function(e,i){var a=we();return d_(a,ie.memoizedState,e,i)},useTransition:function(){var e=zc(cr)[0],i=we().memoizedState;return[typeof e=="boolean"?e:Ol(e),i]},useSyncExternalStore:qy,useId:y_,useHostTransitionStatus:Ld,useFormState:e_,useActionState:e_,useOptimistic:function(e,i){var a=we();return Ky(a,ie,e,i)},useMemoCache:Id,useCacheRefresh:__};zd.useEffectEvent=a_;var S_={readContext:We,use:Pc,useCallback:h_,useContext:We,useEffect:Md,useImperativeHandle:c_,useInsertionEffect:o_,useLayoutEffect:l_,useMemo:f_,useReducer:Nd,useRef:r_,useState:function(){return Nd(cr)},useDebugValue:Vd,useDeferredValue:function(e,i){var a=we();return ie===null?Ud(a,e,i):d_(a,ie.memoizedState,e,i)},useTransition:function(){var e=Nd(cr)[0],i=we().memoizedState;return[typeof e=="boolean"?e:Ol(e),i]},useSyncExternalStore:qy,useId:y_,useHostTransitionStatus:Ld,useFormState:i_,useActionState:i_,useOptimistic:function(e,i){var a=we();return ie!==null?Ky(a,ie,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Id,useCacheRefresh:__};S_.useEffectEvent=a_;function jd(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Bd={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=Pn(),h=Xr(l);h.payload=i,a!=null&&(h.callback=a),i=Zr(e,h,l),i!==null&&(wn(i,e,l),Cl(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=Pn(),h=Xr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Zr(e,h,l),i!==null&&(wn(i,e,l),Cl(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Pn(),l=Xr(a);l.tag=2,i!=null&&(l.callback=i),i=Zr(e,l,a),i!==null&&(wn(i,e,a),Cl(i,e,a))}};function A_(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!vl(a,l)||!vl(h,d):!0}function w_(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Bd.enqueueReplaceState(i,i.state,null)}function ua(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=b({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function R_(e){Ec(e)}function C_(e){console.error(e)}function I_(e){Ec(e)}function Hc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function D_(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function qd(e,i,a){return a=Xr(a),a.tag=3,a.payload={element:null},a.callback=function(){Hc(e,i)},a}function N_(e){return e=Xr(e),e.tag=3,e}function O_(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){D_(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){D_(i,a,l),typeof h!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function RA(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&$a(i,a,h,!0),a=Vn.current,a!==null){switch(a.tag){case 31:case 13:return Jn===null?eh():a.alternate===null&&ve===0&&(ve=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Nc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),dm(e,l,h)),!1;case 22:return a.flags|=65536,l===Nc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),dm(e,l,h)),!1}throw Error(r(435,a.tag))}return dm(e,l,h),eh(),!1}if(qt)return i=Vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==od&&(e=Error(r(422),{cause:l}),bl(Kn(e,a)))):(l!==od&&(i=Error(r(423),{cause:l}),bl(Kn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Kn(l,a),h=qd(e.stateNode,l,h),_d(e,h),ve!==4&&(ve=2)),!1;var d=Error(r(520),{cause:l});if(d=Kn(d,a),Bl===null?Bl=[d]:Bl.push(d),ve!==4&&(ve=2),i===null)return!0;l=Kn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=qd(a.stateNode,l,e),_d(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ns===null||!ns.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=N_(h),O_(h,e,a,l),_d(a,h),!1}a=a.return}while(a!==null);return!1}var Hd=Error(r(461)),Ve=!1;function tn(e,i,a,l){i.child=e===null?Uy(i,null,a,l):oa(i,e.child,a,l)}function x_(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return ia(i),l=Ad(e,i,a,_,d,h),T=wd(),e!==null&&!Ve?(Rd(e,i,h),hr(e,i,h)):(qt&&T&&sd(i),i.flags|=1,tn(e,i,l,h),i.child)}function M_(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!nd(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,V_(e,i,d,l,h)):(e=Ac(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!$d(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:vl,a(_,l)&&e.ref===i.ref)return hr(e,i,h)}return i.flags|=1,e=sr(d,l),e.ref=i.ref,e.return=i,i.child=e}function V_(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(vl(d,l)&&e.ref===i.ref)if(Ve=!1,i.pendingProps=l=d,$d(e,h))(e.flags&131072)!==0&&(Ve=!0);else return i.lanes=e.lanes,hr(e,i,h)}return Fd(e,i,a,l,h)}function U_(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return k_(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ic(i,d!==null?d.cachePool:null),d!==null?Py(i,d):Ed(),zy(i);else return l=i.lanes=536870912,k_(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Ic(i,d.cachePool),Py(i,d),Jr(),i.memoizedState=null):(e!==null&&Ic(i,null),Ed(),Jr());return tn(e,i,h,a),i.child}function Vl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function k_(e,i,a,l,h){var d=md();return d=d===null?null:{parent:xe._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&Ic(i,null),Ed(),zy(i),e!==null&&$a(e,i,l,!0),i.childLanes=h,null}function Fc(e,i){return i=Yc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function L_(e,i,a){return oa(i,e.child,null,a),e=Fc(i,i.pendingProps),e.flags|=2,Un(i),i.memoizedState=null,e}function CA(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(qt){if(l.mode==="hidden")return e=Fc(i,l),i.lanes=536870912,Vl(null,e);if(bd(i),(e=ue)?(e=Xv(e,$n),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Fr!==null?{id:ji,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},a=Ey(e),a.return=i,i.child=a,Je=i,ue=null)):e=null,e===null)throw Yr(i);return i.lanes=536870912,null}return Fc(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(bd(i),h)if(i.flags&256)i.flags&=-257,i=L_(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(Ve||$a(e,i,a,!1),h=(a&e.childLanes)!==0,Ve||h){if(l=ae,l!==null&&(_=el(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ws(e,_),wn(l,e,_),Hd;eh(),i=L_(e,i,a)}else e=d.treeContext,ue=Wn(_.nextSibling),Je=i,qt=!0,Gr=null,$n=!1,e!==null&&Sy(i,e),i=Fc(i,l),i.flags|=4096;return i}return e=sr(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Gc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Fd(e,i,a,l,h){return ia(i),a=Ad(e,i,a,l,void 0,h),l=wd(),e!==null&&!Ve?(Rd(e,i,h),hr(e,i,h)):(qt&&l&&sd(i),i.flags|=1,tn(e,i,a,h),i.child)}function P_(e,i,a,l,h,d){return ia(i),i.updateQueue=null,a=By(i,l,a,h),jy(e),l=wd(),e!==null&&!Ve?(Rd(e,i,d),hr(e,i,d)):(qt&&l&&sd(i),i.flags|=1,tn(e,i,a,d),i.child)}function z_(e,i,a,l,h){if(ia(i),i.stateNode===null){var d=Qa,_=a.contextType;typeof _=="object"&&_!==null&&(d=We(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Bd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},pd(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?We(_):Qa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(jd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Bd.enqueueReplaceState(d,d.state,null),Dl(i,l,d,h),Il(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,D=ua(a,T);d.props=D;var z=d.context,Y=a.contextType;_=Qa,typeof Y=="object"&&Y!==null&&(_=We(Y));var $=a.getDerivedStateFromProps;Y=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==_)&&w_(i,d,l,_),Kr=!1;var j=i.memoizedState;d.state=j,Dl(i,l,d,h),Il(),z=i.memoizedState,T||j!==z||Kr?(typeof $=="function"&&(jd(i,a,$,l),z=i.memoizedState),(D=Kr||A_(i,a,D,l,j,z,_))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,yd(e,i),_=i.memoizedProps,Y=ua(a,_),d.props=Y,$=i.pendingProps,j=d.context,z=a.contextType,D=Qa,typeof z=="object"&&z!==null&&(D=We(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==$||j!==D)&&w_(i,d,l,D),Kr=!1,j=i.memoizedState,d.state=j,Dl(i,l,d,h),Il();var q=i.memoizedState;_!==$||j!==q||Kr||e!==null&&e.dependencies!==null&&Rc(e.dependencies)?(typeof T=="function"&&(jd(i,a,T,l),q=i.memoizedState),(Y=Kr||A_(i,a,Y,l,j,q,D)||e!==null&&e.dependencies!==null&&Rc(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,q,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,q,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=D,l=Y):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Gc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=oa(i,e.child,null,h),i.child=oa(i,null,a,h)):tn(e,i,a,h),i.memoizedState=d.state,e=i.child):e=hr(e,i,h),e}function j_(e,i,a,l){return ea(),i.flags|=256,tn(e,i,a,l),i.child}var Gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yd(e){return{baseLanes:e,cachePool:Dy()}}function Qd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Ln),e}function B_(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(Ae.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(qt){if(h?$r(i):Jr(),(e=ue)?(e=Xv(e,$n),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Fr!==null?{id:ji,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},a=Ey(e),a.return=i,i.child=a,Je=i,ue=null)):e=null,e===null)throw Yr(i);return Dm(e)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Jr(),h=i.mode,T=Yc({mode:"hidden",children:T},h),l=ta(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=Yd(a),l.childLanes=Qd(e,_,a),i.memoizedState=Gd,Vl(null,l)):($r(i),Kd(i,T))}var D=e.memoizedState;if(D!==null&&(T=D.dehydrated,T!==null)){if(d)i.flags&256?($r(i),i.flags&=-257,i=Xd(e,i,a)):i.memoizedState!==null?(Jr(),i.child=e.child,i.flags|=128,i=null):(Jr(),T=l.fallback,h=i.mode,l=Yc({mode:"visible",children:l.children},h),T=ta(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,oa(i,e.child,null,a),l=i.child,l.memoizedState=Yd(a),l.childLanes=Qd(e,_,a),i.memoizedState=Gd,i=Vl(null,l));else if($r(i),Dm(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(r(419)),l.stack="",l.digest=_,bl({value:l,source:null,stack:null}),i=Xd(e,i,a)}else if(Ve||$a(e,i,a,!1),_=(a&e.childLanes)!==0,Ve||_){if(_=ae,_!==null&&(l=el(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Ws(e,l),wn(_,e,l),Hd;Im(T)||eh(),i=Xd(e,i,a)}else Im(T)?(i.flags|=192,i.child=e.child,i=null):(e=D.treeContext,ue=Wn(T.nextSibling),Je=i,qt=!0,Gr=null,$n=!1,e!==null&&Sy(i,e),i=Kd(i,l.children),i.flags|=4096);return i}return h?(Jr(),T=l.fallback,h=i.mode,D=e.child,z=D.sibling,l=sr(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,z!==null?T=sr(z,T):(T=ta(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,Vl(null,l),l=i.child,T=e.child.memoizedState,T===null?T=Yd(a):(h=T.cachePool,h!==null?(D=xe._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=Dy(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=Qd(e,_,a),i.memoizedState=Gd,Vl(e.child,l)):($r(i),a=e.child,e=a.sibling,a=sr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function Kd(e,i){return i=Yc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Yc(e,i){return e=Mn(22,e,null,i),e.lanes=0,e}function Xd(e,i,a){return oa(i,e.child,null,a),e=Kd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function q_(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),cd(e.return,i,a)}function Zd(e,i,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function H_(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=Ae.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,ot(Ae,_),tn(e,i,l,a),l=qt?Tl:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&q_(e,a,i);else if(e.tag===19)q_(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Vc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Zd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Vc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Zd(i,!0,a,null,d,l);break;case"together":Zd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function hr(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),es|=i.lanes,(a&i.childLanes)===0)if(e!==null){if($a(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=sr(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=sr(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function $d(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Rc(e)))}function IA(e,i,a){switch(i.tag){case 3:qe(i,i.stateNode.containerInfo),Qr(i,xe,e.memoizedState.cache),ea();break;case 27:case 5:Us(i);break;case 4:qe(i,i.stateNode.containerInfo);break;case 10:Qr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,bd(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?($r(i),i.flags|=128,null):(a&i.child.childLanes)!==0?B_(e,i,a):($r(i),e=hr(e,i,a),e!==null?e.sibling:null);$r(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||($a(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return H_(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ot(Ae,Ae.current),l)break;return null;case 22:return i.lanes=0,U_(e,i,a,i.pendingProps);case 24:Qr(i,xe,e.memoizedState.cache)}return hr(e,i,a)}function F_(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ve=!0;else{if(!$d(e,a)&&(i.flags&128)===0)return Ve=!1,IA(e,i,a);Ve=(e.flags&131072)!==0}else Ve=!1,qt&&(i.flags&1048576)!==0&&by(i,Tl,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=sa(i.elementType),i.type=e,typeof e=="function")nd(e)?(l=ua(e,l),i.tag=1,i=z_(null,i,e,l,a)):(i.tag=0,i=Fd(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===ct){i.tag=11,i=x_(null,i,e,l,a);break t}else if(h===R){i.tag=14,i=M_(null,i,e,l,a);break t}}throw i=Yt(e)||e,Error(r(306,i,""))}}return i;case 0:return Fd(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=ua(l,i.pendingProps),z_(e,i,l,h,a);case 3:t:{if(qe(i,i.stateNode.containerInfo),e===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,yd(e,i),Dl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Qr(i,xe,l),l!==d.cache&&hd(i,[xe],a,!0),Il(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=j_(e,i,l,a);break t}else if(l!==h){h=Kn(Error(r(424)),i),bl(h),i=j_(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ue=Wn(e.firstChild),Je=i,qt=!0,Gr=null,$n=!0,a=Uy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ea(),l===h){i=hr(e,i,a);break t}tn(e,i,l,a)}i=i.child}return i;case 26:return Gc(e,i),e===null?(a=eE(i.type,null,i.pendingProps,null))?i.memoizedState=a:qt||(a=i.type,e=i.pendingProps,l=lh(Ot.current).createElement(a),l[De]=i,l[Ye]=e,en(l,a,e),Ne(l),i.stateNode=l):i.memoizedState=eE(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Us(i),e===null&&qt&&(l=i.stateNode=Jv(i.type,i.pendingProps,Ot.current),Je=i,$n=!0,h=ue,as(i.type)?(Nm=h,ue=Wn(l.firstChild)):ue=h),tn(e,i,i.pendingProps.children,a),Gc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&qt&&((h=l=ue)&&(l=r1(l,i.type,i.pendingProps,$n),l!==null?(i.stateNode=l,Je=i,ue=Wn(l.firstChild),$n=!1,h=!0):h=!1),h||Yr(i)),Us(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,wm(h,d)?l=null:_!==null&&wm(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Ad(e,i,vA,null,null,a),Xl._currentValue=h),Gc(e,i),tn(e,i,l,a),i.child;case 6:return e===null&&qt&&((e=a=ue)&&(a=s1(a,i.pendingProps,$n),a!==null?(i.stateNode=a,Je=i,ue=null,e=!0):e=!1),e||Yr(i)),null;case 13:return B_(e,i,a);case 4:return qe(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=oa(i,null,l,a):tn(e,i,l,a),i.child;case 11:return x_(e,i,i.type,i.pendingProps,a);case 7:return tn(e,i,i.pendingProps,a),i.child;case 8:return tn(e,i,i.pendingProps.children,a),i.child;case 12:return tn(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Qr(i,i.type,l.value),tn(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ia(i),h=We(h),l=l(h),i.flags|=1,tn(e,i,l,a),i.child;case 14:return M_(e,i,i.type,i.pendingProps,a);case 15:return V_(e,i,i.type,i.pendingProps,a);case 19:return H_(e,i,a);case 31:return CA(e,i,a);case 22:return U_(e,i,a,i.pendingProps);case 24:return ia(i),l=We(xe),e===null?(h=md(),h===null&&(h=ae,d=fd(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},pd(i),Qr(i,xe,h)):((e.lanes&a)!==0&&(yd(e,i),Dl(i,null,null,a),Il()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Qr(i,xe,l)):(l=d.cache,Qr(i,xe,l),l!==h.cache&&hd(i,[xe],a,!0))),tn(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function fr(e){e.flags|=4}function Jd(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(yv())e.flags|=8192;else throw aa=Nc,gd}else e.flags&=-16777217}function G_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!aE(i))if(yv())e.flags|=8192;else throw aa=Nc,gd}function Qc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Wu():536870912,e.lanes|=i,uo|=i)}function Ul(e,i){if(!qt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ce(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function DA(e,i,a){var l=i.pendingProps;switch(ad(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(i),null;case 1:return ce(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),lr(xe),fe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Za(i)?fr(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ld())),ce(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(fr(i),d!==null?(ce(i),G_(i,d)):(ce(i),Jd(i,h,null,l,a))):d?d!==e.memoizedState?(fr(i),ce(i),G_(i,d)):(ce(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&fr(i),ce(i),Jd(i,h,e,l,a)),null;case 27:if(Ia(i),a=Ot.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&fr(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return ce(i),null}e=ft.current,Za(i)?Ay(i):(e=Jv(h,l,a),i.stateNode=e,fr(i))}return ce(i),null;case 5:if(Ia(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&fr(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return ce(i),null}if(d=ft.current,Za(i))Ay(i);else{var _=lh(Ot.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[De]=i,d[Ye]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(en(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&fr(i)}}return ce(i),Jd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&fr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(e=Ot.current,Za(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=Je,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[De]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Bv(e.nodeValue,a)),e||Yr(i,!0)}else e=lh(e).createTextNode(l),e[De]=i,i.stateNode=e}return ce(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=Za(i),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[De]=i}else ea(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ce(i),e=!1}else a=ld(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(Un(i),i):(Un(i),null);if((i.flags&128)!==0)throw Error(r(558))}return ce(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Za(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[De]=i}else ea(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ce(i),h=!1}else h=ld(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Un(i),i):(Un(i),null)}return Un(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),Qc(i,i.updateQueue),ce(i),null);case 4:return fe(),e===null&&Em(i.stateNode.containerInfo),ce(i),null;case 10:return lr(i.type),ce(i),null;case 19:if(Z(Ae),l=i.memoizedState,l===null)return ce(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)Ul(l,!1);else{if(ve!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Vc(e),d!==null){for(i.flags|=128,Ul(l,!1),e=d.updateQueue,i.updateQueue=e,Qc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)vy(a,e),a=a.sibling;return ot(Ae,Ae.current&1|2),qt&&ar(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&dn()>Jc&&(i.flags|=128,h=!0,Ul(l,!1),i.lanes=4194304)}else{if(!h)if(e=Vc(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,Qc(i,e),Ul(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!qt)return ce(i),null}else 2*dn()-l.renderingStartTime>Jc&&a!==536870912&&(i.flags|=128,h=!0,Ul(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=dn(),e.sibling=null,a=Ae.current,ot(Ae,h?a&1|2:a&1),qt&&ar(i,l.treeForkCount),e):(ce(i),null);case 22:case 23:return Un(i),Td(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ce(i),i.subtreeFlags&6&&(i.flags|=8192)):ce(i),a=i.updateQueue,a!==null&&Qc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&Z(ra),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),lr(xe),ce(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function NA(e,i){switch(ad(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return lr(xe),fe(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Ia(i),null;case 31:if(i.memoizedState!==null){if(Un(i),i.alternate===null)throw Error(r(340));ea()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Un(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));ea()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return Z(Ae),null;case 4:return fe(),null;case 10:return lr(i.type),null;case 22:case 23:return Un(i),Td(),e!==null&&Z(ra),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return lr(xe),null;case 25:return null;default:return null}}function Y_(e,i){switch(ad(i),i.tag){case 3:lr(xe),fe();break;case 26:case 27:case 5:Ia(i);break;case 4:fe();break;case 31:i.memoizedState!==null&&Un(i);break;case 13:Un(i);break;case 19:Z(Ae);break;case 10:lr(i.type);break;case 22:case 23:Un(i),Td(),e!==null&&Z(ra);break;case 24:lr(xe)}}function kl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){ee(i,i.return,T)}}function Wr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var D=a,z=T;try{z()}catch(Y){ee(h,D,Y)}}}l=l.next}while(l!==d)}}catch(Y){ee(i,i.return,Y)}}function Q_(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Ly(i,a)}catch(l){ee(e,e.return,l)}}}function K_(e,i,a){a.props=ua(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ee(e,i,l)}}function Ll(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){ee(e,i,h)}}function qi(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ee(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ee(e,i,h)}else a.current=null}function X_(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ee(e,e.return,h)}}function Wd(e,i,a){try{var l=e.stateNode;JA(l,e.type,a,i),l[Ye]=i}catch(h){ee(e,e.return,h)}}function Z_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&as(e.type)||e.tag===4}function tm(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Z_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&as(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function em(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=oi));else if(l!==4&&(l===27&&as(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(em(e,i,a),e=e.sibling;e!==null;)em(e,i,a),e=e.sibling}function Kc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&as(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Kc(e,i,a),e=e.sibling;e!==null;)Kc(e,i,a),e=e.sibling}function $_(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);en(i,l,a),i[De]=e,i[Ye]=a}catch(d){ee(e,e.return,d)}}var dr=!1,Ue=!1,nm=!1,J_=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function OA(e,i){if(e=e.containerInfo,Sm=gh,e=cy(e),Xf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,T=-1,D=-1,z=0,Y=0,$=e,j=null;e:for(;;){for(var q;$!==a||h!==0&&$.nodeType!==3||(T=_+h),$!==d||l!==0&&$.nodeType!==3||(D=_+l),$.nodeType===3&&(_+=$.nodeValue.length),(q=$.firstChild)!==null;)j=$,$=q;for(;;){if($===e)break e;if(j===a&&++z===h&&(T=_),j===d&&++Y===l&&(D=_),(q=$.nextSibling)!==null)break;$=j,j=$.parentNode}$=q}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Am={focusedElem:e,selectionRange:a},gh=!1,Ke=i;Ke!==null;)if(i=Ke,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Ke=e;else for(;Ke!==null;){switch(i=Ke,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var dt=ua(a.type,h);e=l.getSnapshotBeforeUpdate(dt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(_t){ee(a,a.return,_t)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Cm(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Cm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,Ke=e;break}Ke=i.return}}function W_(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:gr(e,a),l&4&&kl(5,a);break;case 1:if(gr(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){ee(a,a.return,_)}else{var h=ua(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){ee(a,a.return,_)}}l&64&&Q_(a),l&512&&Ll(a,a.return);break;case 3:if(gr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ly(e,i)}catch(_){ee(a,a.return,_)}}break;case 27:i===null&&l&4&&$_(a);case 26:case 5:gr(e,a),i===null&&l&4&&X_(a),l&512&&Ll(a,a.return);break;case 12:gr(e,a);break;case 31:gr(e,a),l&4&&nv(e,a);break;case 13:gr(e,a),l&4&&iv(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=jA.bind(null,a),a1(e,a))));break;case 22:if(l=a.memoizedState!==null||dr,!l){i=i!==null&&i.memoizedState!==null||Ue,h=dr;var d=Ue;dr=l,(Ue=i)&&!d?pr(e,a,(a.subtreeFlags&8772)!==0):gr(e,a),dr=h,Ue=d}break;case 30:break;default:gr(e,a)}}function tv(e){var i=e.alternate;i!==null&&(e.alternate=null,tv(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Ma(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var me=null,Tn=!1;function mr(e,i,a){for(a=a.child;a!==null;)ev(e,i,a),a=a.sibling}function ev(e,i,a){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(ii,a)}catch{}switch(a.tag){case 26:Ue||qi(a,i),mr(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ue||qi(a,i);var l=me,h=Tn;as(a.type)&&(me=a.stateNode,Tn=!1),mr(e,i,a),Yl(a.stateNode),me=l,Tn=h;break;case 5:Ue||qi(a,i);case 6:if(l=me,h=Tn,me=null,mr(e,i,a),me=l,Tn=h,me!==null)if(Tn)try{(me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me).removeChild(a.stateNode)}catch(d){ee(a,i,d)}else try{me.removeChild(a.stateNode)}catch(d){ee(a,i,d)}break;case 18:me!==null&&(Tn?(e=me,Qv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),_o(e)):Qv(me,a.stateNode));break;case 4:l=me,h=Tn,me=a.stateNode.containerInfo,Tn=!0,mr(e,i,a),me=l,Tn=h;break;case 0:case 11:case 14:case 15:Wr(2,a,i),Ue||Wr(4,a,i),mr(e,i,a);break;case 1:Ue||(qi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&K_(a,i,l)),mr(e,i,a);break;case 21:mr(e,i,a);break;case 22:Ue=(l=Ue)||a.memoizedState!==null,mr(e,i,a),Ue=l;break;default:mr(e,i,a)}}function nv(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{_o(e)}catch(a){ee(i,i.return,a)}}}function iv(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{_o(e)}catch(a){ee(i,i.return,a)}}function xA(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new J_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new J_),i;default:throw Error(r(435,e.tag))}}function Xc(e,i){var a=xA(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=BA.bind(null,e,l);l.then(h,h)}})}function bn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(as(T.type)){me=T.stateNode,Tn=!1;break t}break;case 5:me=T.stateNode,Tn=!1;break t;case 3:case 4:me=T.stateNode.containerInfo,Tn=!0;break t}T=T.return}if(me===null)throw Error(r(160));ev(d,_,h),me=null,Tn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)rv(i,e),i=i.sibling}var di=null;function rv(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:bn(i,e),Sn(e),l&4&&(Wr(3,e,e.return),kl(3,e),Wr(5,e,e.return));break;case 1:bn(i,e),Sn(e),l&512&&(Ue||a===null||qi(a,a.return)),l&64&&dr&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=di;if(bn(i,e),Sn(e),l&512&&(Ue||a===null||qi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ii]||d[De]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),en(d,l,a),d[De]=e,Ne(d),l=d;break t;case"link":var _=rE("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}d=h.createElement(l),en(d,l,a),h.head.appendChild(d);break;case"meta":if(_=rE("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}d=h.createElement(l),en(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[De]=e,Ne(d),l=d}e.stateNode=l}else sE(h,e.type,e.stateNode);else e.stateNode=iE(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?sE(h,e.type,e.stateNode):iE(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Wd(e,e.memoizedProps,a.memoizedProps)}break;case 27:bn(i,e),Sn(e),l&512&&(Ue||a===null||qi(a,a.return)),a!==null&&l&4&&Wd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(bn(i,e),Sn(e),l&512&&(Ue||a===null||qi(a,a.return)),e.flags&32){h=e.stateNode;try{En(h,"")}catch(dt){ee(e,e.return,dt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Wd(e,h,a!==null?a.memoizedProps:h)),l&1024&&(nm=!0);break;case 6:if(bn(i,e),Sn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(dt){ee(e,e.return,dt)}}break;case 3:if(hh=null,h=di,di=uh(i.containerInfo),bn(i,e),di=h,Sn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{_o(i.containerInfo)}catch(dt){ee(e,e.return,dt)}nm&&(nm=!1,sv(e));break;case 4:l=di,di=uh(e.stateNode.containerInfo),bn(i,e),Sn(e),di=l;break;case 12:bn(i,e),Sn(e);break;case 31:bn(i,e),Sn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Xc(e,l)));break;case 13:bn(i,e),Sn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&($c=dn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Xc(e,l)));break;case 22:h=e.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,z=dr,Y=Ue;if(dr=z||h,Ue=Y||D,bn(i,e),Ue=Y,dr=z,Sn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||D||dr||Ue||ca(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=D.stateNode;var $=D.memoizedProps.style,j=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(dt){ee(D,D.return,dt)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(dt){ee(D,D.return,dt)}}}else if(i.tag===18){if(a===null){D=i;try{var q=D.stateNode;h?Kv(q,!0):Kv(D.stateNode,!1)}catch(dt){ee(D,D.return,dt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Xc(e,a))));break;case 19:bn(i,e),Sn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Xc(e,l)));break;case 30:break;case 21:break;default:bn(i,e),Sn(e)}}function Sn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(Z_(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=tm(e);Kc(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(En(_,""),a.flags&=-33);var T=tm(e);Kc(e,T,_);break;case 3:case 4:var D=a.stateNode.containerInfo,z=tm(e);em(e,z,D);break;default:throw Error(r(161))}}catch(Y){ee(e,e.return,Y)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function sv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;sv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function gr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)W_(e,i.alternate,i),i=i.sibling}function ca(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Wr(4,i,i.return),ca(i);break;case 1:qi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&K_(i,i.return,a),ca(i);break;case 27:Yl(i.stateNode);case 26:case 5:qi(i,i.return),ca(i);break;case 22:i.memoizedState===null&&ca(i);break;case 30:ca(i);break;default:ca(i)}e=e.sibling}}function pr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:pr(h,d,a),kl(4,d);break;case 1:if(pr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){ee(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)ky(D[h],T)}catch(z){ee(l,l.return,z)}}a&&_&64&&Q_(d),Ll(d,d.return);break;case 27:$_(d);case 26:case 5:pr(h,d,a),a&&l===null&&_&4&&X_(d),Ll(d,d.return);break;case 12:pr(h,d,a);break;case 31:pr(h,d,a),a&&_&4&&nv(h,d);break;case 13:pr(h,d,a),a&&_&4&&iv(h,d);break;case 22:d.memoizedState===null&&pr(h,d,a),Ll(d,d.return);break;case 30:break;default:pr(h,d,a)}i=i.sibling}}function im(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Sl(a))}function rm(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Sl(e))}function mi(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)av(e,i,a,l),i=i.sibling}function av(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:mi(e,i,a,l),h&2048&&kl(9,i);break;case 1:mi(e,i,a,l);break;case 3:mi(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Sl(e)));break;case 12:if(h&2048){mi(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){ee(i,i.return,D)}}else mi(e,i,a,l);break;case 31:mi(e,i,a,l);break;case 13:mi(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?mi(e,i,a,l):Pl(e,i):d._visibility&2?mi(e,i,a,l):(d._visibility|=2,ao(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&im(_,i);break;case 24:mi(e,i,a,l),h&2048&&rm(i.alternate,i);break;default:mi(e,i,a,l)}}function ao(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,T=a,D=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:ao(d,_,T,D,h),kl(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&2?ao(d,_,T,D,h):Pl(d,_):(Y._visibility|=2,ao(d,_,T,D,h)),h&&z&2048&&im(_.alternate,_);break;case 24:ao(d,_,T,D,h),h&&z&2048&&rm(_.alternate,_);break;default:ao(d,_,T,D,h)}i=i.sibling}}function Pl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:Pl(a,l),h&2048&&im(l.alternate,l);break;case 24:Pl(a,l),h&2048&&rm(l.alternate,l);break;default:Pl(a,l)}i=i.sibling}}var zl=8192;function oo(e,i,a){if(e.subtreeFlags&zl)for(e=e.child;e!==null;)ov(e,i,a),e=e.sibling}function ov(e,i,a){switch(e.tag){case 26:oo(e,i,a),e.flags&zl&&e.memoizedState!==null&&_1(a,di,e.memoizedState,e.memoizedProps);break;case 5:oo(e,i,a);break;case 3:case 4:var l=di;di=uh(e.stateNode.containerInfo),oo(e,i,a),di=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=zl,zl=16777216,oo(e,i,a),zl=l):oo(e,i,a));break;default:oo(e,i,a)}}function lv(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function jl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ke=l,cv(l,e)}lv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)uv(e),e=e.sibling}function uv(e){switch(e.tag){case 0:case 11:case 15:jl(e),e.flags&2048&&Wr(9,e,e.return);break;case 3:jl(e);break;case 12:jl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Zc(e)):jl(e);break;default:jl(e)}}function Zc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ke=l,cv(l,e)}lv(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Wr(8,i,i.return),Zc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Zc(i));break;default:Zc(i)}e=e.sibling}}function cv(e,i){for(;Ke!==null;){var a=Ke;switch(a.tag){case 0:case 11:case 15:Wr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ke=l;else t:for(a=e;Ke!==null;){l=Ke;var h=l.sibling,d=l.return;if(tv(l),l===a){Ke=null;break t}if(h!==null){h.return=d,Ke=h;break t}Ke=d}}}var MA={getCacheForType:function(e){var i=We(xe),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return We(xe).controller.signal}},VA=typeof WeakMap=="function"?WeakMap:Map,Zt=0,ae=null,Mt=null,Ut=0,te=0,kn=null,ts=!1,lo=!1,sm=!1,yr=0,ve=0,es=0,ha=0,am=0,Ln=0,uo=0,Bl=null,An=null,om=!1,$c=0,hv=0,Jc=1/0,Wc=null,ns=null,Fe=0,is=null,co=null,_r=0,lm=0,um=null,fv=null,ql=0,cm=null;function Pn(){return(Zt&2)!==0&&Ut!==0?Ut&-Ut:F.T!==null?pm():tc()}function dv(){if(Ln===0)if((Ut&536870912)===0||qt){var e=Ps;Ps<<=1,(Ps&3932160)===0&&(Ps=262144),Ln=e}else Ln=536870912;return e=Vn.current,e!==null&&(e.flags|=32),Ln}function wn(e,i,a){(e===ae&&(te===2||te===9)||e.cancelPendingCommit!==null)&&(ho(e,0),rs(e,Ut,Ln,!1)),zs(e,a),((Zt&2)===0||e!==ae)&&(e===ae&&((Zt&2)===0&&(ha|=a),ve===4&&rs(e,Ut,Ln,!1)),Hi(e))}function mv(e,i,a){if((Zt&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||ri(e,i),h=l?LA(e,i):fm(e,i,!0),d=l;do{if(h===0){lo&&!l&&rs(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!UA(a)){h=fm(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var T=e;h=Bl;var D=T.current.memoizedState.isDehydrated;if(D&&(ho(T,_).flags|=256),_=fm(T,_,!1),_!==2){if(sm&&!D){T.errorRecoveryDisabledLanes|=d,ha|=d,h=4;break t}d=An,An=h,d!==null&&(An===null?An=d:An.push.apply(An,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){ho(e,0),rs(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:rs(l,i,Ln,!ts);break t;case 2:An=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=$c+300-dn(),10<h)){if(rs(l,i,Ln,!ts),wi(l,0,!0)!==0)break t;_r=i,l.timeoutHandle=Gv(gv.bind(null,l,a,An,Wc,om,i,Ln,ha,uo,ts,d,"Throttled",-0,0),h);break t}gv(l,a,An,Wc,om,i,Ln,ha,uo,ts,d,null,-0,0)}}break}while(!0);Hi(e)}function gv(e,i,a,l,h,d,_,T,D,z,Y,$,j,q){if(e.timeoutHandle=-1,$=i.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oi},ov(i,d,$);var dt=(d&62914560)===d?$c-dn():(d&4194048)===d?hv-dn():0;if(dt=v1($,dt),dt!==null){_r=d,e.cancelPendingCommit=dt(Sv.bind(null,e,i,d,a,l,h,_,T,D,Y,$,null,j,q)),rs(e,d,_,!z);return}}Sv(e,i,d,a,l,h,_,T,D)}function UA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!xn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function rs(e,i,a,l){i&=~am,i&=~ha,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-be(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&js(e,a,i)}function th(){return(Zt&6)===0?(Hl(0),!1):!0}function hm(){if(Mt!==null){if(te===0)var e=Mt.return;else e=Mt,or=na=null,Cd(e),eo=null,wl=0,e=Mt;for(;e!==null;)Y_(e.alternate,e),e=e.return;Mt=null}}function ho(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,e1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),_r=0,hm(),ae=e,Mt=a=sr(e.current,null),Ut=i,te=0,kn=null,ts=!1,lo=ri(e,i),sm=!1,uo=Ln=am=ha=es=ve=0,An=Bl=null,om=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-be(l),d=1<<h;i|=e[h],l&=~d}return yr=i,Tc(),a}function pv(e,i){Nt=null,F.H=Ml,i===to||i===Dc?(i=xy(),te=3):i===gd?(i=xy(),te=4):te=i===Hd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,kn=i,Mt===null&&(ve=1,Hc(e,Kn(i,e.current)))}function yv(){var e=Vn.current;return e===null?!0:(Ut&4194048)===Ut?Jn===null:(Ut&62914560)===Ut||(Ut&536870912)!==0?e===Jn:!1}function _v(){var e=F.H;return F.H=Ml,e===null?Ml:e}function vv(){var e=F.A;return F.A=MA,e}function eh(){ve=4,ts||(Ut&4194048)!==Ut&&Vn.current!==null||(lo=!0),(es&134217727)===0&&(ha&134217727)===0||ae===null||rs(ae,Ut,Ln,!1)}function fm(e,i,a){var l=Zt;Zt|=2;var h=_v(),d=vv();(ae!==e||Ut!==i)&&(Wc=null,ho(e,i)),i=!1;var _=ve;t:do try{if(te!==0&&Mt!==null){var T=Mt,D=kn;switch(te){case 8:hm(),_=6;break t;case 3:case 2:case 9:case 6:Vn.current===null&&(i=!0);var z=te;if(te=0,kn=null,fo(e,T,D,z),a&&lo){_=0;break t}break;default:z=te,te=0,kn=null,fo(e,T,D,z)}}kA(),_=ve;break}catch(Y){pv(e,Y)}while(!0);return i&&e.shellSuspendCounter++,or=na=null,Zt=l,F.H=h,F.A=d,Mt===null&&(ae=null,Ut=0,Tc()),_}function kA(){for(;Mt!==null;)Ev(Mt)}function LA(e,i){var a=Zt;Zt|=2;var l=_v(),h=vv();ae!==e||Ut!==i?(Wc=null,Jc=dn()+500,ho(e,i)):lo=ri(e,i);t:do try{if(te!==0&&Mt!==null){i=Mt;var d=kn;e:switch(te){case 1:te=0,kn=null,fo(e,i,d,1);break;case 2:case 9:if(Ny(d)){te=0,kn=null,Tv(i);break}i=function(){te!==2&&te!==9||ae!==e||(te=7),Hi(e)},d.then(i,i);break t;case 3:te=7;break t;case 4:te=5;break t;case 7:Ny(d)?(te=0,kn=null,Tv(i)):(te=0,kn=null,fo(e,i,d,7));break;case 5:var _=null;switch(Mt.tag){case 26:_=Mt.memoizedState;case 5:case 27:var T=Mt;if(_?aE(_):T.stateNode.complete){te=0,kn=null;var D=T.sibling;if(D!==null)Mt=D;else{var z=T.return;z!==null?(Mt=z,nh(z)):Mt=null}break e}}te=0,kn=null,fo(e,i,d,5);break;case 6:te=0,kn=null,fo(e,i,d,6);break;case 8:hm(),ve=6;break t;default:throw Error(r(462))}}PA();break}catch(Y){pv(e,Y)}while(!0);return or=na=null,F.H=l,F.A=h,Zt=a,Mt!==null?0:(ae=null,Ut=0,Tc(),ve)}function PA(){for(;Mt!==null&&!qf();)Ev(Mt)}function Ev(e){var i=F_(e.alternate,e,yr);e.memoizedProps=e.pendingProps,i===null?nh(e):Mt=i}function Tv(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=P_(a,i,i.pendingProps,i.type,void 0,Ut);break;case 11:i=P_(a,i,i.pendingProps,i.type.render,i.ref,Ut);break;case 5:Cd(i);default:Y_(a,i),i=Mt=vy(i,yr),i=F_(a,i,yr)}e.memoizedProps=e.pendingProps,i===null?nh(e):Mt=i}function fo(e,i,a,l){or=na=null,Cd(i),eo=null,wl=0;var h=i.return;try{if(RA(e,h,i,a,Ut)){ve=1,Hc(e,Kn(a,e.current)),Mt=null;return}}catch(d){if(h!==null)throw Mt=h,d;ve=1,Hc(e,Kn(a,e.current)),Mt=null;return}i.flags&32768?(qt||l===1?e=!0:lo||(Ut&536870912)!==0?e=!1:(ts=e=!0,(l===2||l===9||l===3||l===6)&&(l=Vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),bv(i,e)):nh(i)}function nh(e){var i=e;do{if((i.flags&32768)!==0){bv(i,ts);return}e=i.return;var a=DA(i.alternate,i,yr);if(a!==null){Mt=a;return}if(i=i.sibling,i!==null){Mt=i;return}Mt=i=e}while(i!==null);ve===0&&(ve=5)}function bv(e,i){do{var a=NA(e.alternate,e);if(a!==null){a.flags&=32767,Mt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=a}while(e!==null);ve=6,Mt=null}function Sv(e,i,a,l,h,d,_,T,D){e.cancelPendingCommit=null;do ih();while(Fe!==0);if((Zt&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=td,Gf(e,a,d,_,T,D),e===ae&&(Mt=ae=null,Ut=0),co=i,is=e,_r=a,lm=d,um=h,fv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,qA(Vr,function(){return Iv(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=st.p,st.p=2,_=Zt,Zt|=4;try{OA(e,i,a)}finally{Zt=_,st.p=h,F.T=l}}Fe=1,Av(),wv(),Rv()}}function Av(){if(Fe===1){Fe=0;var e=is,i=co,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=st.p;st.p=2;var h=Zt;Zt|=4;try{rv(i,e);var d=Am,_=cy(e.containerInfo),T=d.focusedElem,D=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&uy(T.ownerDocument.documentElement,T)){if(D!==null&&Xf(T)){var z=D.start,Y=D.end;if(Y===void 0&&(Y=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Y,T.value.length);else{var $=T.ownerDocument||document,j=$&&$.defaultView||window;if(j.getSelection){var q=j.getSelection(),dt=T.textContent.length,_t=Math.min(D.start,dt),se=D.end===void 0?_t:Math.min(D.end,dt);!q.extend&&_t>se&&(_=se,se=_t,_t=_);var V=ly(T,_t),O=ly(T,se);if(V&&O&&(q.rangeCount!==1||q.anchorNode!==V.node||q.anchorOffset!==V.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var P=$.createRange();P.setStart(V.node,V.offset),q.removeAllRanges(),_t>se?(q.addRange(P),q.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),q.addRange(P))}}}}for($=[],q=T;q=q.parentNode;)q.nodeType===1&&$.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var Q=$[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}gh=!!Sm,Am=Sm=null}finally{Zt=h,st.p=l,F.T=a}}e.current=i,Fe=2}}function wv(){if(Fe===2){Fe=0;var e=is,i=co,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=st.p;st.p=2;var h=Zt;Zt|=4;try{W_(e,i.alternate,i)}finally{Zt=h,st.p=l,F.T=a}}Fe=3}}function Rv(){if(Fe===4||Fe===3){Fe=0,Qu();var e=is,i=co,a=_r,l=fv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Fe=5:(Fe=0,co=is=null,Cv(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ns=null),er(a),i=i.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(ii,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=F.T,h=st.p,st.p=2,F.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{F.T=i,st.p=h}}(_r&3)!==0&&ih(),Hi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===cm?ql++:(ql=0,cm=e):ql=0,Hl(0)}}function Cv(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Sl(i)))}function ih(){return Av(),wv(),Rv(),Iv()}function Iv(){if(Fe!==5)return!1;var e=is,i=lm;lm=0;var a=er(_r),l=F.T,h=st.p;try{st.p=32>a?32:a,F.T=null,a=um,um=null;var d=is,_=_r;if(Fe=0,co=is=null,_r=0,(Zt&6)!==0)throw Error(r(331));var T=Zt;if(Zt|=4,uv(d.current),av(d,d.current,_,a),Zt=T,Hl(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(ii,d)}catch{}return!0}finally{st.p=h,F.T=l,Cv(e,i)}}function Dv(e,i,a){i=Kn(a,i),i=qd(e.stateNode,i,2),e=Zr(e,i,2),e!==null&&(zs(e,2),Hi(e))}function ee(e,i,a){if(e.tag===3)Dv(e,e,a);else for(;i!==null;){if(i.tag===3){Dv(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ns===null||!ns.has(l))){e=Kn(a,e),a=N_(2),l=Zr(i,a,2),l!==null&&(O_(a,l,i,e),zs(l,2),Hi(l));break}}i=i.return}}function dm(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new VA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(sm=!0,h.add(a),e=zA.bind(null,e,i,a),i.then(e,e))}function zA(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ae===e&&(Ut&a)===a&&(ve===4||ve===3&&(Ut&62914560)===Ut&&300>dn()-$c?(Zt&2)===0&&ho(e,0):am|=a,uo===Ut&&(uo=0)),Hi(e)}function Nv(e,i){i===0&&(i=Wu()),e=Ws(e,i),e!==null&&(zs(e,i),Hi(e))}function jA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Nv(e,a)}function BA(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),Nv(e,a)}function qA(e,i){return He(e,i)}var rh=null,mo=null,mm=!1,sh=!1,gm=!1,ss=0;function Hi(e){e!==mo&&e.next===null&&(mo===null?rh=mo=e:mo=mo.next=e),sh=!0,mm||(mm=!0,FA())}function Hl(e,i){if(!gm&&sh){gm=!0;do for(var a=!1,l=rh;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-be(42|e)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Vv(l,d))}else d=Ut,d=wi(l,l===ae?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ri(l,d)||(a=!0,Vv(l,d));l=l.next}while(a);gm=!1}}function HA(){Ov()}function Ov(){sh=mm=!1;var e=0;ss!==0&&t1()&&(e=ss);for(var i=dn(),a=null,l=rh;l!==null;){var h=l.next,d=xv(l,i);d===0?(l.next=null,a===null?rh=h:a.next=h,h===null&&(mo=a)):(a=l,(e!==0||(d&3)!==0)&&(sh=!0)),l=h}Fe!==0&&Fe!==5||Hl(e),ss!==0&&(ss=0)}function xv(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-be(d),T=1<<_,D=h[_];D===-1?((T&a)===0||(T&l)!==0)&&(h[_]=Ff(T,i)):D<=i&&(e.expiredLanes|=T),d&=~T}if(i=ae,a=Ut,a=wi(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(te===2||te===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Mr(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ri(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&Mr(l),er(a)){case 2:case 8:a=Wo;break;case 32:a=Vr;break;case 268435456:a=Ku;break;default:a=Vr}return l=Mv.bind(null,e),a=He(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&Mr(l),e.callbackPriority=2,e.callbackNode=null,2}function Mv(e,i){if(Fe!==0&&Fe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ih()&&e.callbackNode!==a)return null;var l=Ut;return l=wi(e,e===ae?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(mv(e,l,i),xv(e,dn()),e.callbackNode!=null&&e.callbackNode===a?Mv.bind(null,e):null)}function Vv(e,i){if(ih())return null;mv(e,i,!0)}function FA(){n1(function(){(Zt&6)!==0?He(Jo,HA):Ov()})}function pm(){if(ss===0){var e=Ja;e===0&&(e=Si,Si<<=1,(Si&261888)===0&&(Si=256)),ss=e}return ss}function Uv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:La(""+e)}function kv(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function GA(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Uv((h[Ye]||null).action),_=l.submitter;_&&(i=(i=_[Ye]||null)?Uv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new ki("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ss!==0){var D=_?kv(h,_):new FormData(h);kd(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(T.preventDefault(),D=_?kv(h,_):new FormData(h),kd(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var ym=0;ym<Wf.length;ym++){var _m=Wf[ym],YA=_m.toLowerCase(),QA=_m[0].toUpperCase()+_m.slice(1);fi(YA,"on"+QA)}fi(dy,"onAnimationEnd"),fi(my,"onAnimationIteration"),fi(gy,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(uA,"onTransitionRun"),fi(cA,"onTransitionStart"),fi(hA,"onTransitionCancel"),fi(py,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fl));function Lv(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],D=T.instance,z=T.currentTarget;if(T=T.listener,D!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(Y){Ec(Y)}h.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(T=l[_],D=T.instance,z=T.currentTarget,T=T.listener,D!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(Y){Ec(Y)}h.currentTarget=null,d=D}}}}function Vt(e,i){var a=i[xa];a===void 0&&(a=i[xa]=new Set);var l=e+"__bubble";a.has(l)||(Pv(i,e,2,!1),a.add(l))}function vm(e,i,a){var l=0;i&&(l|=4),Pv(a,e,l,i)}var ah="_reactListening"+Math.random().toString(36).slice(2);function Em(e){if(!e[ah]){e[ah]=!0,nl.forEach(function(a){a!=="selectionchange"&&(KA.has(a)||vm(a,!1,e),vm(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[ah]||(i[ah]=!0,vm("selectionchange",!1,i))}}function Pv(e,i,a,l){switch(dE(i)){case 2:var h=b1;break;case 8:h=S1;break;default:h=Um}a=h.bind(null,i,a,e),h=void 0,!Gs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Tm(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=Di(T),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue t}T=T.parentNode}}l=l.return}jr(function(){var z=d,Y=Fn(a),$=[];t:{var j=yy.get(e);if(j!==void 0){var q=ki,dt=e;switch(e){case"keypress":if(Qs(a)===0)break t;case"keydown":case"keyup":q=yc;break;case"focusin":dt="focus",q=Xs;break;case"focusout":dt="blur",q=Xs;break;case"beforeblur":case"afterblur":q=Xs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=gl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=lc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=g;break;case dy:case my:case gy:q=cc;break;case py:q=S;break;case"scroll":case"scrollend":q=ml;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=hc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=rr;break;case"toggle":case"beforetoggle":q=Dt}var _t=(i&4)!==0,se=!_t&&(e==="scroll"||e==="scrollend"),V=_t?j!==null?j+"Capture":null:j;_t=[];for(var O=z,P;O!==null;){var Q=O;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||V===null||(Q=li(O,V),Q!=null&&_t.push(Gl(O,Q,P))),se)break;O=O.return}0<_t.length&&(j=new q(j,dt,null,a,Y),$.push({event:j,listeners:_t}))}}if((i&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&a!==hl&&(dt=a.relatedTarget||a.fromElement)&&(Di(dt)||dt[Ci]))break t;if((q||j)&&(j=Y.window===Y?Y:(j=Y.ownerDocument)?j.defaultView||j.parentWindow:window,q?(dt=a.relatedTarget||a.toElement,q=z,dt=dt?Di(dt):null,dt!==null&&(se=u(dt),_t=dt.tag,dt!==se||_t!==5&&_t!==27&&_t!==6)&&(dt=null)):(q=null,dt=z),q!==dt)){if(_t=gl,Q="onMouseLeave",V="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(_t=rr,Q="onPointerLeave",V="onPointerEnter",O="pointer"),se=q==null?j:Nn(q),P=dt==null?j:Nn(dt),j=new _t(Q,O+"leave",q,a,Y),j.target=se,j.relatedTarget=P,Q=null,Di(Y)===z&&(_t=new _t(V,O+"enter",dt,a,Y),_t.target=P,_t.relatedTarget=se,Q=_t),se=Q,q&&dt)e:{for(_t=XA,V=q,O=dt,P=0,Q=V;Q;Q=_t(Q))P++;Q=0;for(var pt=O;pt;pt=_t(pt))Q++;for(;0<P-Q;)V=_t(V),P--;for(;0<Q-P;)O=_t(O),Q--;for(;P--;){if(V===O||O!==null&&V===O.alternate){_t=V;break e}V=_t(V),O=_t(O)}_t=null}else _t=null;q!==null&&zv($,j,q,_t,!1),dt!==null&&se!==null&&zv($,se,dt,_t,!0)}}t:{if(j=z?Nn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Qt=ny;else if(ty(j))if(iy)Qt=aA;else{Qt=rA;var mt=iA}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ka(z.elementType)&&(Qt=ny):Qt=sA;if(Qt&&(Qt=Qt(e,z))){ey($,Qt,a,Y);break t}mt&&mt(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&ll(j,"number",j.value)}switch(mt=z?Nn(z):window,e){case"focusin":(ty(mt)||mt.contentEditable==="true")&&(Fa=mt,Zf=z,El=null);break;case"focusout":El=Zf=Fa=null;break;case"mousedown":$f=!0;break;case"contextmenu":case"mouseup":case"dragend":$f=!1,hy($,a,Y);break;case"selectionchange":if(lA)break;case"keydown":case"keyup":hy($,a,Y)}var xt;if(Xt)t:{switch(e){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else Ha?Zs(e,a)&&(kt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(kt="onCompositionStart");kt&&(zi&&a.locale!=="ko"&&(Ha||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&Ha&&(xt=dl()):(Ui=Y,fl="value"in Ui?Ui.value:Ui.textContent,Ha=!0)),mt=oh(z,kt),0<mt.length&&(kt=new Pi(kt,e,null,a,Y),$.push({event:kt,listeners:mt}),xt?kt.data=xt:(xt=qa(a),xt!==null&&(kt.data=xt)))),(xt=Yn?WS(e,a):tA(e,a))&&(kt=oh(z,"onBeforeInput"),0<kt.length&&(mt=new Pi("onBeforeInput","beforeinput",null,a,Y),$.push({event:mt,listeners:kt}),mt.data=xt)),GA($,e,z,a,Y)}Lv($,i)})}function Gl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function oh(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=li(e,a),h!=null&&l.unshift(Gl(e,h,d)),h=li(e,i),h!=null&&l.push(Gl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function XA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function zv(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,D=T.alternate,z=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||z===null||(D=z,h?(z=li(a,d),z!=null&&_.unshift(Gl(a,z,D))):h||(z=li(a,d),z!=null&&_.push(Gl(a,z,D)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var ZA=/\r\n?/g,$A=/\u0000|\uFFFD/g;function jv(e){return(typeof e=="string"?e:""+e).replace(ZA,`
`).replace($A,"")}function Bv(e,i){return i=jv(i),jv(e)===i}function re(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||En(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&En(e,""+l);break;case"className":On(e,"class",l);break;case"tabIndex":On(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":On(e,a,l);break;case"style":cl(e,l,d);break;case"data":if(i!=="object"){On(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=La(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&re(e,i,"name",h.name,h,null),re(e,i,"formEncType",h.formEncType,h,null),re(e,i,"formMethod",h.formMethod,h,null),re(e,i,"formTarget",h.formTarget,h,null)):(re(e,i,"encType",h.encType,h,null),re(e,i,"method",h.method,h,null),re(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=La(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=oi);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=La(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),Va(e,"popover",l);break;case"xlinkActuate":Oe(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Oe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Oe(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Oe(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Oe(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Oe(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Va(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=oc.get(a)||a,Va(e,a,l))}}function bm(e,i,a,l,h,d){switch(a){case"style":cl(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?En(e,l):(typeof l=="number"||typeof l=="bigint")&&En(e,""+l);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!il.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Ye]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Va(e,a,l)}}}function en(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:re(e,i,d,_,a,null)}}h&&re(e,i,"srcSet",a.srcSet,a,null),l&&re(e,i,"src",a.src,a,null);return;case"input":Vt("invalid",e);var T=d=_=h=null,D=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":_=Y;break;case"checked":D=Y;break;case"defaultChecked":z=Y;break;case"value":d=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,i));break;default:re(e,i,l,Y,a,null)}}rc(e,d,T,D,z,_,h,!1);return;case"select":Vt("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:re(e,i,h,T,a,null)}i=d,a=_,e.multiple=!!l,i!=null?kr(e,!!l,i,!1):a!=null&&kr(e,!!l,a,!0);return;case"textarea":Vt("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:re(e,i,_,T,a,null)}Lr(e,l,h,d);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:re(e,i,D,l,a,null)}return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(l=0;l<Fl.length;l++)Vt(Fl[l],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:re(e,i,z,l,a,null)}return;default:if(ka(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&bm(e,i,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&re(e,i,T,l,a,null))}function JA(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,D=null,z=null,Y=null;for(q in a){var $=a[q];if(a.hasOwnProperty(q)&&$!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":D=$;default:l.hasOwnProperty(q)||re(e,i,q,null,l,$)}}for(var j in l){var q=l[j];if($=a[j],l.hasOwnProperty(j)&&(q!=null||$!=null))switch(j){case"type":d=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":Y=q;break;case"value":_=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,i));break;default:q!==$&&re(e,i,j,q,l,$)}}Ua(e,_,T,D,z,Y,d,h);return;case"select":q=_=T=j=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":q=D;default:l.hasOwnProperty(d)||re(e,i,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":j=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==D&&re(e,i,h,d,l,D)}i=T,a=_,l=q,j!=null?kr(e,!!a,j,!1):!!l!=!!a&&(i!=null?kr(e,!!a,i,!0):kr(e,!!a,a?[]:"",!1));return;case"textarea":q=j=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:re(e,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&re(e,i,_,h,l,d)}sc(e,j,q);return;case"option":for(var dt in a)if(j=a[dt],a.hasOwnProperty(dt)&&j!=null&&!l.hasOwnProperty(dt))switch(dt){case"selected":e.selected=!1;break;default:re(e,i,dt,null,l,j)}for(D in l)if(j=l[D],q=a[D],l.hasOwnProperty(D)&&j!==q&&(j!=null||q!=null))switch(D){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:re(e,i,D,j,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)j=a[_t],a.hasOwnProperty(_t)&&j!=null&&!l.hasOwnProperty(_t)&&re(e,i,_t,null,l,j);for(z in l)if(j=l[z],q=a[z],l.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,i));break;default:re(e,i,z,j,l,q)}return;default:if(ka(i)){for(var se in a)j=a[se],a.hasOwnProperty(se)&&j!==void 0&&!l.hasOwnProperty(se)&&bm(e,i,se,void 0,l,j);for(Y in l)j=l[Y],q=a[Y],!l.hasOwnProperty(Y)||j===q||j===void 0&&q===void 0||bm(e,i,Y,j,l,q);return}}for(var V in a)j=a[V],a.hasOwnProperty(V)&&j!=null&&!l.hasOwnProperty(V)&&re(e,i,V,null,l,j);for($ in l)j=l[$],q=a[$],!l.hasOwnProperty($)||j===q||j==null&&q==null||re(e,i,$,j,l,q)}function qv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function WA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&qv(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var D=a[l],z=D.startTime;if(z>T)break;var Y=D.transferSize,$=D.initiatorType;Y&&qv($)&&(D=D.responseEnd,_+=Y*(D<T?1:(T-z)/(D-z)))}if(--l,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Sm=null,Am=null;function lh(e){return e.nodeType===9?e:e.ownerDocument}function Hv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function wm(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Rm=null;function t1(){var e=window.event;return e&&e.type==="popstate"?e===Rm?!1:(Rm=e,!0):(Rm=null,!1)}var Gv=typeof setTimeout=="function"?setTimeout:void 0,e1=typeof clearTimeout=="function"?clearTimeout:void 0,Yv=typeof Promise=="function"?Promise:void 0,n1=typeof queueMicrotask=="function"?queueMicrotask:typeof Yv<"u"?function(e){return Yv.resolve(null).then(e).catch(i1)}:Gv;function i1(e){setTimeout(function(){throw e})}function as(e){return e==="head"}function Qv(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),_o(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Yl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Yl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[Ii]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Yl(e.ownerDocument.body);a=h}while(a);_o(i)}function Kv(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Cm(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Cm(a),Ma(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function r1(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ii])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Wn(e.nextSibling),e===null)break}return null}function s1(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Wn(e.nextSibling),e===null))return null;return e}function Xv(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Wn(e.nextSibling),e===null))return null;return e}function Im(e){return e.data==="$?"||e.data==="$~"}function Dm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function a1(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Wn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Nm=null;function Zv(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Wn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function $v(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function Jv(e,i,a){switch(i=lh(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Yl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Ma(e)}var ti=new Map,Wv=new Set;function uh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var vr=st.d;st.d={f:o1,r:l1,D:u1,C:c1,L:h1,m:f1,X:m1,S:d1,M:g1};function o1(){var e=vr.f(),i=th();return e||i}function l1(e){var i=Hn(e);i!==null&&i.tag===5&&i.type==="form"?p_(i):vr.r(e)}var go=typeof document>"u"?null:document;function tE(e,i,a){var l=go;if(l&&typeof i=="string"&&i){var h=vn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Wv.has(h)||(Wv.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),en(i,"link",e),Ne(i),l.head.appendChild(i)))}}function u1(e){vr.D(e),tE("dns-prefetch",e,null)}function c1(e,i){vr.C(e,i),tE("preconnect",e,i)}function h1(e,i,a){vr.L(e,i,a);var l=go;if(l&&e&&i){var h='link[rel="preload"][as="'+vn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+vn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+vn(a.imageSizes)+'"]')):h+='[href="'+vn(e)+'"]';var d=h;switch(i){case"style":d=po(e);break;case"script":d=yo(e)}ti.has(d)||(e=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),ti.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(Ql(d))||i==="script"&&l.querySelector(Kl(d))||(i=l.createElement("link"),en(i,"link",e),Ne(i),l.head.appendChild(i)))}}function f1(e,i){vr.m(e,i);var a=go;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+vn(l)+'"][href="'+vn(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=yo(e)}if(!ti.has(d)&&(e=b({rel:"modulepreload",href:e},i),ti.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Kl(d)))return}l=a.createElement("link"),en(l,"link",e),Ne(l),a.head.appendChild(l)}}}function d1(e,i,a){vr.S(e,i,a);var l=go;if(l&&e){var h=Ni(l).hoistableStyles,d=po(e);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Ql(d)))T.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":i},a),(a=ti.get(d))&&Om(e,a);var D=_=l.createElement("link");Ne(D),en(D,"link",e),D._p=new Promise(function(z,Y){D.onload=z,D.onerror=Y}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,ch(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function m1(e,i){vr.X(e,i);var a=go;if(a&&e){var l=Ni(a).hoistableScripts,h=yo(e),d=l.get(h);d||(d=a.querySelector(Kl(h)),d||(e=b({src:e,async:!0},i),(i=ti.get(h))&&xm(e,i),d=a.createElement("script"),Ne(d),en(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function g1(e,i){vr.M(e,i);var a=go;if(a&&e){var l=Ni(a).hoistableScripts,h=yo(e),d=l.get(h);d||(d=a.querySelector(Kl(h)),d||(e=b({src:e,async:!0,type:"module"},i),(i=ti.get(h))&&xm(e,i),d=a.createElement("script"),Ne(d),en(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function eE(e,i,a,l){var h=(h=Ot.current)?uh(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=po(a.href),a=Ni(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=po(a.href);var d=Ni(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(Ql(e)))&&!d._p&&(_.instance=d,_.state.loading=5),ti.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ti.set(e,a),d||p1(h,e,a,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=yo(a),a=Ni(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function po(e){return'href="'+vn(e)+'"'}function Ql(e){return'link[rel="stylesheet"]['+e+"]"}function nE(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function p1(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),en(i,"link",a),Ne(i),e.head.appendChild(i))}function yo(e){return'[src="'+vn(e)+'"]'}function Kl(e){return"script[async]"+e}function iE(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+vn(a.href)+'"]');if(l)return i.instance=l,Ne(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ne(l),en(l,"style",h),ch(l,a.precedence,e),i.instance=l;case"stylesheet":h=po(a.href);var d=e.querySelector(Ql(h));if(d)return i.state.loading|=4,i.instance=d,Ne(d),d;l=nE(a),(h=ti.get(h))&&Om(l,h),d=(e.ownerDocument||e).createElement("link"),Ne(d);var _=d;return _._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),en(d,"link",l),i.state.loading|=4,ch(d,a.precedence,e),i.instance=d;case"script":return d=yo(a.src),(h=e.querySelector(Kl(d)))?(i.instance=h,Ne(h),h):(l=a,(h=ti.get(d))&&(l=b({},a),xm(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ne(h),en(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,ch(l,a.precedence,e));return i.instance}function ch(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Om(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function xm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var hh=null;function rE(e,i,a){if(hh===null){var l=new Map,h=hh=new Map;h.set(a,l)}else h=hh,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Ii]||d[De]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function sE(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function y1(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function aE(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function _1(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=po(l.href),d=i.querySelector(Ql(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=fh.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Ne(d);return}d=i.ownerDocument||i,l=nE(l),(h=ti.get(h))&&Om(l,h),d=d.createElement("link"),Ne(d);var _=d;_._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),en(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=fh.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Mm=0;function v1(e,i){return e.stylesheets&&e.count===0&&mh(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&mh(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&Mm===0&&(Mm=62500*WA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&mh(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Mm?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function fh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var dh=null;function mh(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,dh=new Map,i.forEach(E1,e),dh=null,fh.call(e))}function E1(e,i){if(!(i.state.loading&4)){var a=dh.get(e);if(a)var l=a.get(null);else{a=new Map,dh.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=fh.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Xl={$$typeof:et,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function T1(e,i,a,l,h,d,_,T,D){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ri(0),this.hiddenUpdates=Ri(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function oE(e,i,a,l,h,d,_,T,D,z,Y,$){return e=new T1(e,i,a,_,D,z,Y,$,T),i=1,d===!0&&(i|=24),d=Mn(3,null,null,i),e.current=d,d.stateNode=e,i=fd(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},pd(d),e}function lE(e){return e?(e=Qa,e):Qa}function uE(e,i,a,l,h,d){h=lE(h),l.context===null?l.context=h:l.pendingContext=h,l=Xr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Zr(e,l,i),a!==null&&(wn(a,e,i),Cl(a,e,i))}function cE(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Vm(e,i){cE(e,i),(e=e.alternate)&&cE(e,i)}function hE(e){if(e.tag===13||e.tag===31){var i=Ws(e,67108864);i!==null&&wn(i,e,67108864),Vm(e,67108864)}}function fE(e){if(e.tag===13||e.tag===31){var i=Pn();i=Bs(i);var a=Ws(e,i);a!==null&&wn(a,e,i),Vm(e,i)}}var gh=!0;function b1(e,i,a,l){var h=F.T;F.T=null;var d=st.p;try{st.p=2,Um(e,i,a,l)}finally{st.p=d,F.T=h}}function S1(e,i,a,l){var h=F.T;F.T=null;var d=st.p;try{st.p=8,Um(e,i,a,l)}finally{st.p=d,F.T=h}}function Um(e,i,a,l){if(gh){var h=km(l);if(h===null)Tm(e,i,l,ph,a),mE(e,l);else if(w1(h,e,i,a,l))l.stopPropagation();else if(mE(e,l),i&4&&-1<A1.indexOf(e)){for(;h!==null;){var d=Hn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Ai(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var D=1<<31-be(_);T.entanglements[1]|=D,_&=~D}Hi(d),(Zt&6)===0&&(Jc=dn()+500,Hl(0))}}break;case 31:case 13:T=Ws(d,2),T!==null&&wn(T,d,2),th(),Vm(d,2)}if(d=km(l),d===null&&Tm(e,i,l,ph,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Tm(e,i,l,null,a)}}function km(e){return e=Fn(e),Lm(e)}var ph=null;function Lm(e){if(ph=null,e=Di(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return ph=e,null}function dE(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ls()){case Jo:return 2;case Wo:return 8;case Vr:case Hf:return 32;case Ku:return 268435456;default:return 32}default:return 32}}var Pm=!1,os=null,ls=null,us=null,Zl=new Map,$l=new Map,cs=[],A1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mE(e,i){switch(e){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":Zl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(i.pointerId)}}function Jl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Hn(i),i!==null&&hE(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function w1(e,i,a,l,h){switch(i){case"focusin":return os=Jl(os,e,i,a,l,h),!0;case"dragenter":return ls=Jl(ls,e,i,a,l,h),!0;case"mouseover":return us=Jl(us,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Zl.set(d,Jl(Zl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,$l.set(d,Jl($l.get(d)||null,e,i,a,l,h)),!0}return!1}function gE(e){var i=Di(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,si(e.priority,function(){fE(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,si(e.priority,function(){fE(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yh(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=km(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);hl=l,a.target.dispatchEvent(l),hl=null}else return i=Hn(a),i!==null&&hE(i),e.blockedOn=a,!1;i.shift()}return!0}function pE(e,i,a){yh(e)&&a.delete(i)}function R1(){Pm=!1,os!==null&&yh(os)&&(os=null),ls!==null&&yh(ls)&&(ls=null),us!==null&&yh(us)&&(us=null),Zl.forEach(pE),$l.forEach(pE)}function _h(e,i){e.blockedOn===i&&(e.blockedOn=null,Pm||(Pm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,R1)))}var vh=null;function yE(e){vh!==e&&(vh=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){vh===e&&(vh=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Lm(l||a)===null)continue;break}var d=Hn(a);d!==null&&(e.splice(i,3),i-=3,kd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function _o(e){function i(D){return _h(D,e)}os!==null&&_h(os,e),ls!==null&&_h(ls,e),us!==null&&_h(us,e),Zl.forEach(i),$l.forEach(i);for(var a=0;a<cs.length;a++){var l=cs[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<cs.length&&(a=cs[0],a.blockedOn===null);)gE(a),a.blockedOn===null&&cs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Ye]||null;if(typeof d=="function")_||yE(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Ye]||null)T=_.formAction;else if(Lm(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),yE(a)}}}function _E(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function zm(e){this._internalRoot=e}Eh.prototype.render=zm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=Pn();uE(a,l,e,i,null,null)},Eh.prototype.unmount=zm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;uE(e.current,2,null,e,null,null),th(),i[Ci]=null}};function Eh(e){this._internalRoot=e}Eh.prototype.unstable_scheduleHydration=function(e){if(e){var i=tc();e={blockedOn:null,target:e,priority:i};for(var a=0;a<cs.length&&i!==0&&i<cs[a].priority;a++);cs.splice(a,0,e),a===0&&gE(e)}};var vE=t.version;if(vE!=="19.2.0")throw Error(r(527,vE,"19.2.0"));st.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var C1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Th.isDisabled&&Th.supportsFiber)try{ii=Th.inject(C1),Ze=Th}catch{}}return tu.createRoot=function(e,i){if(!o(e))throw Error(r(299));var a=!1,l="",h=R_,d=C_,_=I_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=oE(e,1,!1,null,null,a,l,null,h,d,_,_E),e[Ci]=i.current,Em(e),new zm(i)},tu.hydrateRoot=function(e,i,a){if(!o(e))throw Error(r(299));var l=!1,h="",d=R_,_=C_,T=I_,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=oE(e,1,!0,i,a??null,l,h,D,d,_,T,_E),i.context=lE(null),a=i.current,l=Pn(),l=Bs(l),h=Xr(l),h.callback=null,Zr(a,h,l),a=l,i.current.lanes=a,zs(i,a),Hi(i),e[Ci]=i.current,Em(e),new Eh(i)},tu.version="19.2.0",tu}var DE;function P1(){if(DE)return qm.exports;DE=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),qm.exports=L1(),qm.exports}var z1=P1();const j1=gT(z1),B1=()=>{};var NE={};const pT=function(s){const t=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},q1=function(s){const t=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],f=s[n++],m=s[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=s[n++],f=s[n++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},yT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,m=f?s[o+1]:0,p=o+2<s.length,y=p?s[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let C=(m&15)<<2|y>>6,k=y&63;p||(k=64,f||(C=64)),r.push(n[E],n[b],n[C],n[k])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(pT(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):q1(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],m=o<s.length?n[s.charAt(o)]:0;++o;const y=o<s.length?n[s.charAt(o)]:64;++o;const b=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||m==null||y==null||b==null)throw new H1;const C=u<<2|m>>4;if(r.push(C),y!==64){const k=m<<4&240|y>>2;if(r.push(k),b!==64){const H=y<<6&192|b;r.push(H)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class H1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const F1=function(s){const t=pT(s);return yT.encodeByteArray(t,!0)},Xh=function(s){return F1(s).replace(/\./g,"")},_T=function(s){try{return yT.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function G1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Y1=()=>G1().__FIREBASE_DEFAULTS__,Q1=()=>{if(typeof process>"u"||typeof NE>"u")return;const s=NE.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},K1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&_T(s[1]);return t&&JSON.parse(t)},Ef=()=>{try{return B1()||Y1()||Q1()||K1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},vT=s=>Ef()?.emulatorHosts?.[s],X1=s=>{const t=vT(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},ET=()=>Ef()?.config,TT=s=>Ef()?.[`_${s}`];class Z1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function Bo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bT(s){return(await fetch(s,{credentials:"include"})).ok}function $1(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Xh(JSON.stringify(n)),Xh(JSON.stringify(f)),""].join(".")}const uu={};function J1(){const s={prod:[],emulator:[]};for(const t of Object.keys(uu))uu[t]?s.emulator.push(t):s.prod.push(t);return s}function W1(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let OE=!1;function ST(s,t){if(typeof window>"u"||typeof document>"u"||!Bo(window.location.host)||uu[s]===t||uu[s]||OE)return;uu[s]=t;function n(C){return`__firebase__banner__${C}`}const r="__firebase__banner",u=J1().prod.length>0;function f(){const C=document.getElementById(r);C&&C.remove()}function m(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function p(C,k){C.setAttribute("width","24"),C.setAttribute("id",k),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function y(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{OE=!0,f()},C}function E(C,k){C.setAttribute("id",k),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function b(){const C=W1(r),k=n("text"),H=document.getElementById(k)||document.createElement("span"),X=n("learnmore"),J=document.getElementById(X)||document.createElement("a"),nt=n("preprendIcon"),ut=document.getElementById(nt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const et=C.element;m(et),E(J,X);const ct=y();p(ut,nt),et.append(ut,H,J,ct),document.body.appendChild(et)}u?(H.innerText="Preview backend disconnected.",ut.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ut.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function ew(){const s=Ef()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iw(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function rw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sw(){const s=fn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function aw(){return!ew()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ow(){try{return typeof indexedDB=="object"}catch{return!1}}function lw(){return new Promise((s,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}const uw="FirebaseError";class Or extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=uw,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nu.prototype.create)}}class Nu{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?cw(u,r):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Or(o,m,r)}}function cw(s,t){return s.replace(hw,(n,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const hw=/\{\$([^}]+)}/g;function fw(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Ta(s,t){if(s===t)return!0;const n=Object.keys(s),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const u=s[o],f=t[o];if(xE(u)&&xE(f)){if(!Ta(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function xE(s){return s!==null&&typeof s=="object"}function Ou(s){const t=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function dw(s,t){const n=new mw(s,t);return n.subscribe.bind(n)}class mw{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let o;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");gw(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:r},o.next===void 0&&(o.next=Ym),o.error===void 0&&(o.error=Ym),o.complete===void 0&&(o.complete=Ym);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gw(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function Ym(){}function Be(s){return s&&s._delegate?s._delegate:s}class ba{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ma="[DEFAULT]";class pw{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Z1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(_w(t))try{this.getOrInitializeService({instanceIdentifier:ma})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=ma){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ma){return this.instances.has(t)}getOptions(t=ma){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&f.resolve(o)}return o}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yw(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ma){return this.component?this.component.multipleInstances?t:ma:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yw(s){return s===ma?void 0:s}function _w(s){return s.instantiationMode==="EAGER"}class vw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new pw(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Pt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pt||(Pt={}));const Ew={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},Tw=Pt.INFO,bw={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},Sw=(s,t,...n)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),o=bw[t];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Zg{constructor(t){this.name=t,this._logLevel=Tw,this._logHandler=Sw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Ew[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const Aw=(s,t)=>t.some(n=>s instanceof n);let ME,VE;function ww(){return ME||(ME=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Rw(){return VE||(VE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AT=new WeakMap,mg=new WeakMap,wT=new WeakMap,Qm=new WeakMap,$g=new WeakMap;function Cw(s){const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(Es(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&AT.set(n,s)}).catch(()=>{}),$g.set(t,s),t}function Iw(s){if(mg.has(s))return;const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});mg.set(s,t)}let gg={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return mg.get(s);if(t==="objectStoreNames")return s.objectStoreNames||wT.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Es(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function Dw(s){gg=s(gg)}function Nw(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=s.call(Km(this),t,...n);return wT.set(r,t.sort?t.sort():[t]),Es(r)}:Rw().includes(s)?function(...t){return s.apply(Km(this),t),Es(AT.get(this))}:function(...t){return Es(s.apply(Km(this),t))}}function Ow(s){return typeof s=="function"?Nw(s):(s instanceof IDBTransaction&&Iw(s),Aw(s,ww())?new Proxy(s,gg):s)}function Es(s){if(s instanceof IDBRequest)return Cw(s);if(Qm.has(s))return Qm.get(s);const t=Ow(s);return t!==s&&(Qm.set(s,t),$g.set(t,s)),t}const Km=s=>$g.get(s);function xw(s,t,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(s,t),m=Es(f);return r&&f.addEventListener("upgradeneeded",p=>{r(Es(f.result),p.oldVersion,p.newVersion,Es(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const Mw=["get","getKey","getAll","getAllKeys","count"],Vw=["put","add","delete","clear"],Xm=new Map;function UE(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Xm.get(t))return Xm.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=Vw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Mw.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return r&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return Xm.set(t,u),u}Dw(s=>({...s,get:(t,n,r)=>UE(t,n)||s.get(t,n,r),has:(t,n)=>!!UE(t,n)||s.has(t,n)}));class Uw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kw(s){return s.getComponent()?.type==="VERSION"}const pg="@firebase/app",kE="0.14.5";const Rr=new Zg("@firebase/app"),Lw="@firebase/app-compat",Pw="@firebase/analytics-compat",zw="@firebase/analytics",jw="@firebase/app-check-compat",Bw="@firebase/app-check",qw="@firebase/auth",Hw="@firebase/auth-compat",Fw="@firebase/database",Gw="@firebase/data-connect",Yw="@firebase/database-compat",Qw="@firebase/functions",Kw="@firebase/functions-compat",Xw="@firebase/installations",Zw="@firebase/installations-compat",$w="@firebase/messaging",Jw="@firebase/messaging-compat",Ww="@firebase/performance",tR="@firebase/performance-compat",eR="@firebase/remote-config",nR="@firebase/remote-config-compat",iR="@firebase/storage",rR="@firebase/storage-compat",sR="@firebase/firestore",aR="@firebase/ai",oR="@firebase/firestore-compat",lR="firebase",uR="12.5.0";const yg="[DEFAULT]",cR={[pg]:"fire-core",[Lw]:"fire-core-compat",[zw]:"fire-analytics",[Pw]:"fire-analytics-compat",[Bw]:"fire-app-check",[jw]:"fire-app-check-compat",[qw]:"fire-auth",[Hw]:"fire-auth-compat",[Fw]:"fire-rtdb",[Gw]:"fire-data-connect",[Yw]:"fire-rtdb-compat",[Qw]:"fire-fn",[Kw]:"fire-fn-compat",[Xw]:"fire-iid",[Zw]:"fire-iid-compat",[$w]:"fire-fcm",[Jw]:"fire-fcm-compat",[Ww]:"fire-perf",[tR]:"fire-perf-compat",[eR]:"fire-rc",[nR]:"fire-rc-compat",[iR]:"fire-gcs",[rR]:"fire-gcs-compat",[sR]:"fire-fst",[oR]:"fire-fst-compat",[aR]:"fire-vertex","fire-js":"fire-js",[lR]:"fire-js-all"};const Zh=new Map,hR=new Map,_g=new Map;function LE(s,t){try{s.container.addComponent(t)}catch(n){Rr.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function xo(s){const t=s.name;if(_g.has(t))return Rr.debug(`There were multiple attempts to register component ${t}.`),!1;_g.set(t,s);for(const n of Zh.values())LE(n,s);for(const n of hR.values())LE(n,s);return!0}function Jg(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function _i(s){return s==null?!1:s.settings!==void 0}const fR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ts=new Nu("app","Firebase",fR);class dR{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ba("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ts.create("app-deleted",{appName:this._name})}}const qo=uR;function RT(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const r={name:yg,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Ts.create("bad-app-name",{appName:String(o)});if(n||(n=ET()),!n)throw Ts.create("no-options");const u=Zh.get(o);if(u){if(Ta(n,u.options)&&Ta(r,u.config))return u;throw Ts.create("duplicate-app",{appName:o})}const f=new vw(o);for(const p of _g.values())f.addComponent(p);const m=new dR(n,r,f);return Zh.set(o,m),m}function CT(s=yg){const t=Zh.get(s);if(!t&&s===yg&&ET())return RT();if(!t)throw Ts.create("no-app",{appName:s});return t}function bs(s,t,n){let r=cR[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${t}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Rr.warn(f.join(" "));return}xo(new ba(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const mR="firebase-heartbeat-database",gR=1,Eu="firebase-heartbeat-store";let Zm=null;function IT(){return Zm||(Zm=xw(mR,gR,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Eu)}catch(n){console.warn(n)}}}}).catch(s=>{throw Ts.create("idb-open",{originalErrorMessage:s.message})})),Zm}async function pR(s){try{const n=(await IT()).transaction(Eu),r=await n.objectStore(Eu).get(DT(s));return await n.done,r}catch(t){if(t instanceof Or)Rr.warn(t.message);else{const n=Ts.create("idb-get",{originalErrorMessage:t?.message});Rr.warn(n.message)}}}async function PE(s,t){try{const r=(await IT()).transaction(Eu,"readwrite");await r.objectStore(Eu).put(t,DT(s)),await r.done}catch(n){if(n instanceof Or)Rr.warn(n.message);else{const r=Ts.create("idb-set",{originalErrorMessage:n?.message});Rr.warn(r.message)}}}function DT(s){return`${s.name}!${s.options.appId}`}const yR=1024,_R=30;class vR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=zE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>_R){const o=bR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Rr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=zE(),{heartbeatsToSend:n,unsentEntries:r}=ER(this._heartbeatsCache.heartbeats),o=Xh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Rr.warn(t),""}}}function zE(){return new Date().toISOString().substring(0,10)}function ER(s,t=yR){const n=[];let r=s.slice();for(const o of s){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),jE(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),jE(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class TR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ow()?lw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return PE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return PE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function jE(s){return Xh(JSON.stringify({version:2,heartbeats:s})).length}function bR(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,t=r);return t}function SR(s){xo(new ba("platform-logger",t=>new Uw(t),"PRIVATE")),xo(new ba("heartbeat",t=>new vR(t),"PRIVATE")),bs(pg,kE,s),bs(pg,kE,"esm2020"),bs("fire-js","")}SR("");function NT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AR=NT,OT=new Nu("auth","Firebase",NT());const $h=new Zg("@firebase/auth");function wR(s,...t){$h.logLevel<=Pt.WARN&&$h.warn(`Auth (${qo}): ${s}`,...t)}function xh(s,...t){$h.logLevel<=Pt.ERROR&&$h.error(`Auth (${qo}): ${s}`,...t)}function $i(s,...t){throw tp(s,...t)}function Ei(s,...t){return tp(s,...t)}function Wg(s,t,n){const r={...AR(),[t]:n};return new Nu("auth","Firebase",r).create(t,{appName:s.name})}function _a(s){return Wg(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function RR(s,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&$i(s,"argument-error"),Wg(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tp(s,...t){if(typeof s!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return OT.create(s,...t)}function bt(s,t,...n){if(!s)throw tp(t,...n)}function br(s){const t="INTERNAL ASSERTION FAILED: "+s;throw xh(t),new Error(t)}function Cr(s,t){s||br(t)}function vg(){return typeof self<"u"&&self.location?.href||""}function CR(){return BE()==="http:"||BE()==="https:"}function BE(){return typeof self<"u"&&self.location?.protocol||null}function IR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CR()||iw()||"connection"in navigator)?navigator.onLine:!0}function DR(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class xu{constructor(t,n){this.shortDelay=t,this.longDelay=n,Cr(n>t,"Short delay should be less than long delay!"),this.isMobile=tw()||rw()}get(){return IR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ep(s,t){Cr(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class xT{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const NR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const OR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xR=new xu(3e4,6e4);function np(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function Ho(s,t,n,r,o={}){return MT(s,o,async()=>{let u={},f={};r&&(t==="GET"?f=r:u={body:JSON.stringify(r)});const m=Ou({key:s.config.apiKey,...f}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:p,...u};return nw()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Bo(s.emulatorConfig.host)&&(y.credentials="include"),xT.fetch()(await VT(s,s.config.apiHost,n,m),y)})}async function MT(s,t,n){s._canInitEmulator=!1;const r={...NR,...t};try{const o=new VR(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw bh(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw bh(s,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw bh(s,"email-already-in-use",f);if(p==="USER_DISABLED")throw bh(s,"user-disabled",f);const E=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Wg(s,E,y);$i(s,E)}}catch(o){if(o instanceof Or)throw o;$i(s,"network-request-failed",{message:String(o)})}}async function MR(s,t,n,r,o={}){const u=await Ho(s,t,n,r,o);return"mfaPendingCredential"in u&&$i(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function VT(s,t,n,r){const o=`${t}${n}?${r}`,u=s,f=u.config.emulator?ep(s.config,o):`${s.config.apiScheme}://${o}`;return OR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class VR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ei(this.auth,"network-request-failed")),xR.get())})}}function bh(s,t,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Ei(s,t,r);return o.customData._tokenResponse=n,o}async function UR(s,t){return Ho(s,"POST","/v1/accounts:delete",t)}async function Jh(s,t){return Ho(s,"POST","/v1/accounts:lookup",t)}function cu(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function kR(s,t=!1){const n=Be(s),r=await n.getIdToken(t),o=ip(r);bt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:r,authTime:cu($m(o.auth_time)),issuedAtTime:cu($m(o.iat)),expirationTime:cu($m(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function $m(s){return Number(s)*1e3}function ip(s){const[t,n,r]=s.split(".");if(t===void 0||n===void 0||r===void 0)return xh("JWT malformed, contained fewer than 3 sections"),null;try{const o=_T(n);return o?JSON.parse(o):(xh("Failed to decode base64 JWT payload"),null)}catch(o){return xh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function qE(s){const t=ip(s);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Tu(s,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Or&&LR(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function LR({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class PR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Eg{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wh(s){const t=s.auth,n=await s.getIdToken(),r=await Tu(s,Jh(t,{idToken:n}));bt(r?.users.length,t,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?UT(o.providerUserInfo):[],f=jR(s.providerData,u),m=s.isAnonymous,p=!(s.email&&o.passwordHash)&&!f?.length,y=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Eg(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,E)}async function zR(s){const t=Be(s);await Wh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function jR(s,t){return[...s.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function UT(s){return s.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function BR(s,t){const n=await MT(s,{},async()=>{const r=Ou({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,f=await VT(s,o,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:r};return s.emulatorConfig&&Bo(s.emulatorConfig.host)&&(p.credentials="include"),xT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qR(s,t){return Ho(s,"POST","/v2/accounts:revokeToken",np(s,t))}class Co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):qE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const n=qE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await BR(t,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,f=new Co;return r&&(bt(typeof r=="string","internal-error",{appName:t}),f.refreshToken=r),o&&(bt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(bt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Co,this.toJSON())}_performRefresh(){return br("not implemented")}}function fs(s,t){bt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class vi{constructor({uid:t,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new PR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Eg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Tu(this,this.stsTokenManager.getToken(this.auth,t));return bt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return kR(this,t)}reload(){return zR(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new vi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Wh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_i(this.auth.app))return Promise.reject(_a(this.auth));const t=await this.getIdToken();return await Tu(this,UR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:b,emailVerified:C,isAnonymous:k,providerData:H,stsTokenManager:X}=n;bt(b&&X,t,"internal-error");const J=Co.fromJSON(this.name,X);bt(typeof b=="string",t,"internal-error"),fs(r,t.name),fs(o,t.name),bt(typeof C=="boolean",t,"internal-error"),bt(typeof k=="boolean",t,"internal-error"),fs(u,t.name),fs(f,t.name),fs(m,t.name),fs(p,t.name),fs(y,t.name),fs(E,t.name);const nt=new vi({uid:b,auth:t,email:o,emailVerified:C,displayName:r,isAnonymous:k,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:J,createdAt:y,lastLoginAt:E});return H&&Array.isArray(H)&&(nt.providerData=H.map(ut=>({...ut}))),p&&(nt._redirectEventId=p),nt}static async _fromIdTokenResponse(t,n,r=!1){const o=new Co;o.updateFromServerResponse(n);const u=new vi({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await Wh(u),u}static async _fromGetAccountInfoResponse(t,n,r){const o=n.users[0];bt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?UT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Co;m.updateFromIdToken(r);const p=new vi({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Eg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}const HE=new Map;function Sr(s){Cr(s instanceof Function,"Expected a class definition");let t=HE.get(s);return t?(Cr(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,HE.set(s,t),t)}class kT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}kT.type="NONE";const FE=kT;function Mh(s,t,n){return`firebase:${s}:${t}:${n}`}class Io{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Mh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Mh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Jh(this.auth,{idToken:t}).catch(()=>{});return n?vi._fromGetAccountInfoResponse(this.auth,n,t):null}return vi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Io(Sr(FE),t,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Sr(FE);const f=Mh(r,t.config.apiKey,t.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let b;if(typeof E=="string"){const C=await Jh(t,{idToken:E}).catch(()=>{});if(!C)break;b=await vi._fromGetAccountInfoResponse(t,C,E)}else b=vi._fromJSON(t,E);y!==u&&(m=b),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Io(u,t,r):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Io(u,t,r))}}function GE(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(jT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(LT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(qT(t))return"Blackberry";if(HT(t))return"Webos";if(PT(t))return"Safari";if((t.includes("chrome/")||zT(t))&&!t.includes("edge/"))return"Chrome";if(BT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function LT(s=fn()){return/firefox\//i.test(s)}function PT(s=fn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function zT(s=fn()){return/crios\//i.test(s)}function jT(s=fn()){return/iemobile/i.test(s)}function BT(s=fn()){return/android/i.test(s)}function qT(s=fn()){return/blackberry/i.test(s)}function HT(s=fn()){return/webos/i.test(s)}function rp(s=fn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function HR(s=fn()){return rp(s)&&!!window.navigator?.standalone}function FR(){return sw()&&document.documentMode===10}function FT(s=fn()){return rp(s)||BT(s)||HT(s)||qT(s)||/windows phone/i.test(s)||jT(s)}function GT(s,t=[]){let n;switch(s){case"Browser":n=GE(fn());break;case"Worker":n=`${GE(fn())}-${s}`;break;default:n=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${qo}/${r}`}class GR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function YR(s,t={}){return Ho(s,"GET","/v2/passwordPolicy",np(s,t))}const QR=6;class KR{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??QR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class XR{constructor(t,n,r,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new YE(this),this.idTokenSubscription=new YE(this),this.beforeStateQueue=new GR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Sr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Io.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Jh(this,{idToken:t}),r=await vi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(_i(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=r?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Wh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=DR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(_i(this.app))return Promise.reject(_a(this));const n=t?Be(t):null;return n&&bt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return _i(this.app)?Promise.reject(_a(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return _i(this.app)?Promise.reject(_a(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Sr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await YR(this),n=new KR(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Nu("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await qR(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Sr(t)||this._popupRedirectResolver;bt(n,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[Sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,r,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=GT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(_i(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&wR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Tf(s){return Be(s)}class YE{constructor(t){this.auth=t,this.observer=null,this.addObserver=dw(n=>this.observer=n)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let sp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZR(s){sp=s}function $R(s){return sp.loadJS(s)}function JR(){return sp.gapiScript}function WR(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function tC(s,t){const n=Jg(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ta(u,t??{}))return o;$i(o,"already-initialized")}return n.initialize({options:t})}function eC(s,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Sr);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function nC(s,t,n){const r=Tf(s);bt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=YT(t),{host:f,port:m}=iC(t),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){bt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),bt(Ta(y,r.config.emulator)&&Ta(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,Bo(f)?(bT(`${u}//${f}${p}`),ST("Auth",!0)):rC()}function YT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function iC(s){const t=YT(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:QE(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:QE(f)}}}function QE(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function rC(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class QT{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return br("not implemented")}_getIdTokenResponse(t){return br("not implemented")}_linkToIdToken(t,n){return br("not implemented")}_getReauthenticationResolver(t){return br("not implemented")}}async function Do(s,t){return MR(s,"POST","/v1/accounts:signInWithIdp",np(s,t))}const sC="http://localhost";class Sa extends QT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Sa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):$i("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const f=new Sa(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Do(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Do(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Do(t,n)}buildRequest(){const t={requestUri:sC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ou(n)}return t}}class ap{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Mu extends ap{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class ms extends Mu{constructor(){super("facebook.com")}static credential(t){return Sa._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ms.credentialFromTaggedObject(t)}static credentialFromError(t){return ms.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ms.credential(t.oauthAccessToken)}catch{return null}}}ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";ms.PROVIDER_ID="facebook.com";class Tr extends Mu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Sa._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Tr.credentialFromTaggedObject(t)}static credentialFromError(t){return Tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Tr.credential(n,r)}catch{return null}}}Tr.GOOGLE_SIGN_IN_METHOD="google.com";Tr.PROVIDER_ID="google.com";class gs extends Mu{constructor(){super("github.com")}static credential(t){return Sa._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return gs.credentialFromTaggedObject(t)}static credentialFromError(t){return gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return gs.credential(t.oauthAccessToken)}catch{return null}}}gs.GITHUB_SIGN_IN_METHOD="github.com";gs.PROVIDER_ID="github.com";class ps extends Mu{constructor(){super("twitter.com")}static credential(t,n){return Sa._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ps.credentialFromTaggedObject(t)}static credentialFromError(t){return ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ps.credential(n,r)}catch{return null}}}ps.TWITTER_SIGN_IN_METHOD="twitter.com";ps.PROVIDER_ID="twitter.com";class Mo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,o=!1){const u=await vi._fromIdTokenResponse(t,r,o),f=KE(r);return new Mo({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const o=KE(r);return new Mo({user:t,providerId:o,_tokenResponse:r,operationType:n})}}function KE(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class tf extends Or{constructor(t,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,tf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,o){return new tf(t,n,r,o)}}function KT(s,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?tf._fromErrorAndOperation(s,u,t,r):u})}async function aC(s,t,n=!1){const r=await Tu(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return Mo._forOperation(s,"link",r)}async function oC(s,t,n=!1){const{auth:r}=s;if(_i(r.app))return Promise.reject(_a(r));const o="reauthenticate";try{const u=await Tu(s,KT(r,o,t,s),n);bt(u.idToken,r,"internal-error");const f=ip(u.idToken);bt(f,r,"internal-error");const{sub:m}=f;return bt(s.uid===m,r,"user-mismatch"),Mo._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&$i(r,"user-mismatch"),u}}async function lC(s,t,n=!1){if(_i(s.app))return Promise.reject(_a(s));const r="signIn",o=await KT(s,r,t),u=await Mo._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(u.user),u}function uC(s,t,n,r){return Be(s).onIdTokenChanged(t,n,r)}function cC(s,t,n){return Be(s).beforeAuthStateChanged(t,n)}function hC(s,t,n,r){return Be(s).onAuthStateChanged(t,n,r)}function fC(s){return Be(s).signOut()}const ef="__sak";class XT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ef,"1"),this.storage.removeItem(ef),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const dC=1e3,mC=10;class ZT extends XT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&t(n,o,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const r=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);FR()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,mC):o()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},dC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}ZT.type="LOCAL";const gC=ZT;class $T extends XT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}$T.type="SESSION";const JT=$T;function pC(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class bf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const r=new bf(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await pC(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bf.receivers=[];function op(s="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return s+n}class yC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=op("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(b){const C=b;if(C.data.eventId===y)switch(C.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(C.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Gi(){return window}function _C(s){Gi().location.href=s}function WT(){return typeof Gi().WorkerGlobalScope<"u"&&typeof Gi().importScripts=="function"}async function vC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EC(){return navigator?.serviceWorker?.controller||null}function TC(){return WT()?self:null}const tb="firebaseLocalStorageDb",bC=1,nf="firebaseLocalStorage",eb="fbase_key";class Vu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sf(s,t){return s.transaction([nf],t?"readwrite":"readonly").objectStore(nf)}function SC(){const s=indexedDB.deleteDatabase(tb);return new Vu(s).toPromise()}function Tg(){const s=indexedDB.open(tb,bC);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(nf,{keyPath:eb})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(nf)?t(r):(r.close(),await SC(),t(await Tg()))})})}async function XE(s,t,n){const r=Sf(s,!0).put({[eb]:t,value:n});return new Vu(r).toPromise()}async function AC(s,t){const n=Sf(s,!1).get(t),r=await new Vu(n).toPromise();return r===void 0?null:r.value}function ZE(s,t){const n=Sf(s,!0).delete(t);return new Vu(n).toPromise()}const wC=800,RC=3;class nb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>RC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bf._getInstance(TC()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await vC(),!this.activeServiceWorker)return;this.sender=new yC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||EC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Tg();return await XE(t,ef,"1"),await ZE(t,ef),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>XE(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>AC(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>ZE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Sf(o,!1).getAll();return new Vu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nb.type="LOCAL";const CC=nb;new xu(3e4,6e4);function ib(s,t){return t?Sr(t):(bt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class lp extends QT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Do(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Do(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Do(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function IC(s){return lC(s.auth,new lp(s),s.bypassAuthState)}function DC(s){const{auth:t,user:n}=s;return bt(n,t,"internal-error"),oC(n,new lp(s),s.bypassAuthState)}async function NC(s){const{auth:t,user:n}=s;return bt(n,t,"internal-error"),aC(n,new lp(s),s.bypassAuthState)}class rb{constructor(t,n,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return IC;case"linkViaPopup":case"linkViaRedirect":return NC;case"reauthViaPopup":case"reauthViaRedirect":return DC;default:$i(this.auth,"internal-error")}}resolve(t){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const OC=new xu(2e3,1e4);async function xC(s,t,n){if(_i(s.app))return Promise.reject(Ei(s,"operation-not-supported-in-this-environment"));const r=Tf(s);RR(s,t,ap);const o=ib(r,n);return new pa(r,"signInViaPopup",t,o).executeNotNull()}class pa extends rb{constructor(t,n,r,o,u){super(t,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,pa.currentPopupAction&&pa.currentPopupAction.cancel(),pa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){Cr(this.filter.length===1,"Popup operations only handle one event");const t=op();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,OC.get())};t()}}pa.currentPopupAction=null;const MC="pendingRedirect",Vh=new Map;class VC extends rb{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Vh.get(this.auth._key());if(!t){try{const r=await UC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Vh.set(this.auth._key(),t)}return this.bypassAuthState||Vh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UC(s,t){const n=PC(t),r=LC(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function kC(s,t){Vh.set(s._key(),t)}function LC(s){return Sr(s._redirectPersistence)}function PC(s){return Mh(MC,s.config.apiKey,s.name)}async function zC(s,t,n=!1){if(_i(s.app))return Promise.reject(_a(s));const r=Tf(s),o=ib(r,t),f=await new VC(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,t)),f}const jC=600*1e3;class BC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!qC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!sb(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ei(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=jC&&this.cachedEventUids.clear(),this.cachedEventUids.has($E(t))}saveEventToCache(t){this.cachedEventUids.add($E(t)),this.lastProcessedEventTime=Date.now()}}function $E(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function sb({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function qC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sb(s);default:return!1}}async function HC(s,t={}){return Ho(s,"GET","/v1/projects",t)}const FC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GC=/^https?/;async function YC(s){if(s.config.emulator)return;const{authorizedDomains:t}=await HC(s);for(const n of t)try{if(QC(n))return}catch{}$i(s,"unauthorized-domain")}function QC(s){const t=vg(),{protocol:n,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!GC.test(n))return!1;if(FC.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const KC=new xu(3e4,6e4);function JE(){const s=Gi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function XC(s){return new Promise((t,n)=>{function r(){JE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{JE(),n(Ei(s,"network-request-failed"))},timeout:KC.get()})}if(Gi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Gi().gapi?.load)r();else{const o=WR("iframefcb");return Gi()[o]=()=>{gapi.load?r():n(Ei(s,"network-request-failed"))},$R(`${JR()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Uh=null,t})}let Uh=null;function ZC(s){return Uh=Uh||XC(s),Uh}const $C=new xu(5e3,15e3),JC="__/auth/iframe",WC="emulator/auth/iframe",tI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nI(s){const t=s.config;bt(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?ep(t,WC):`https://${s.config.authDomain}/${JC}`,r={apiKey:t.apiKey,appName:s.name,v:qo},o=eI.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${Ou(r).slice(1)}`}async function iI(s){const t=await ZC(s),n=Gi().gapi;return bt(n,s,"internal-error"),t.open({where:document.body,url:nI(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tI,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=Ei(s,"network-request-failed"),m=Gi().setTimeout(()=>{u(f)},$C.get());function p(){Gi().clearTimeout(m),o(r)}r.ping(p).then(p,()=>{u(f)})}))}const rI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sI=500,aI=600,oI="_blank",lI="http://localhost";class WE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uI(s,t,n,r=sI,o=aI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p={...rI,width:r.toString(),height:o.toString(),top:u,left:f},y=fn().toLowerCase();n&&(m=zT(y)?oI:n),LT(y)&&(t=t||lI,p.scrollbars="yes");const E=Object.entries(p).reduce((C,[k,H])=>`${C}${k}=${H},`,"");if(HR(y)&&m!=="_self")return cI(t||"",m),new WE(null);const b=window.open(t||"",m,E);bt(b,s,"popup-blocked");try{b.focus()}catch{}return new WE(b)}function cI(s,t){const n=document.createElement("a");n.href=s,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const hI="__/auth/handler",fI="emulator/auth/handler",dI=encodeURIComponent("fac");async function t0(s,t,n,r,o,u){bt(s.config.authDomain,s,"auth-domain-config-required"),bt(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:qo,eventId:o};if(t instanceof ap){t.setDefaultLanguage(s.languageCode),f.providerId=t.providerId||"",fw(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(t instanceof Mu){const E=t.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}s.tenantId&&(f.tid=s.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await s._getAppCheckToken(),y=p?`#${dI}=${encodeURIComponent(p)}`:"";return`${mI(s)}?${Ou(m).slice(1)}${y}`}function mI({config:s}){return s.emulator?ep(s,fI):`https://${s.authDomain}/${hI}`}const Jm="webStorageSupport";class gI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JT,this._completeRedirectFn=zC,this._overrideRedirectResult=kC}async _openPopup(t,n,r,o){Cr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await t0(t,n,r,vg(),o);return uI(t,u,op())}async _openRedirect(t,n,r,o){await this._originValidation(t);const u=await t0(t,n,r,vg(),o);return _C(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Cr(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await iI(t),r=new BC(t);return n.register("authEvent",o=>(bt(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Jm,{type:Jm},o=>{const u=o?.[0]?.[Jm];u!==void 0&&n(!!u),$i(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=YC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return FT()||PT()||rp()}}const pI=gI;var e0="@firebase/auth",n0="1.11.1";class yI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function _I(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vI(s){xo(new ba("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=r.options;bt(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:f,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GT(s)},y=new XR(r,o,u,p);return eC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),xo(new ba("auth-internal",t=>{const n=Tf(t.getProvider("auth").getImmediate());return(r=>new yI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bs(e0,n0,_I(s)),bs(e0,n0,"esm2020")}const EI=300,TI=TT("authIdTokenMaxAge")||EI;let i0=null;const bI=s=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>TI)return;const o=n?.token;i0!==o&&(i0=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function SI(s=CT()){const t=Jg(s,"auth");if(t.isInitialized())return t.getImmediate();const n=tC(s,{popupRedirectResolver:pI,persistence:[CC,gC,JT]}),r=TT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=bI(u.toString());cC(n,f,()=>f(n.currentUser)),uC(n,m=>f(m))}}const o=vT("auth");return o&&nC(n,`http://${o}`),n}function AI(){return document.getElementsByTagName("head")?.[0]??document}ZR({loadJS(s){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=o=>{const u=Ei("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",AI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vI("Browser");var wI="firebase",RI="12.5.0";bs(wI,RI,"app");var r0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ss,ab;(function(){var s;function t(R,A){function w(){}w.prototype=A.prototype,R.F=A.prototype,R.prototype=new w,R.prototype.constructor=R,R.D=function(x,N,U){for(var I=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)I[Yt-2]=arguments[Yt];return A.prototype[N].apply(x,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,A,w){w||(w=0);const x=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)x[N]=A.charCodeAt(w++)|A.charCodeAt(w++)<<8|A.charCodeAt(w++)<<16|A.charCodeAt(w++)<<24;else for(N=0;N<16;++N)x[N]=A[w++]|A[w++]<<8|A[w++]<<16|A[w++]<<24;A=R.g[0],w=R.g[1],N=R.g[2];let U=R.g[3],I;I=A+(U^w&(N^U))+x[0]+3614090360&4294967295,A=w+(I<<7&4294967295|I>>>25),I=U+(N^A&(w^N))+x[1]+3905402710&4294967295,U=A+(I<<12&4294967295|I>>>20),I=N+(w^U&(A^w))+x[2]+606105819&4294967295,N=U+(I<<17&4294967295|I>>>15),I=w+(A^N&(U^A))+x[3]+3250441966&4294967295,w=N+(I<<22&4294967295|I>>>10),I=A+(U^w&(N^U))+x[4]+4118548399&4294967295,A=w+(I<<7&4294967295|I>>>25),I=U+(N^A&(w^N))+x[5]+1200080426&4294967295,U=A+(I<<12&4294967295|I>>>20),I=N+(w^U&(A^w))+x[6]+2821735955&4294967295,N=U+(I<<17&4294967295|I>>>15),I=w+(A^N&(U^A))+x[7]+4249261313&4294967295,w=N+(I<<22&4294967295|I>>>10),I=A+(U^w&(N^U))+x[8]+1770035416&4294967295,A=w+(I<<7&4294967295|I>>>25),I=U+(N^A&(w^N))+x[9]+2336552879&4294967295,U=A+(I<<12&4294967295|I>>>20),I=N+(w^U&(A^w))+x[10]+4294925233&4294967295,N=U+(I<<17&4294967295|I>>>15),I=w+(A^N&(U^A))+x[11]+2304563134&4294967295,w=N+(I<<22&4294967295|I>>>10),I=A+(U^w&(N^U))+x[12]+1804603682&4294967295,A=w+(I<<7&4294967295|I>>>25),I=U+(N^A&(w^N))+x[13]+4254626195&4294967295,U=A+(I<<12&4294967295|I>>>20),I=N+(w^U&(A^w))+x[14]+2792965006&4294967295,N=U+(I<<17&4294967295|I>>>15),I=w+(A^N&(U^A))+x[15]+1236535329&4294967295,w=N+(I<<22&4294967295|I>>>10),I=A+(N^U&(w^N))+x[1]+4129170786&4294967295,A=w+(I<<5&4294967295|I>>>27),I=U+(w^N&(A^w))+x[6]+3225465664&4294967295,U=A+(I<<9&4294967295|I>>>23),I=N+(A^w&(U^A))+x[11]+643717713&4294967295,N=U+(I<<14&4294967295|I>>>18),I=w+(U^A&(N^U))+x[0]+3921069994&4294967295,w=N+(I<<20&4294967295|I>>>12),I=A+(N^U&(w^N))+x[5]+3593408605&4294967295,A=w+(I<<5&4294967295|I>>>27),I=U+(w^N&(A^w))+x[10]+38016083&4294967295,U=A+(I<<9&4294967295|I>>>23),I=N+(A^w&(U^A))+x[15]+3634488961&4294967295,N=U+(I<<14&4294967295|I>>>18),I=w+(U^A&(N^U))+x[4]+3889429448&4294967295,w=N+(I<<20&4294967295|I>>>12),I=A+(N^U&(w^N))+x[9]+568446438&4294967295,A=w+(I<<5&4294967295|I>>>27),I=U+(w^N&(A^w))+x[14]+3275163606&4294967295,U=A+(I<<9&4294967295|I>>>23),I=N+(A^w&(U^A))+x[3]+4107603335&4294967295,N=U+(I<<14&4294967295|I>>>18),I=w+(U^A&(N^U))+x[8]+1163531501&4294967295,w=N+(I<<20&4294967295|I>>>12),I=A+(N^U&(w^N))+x[13]+2850285829&4294967295,A=w+(I<<5&4294967295|I>>>27),I=U+(w^N&(A^w))+x[2]+4243563512&4294967295,U=A+(I<<9&4294967295|I>>>23),I=N+(A^w&(U^A))+x[7]+1735328473&4294967295,N=U+(I<<14&4294967295|I>>>18),I=w+(U^A&(N^U))+x[12]+2368359562&4294967295,w=N+(I<<20&4294967295|I>>>12),I=A+(w^N^U)+x[5]+4294588738&4294967295,A=w+(I<<4&4294967295|I>>>28),I=U+(A^w^N)+x[8]+2272392833&4294967295,U=A+(I<<11&4294967295|I>>>21),I=N+(U^A^w)+x[11]+1839030562&4294967295,N=U+(I<<16&4294967295|I>>>16),I=w+(N^U^A)+x[14]+4259657740&4294967295,w=N+(I<<23&4294967295|I>>>9),I=A+(w^N^U)+x[1]+2763975236&4294967295,A=w+(I<<4&4294967295|I>>>28),I=U+(A^w^N)+x[4]+1272893353&4294967295,U=A+(I<<11&4294967295|I>>>21),I=N+(U^A^w)+x[7]+4139469664&4294967295,N=U+(I<<16&4294967295|I>>>16),I=w+(N^U^A)+x[10]+3200236656&4294967295,w=N+(I<<23&4294967295|I>>>9),I=A+(w^N^U)+x[13]+681279174&4294967295,A=w+(I<<4&4294967295|I>>>28),I=U+(A^w^N)+x[0]+3936430074&4294967295,U=A+(I<<11&4294967295|I>>>21),I=N+(U^A^w)+x[3]+3572445317&4294967295,N=U+(I<<16&4294967295|I>>>16),I=w+(N^U^A)+x[6]+76029189&4294967295,w=N+(I<<23&4294967295|I>>>9),I=A+(w^N^U)+x[9]+3654602809&4294967295,A=w+(I<<4&4294967295|I>>>28),I=U+(A^w^N)+x[12]+3873151461&4294967295,U=A+(I<<11&4294967295|I>>>21),I=N+(U^A^w)+x[15]+530742520&4294967295,N=U+(I<<16&4294967295|I>>>16),I=w+(N^U^A)+x[2]+3299628645&4294967295,w=N+(I<<23&4294967295|I>>>9),I=A+(N^(w|~U))+x[0]+4096336452&4294967295,A=w+(I<<6&4294967295|I>>>26),I=U+(w^(A|~N))+x[7]+1126891415&4294967295,U=A+(I<<10&4294967295|I>>>22),I=N+(A^(U|~w))+x[14]+2878612391&4294967295,N=U+(I<<15&4294967295|I>>>17),I=w+(U^(N|~A))+x[5]+4237533241&4294967295,w=N+(I<<21&4294967295|I>>>11),I=A+(N^(w|~U))+x[12]+1700485571&4294967295,A=w+(I<<6&4294967295|I>>>26),I=U+(w^(A|~N))+x[3]+2399980690&4294967295,U=A+(I<<10&4294967295|I>>>22),I=N+(A^(U|~w))+x[10]+4293915773&4294967295,N=U+(I<<15&4294967295|I>>>17),I=w+(U^(N|~A))+x[1]+2240044497&4294967295,w=N+(I<<21&4294967295|I>>>11),I=A+(N^(w|~U))+x[8]+1873313359&4294967295,A=w+(I<<6&4294967295|I>>>26),I=U+(w^(A|~N))+x[15]+4264355552&4294967295,U=A+(I<<10&4294967295|I>>>22),I=N+(A^(U|~w))+x[6]+2734768916&4294967295,N=U+(I<<15&4294967295|I>>>17),I=w+(U^(N|~A))+x[13]+1309151649&4294967295,w=N+(I<<21&4294967295|I>>>11),I=A+(N^(w|~U))+x[4]+4149444226&4294967295,A=w+(I<<6&4294967295|I>>>26),I=U+(w^(A|~N))+x[11]+3174756917&4294967295,U=A+(I<<10&4294967295|I>>>22),I=N+(A^(U|~w))+x[2]+718787259&4294967295,N=U+(I<<15&4294967295|I>>>17),I=w+(U^(N|~A))+x[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,R.g[2]=R.g[2]+N&4294967295,R.g[3]=R.g[3]+U&4294967295}r.prototype.v=function(R,A){A===void 0&&(A=R.length);const w=A-this.blockSize,x=this.C;let N=this.h,U=0;for(;U<A;){if(N==0)for(;U<=w;)o(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<A;)if(x[N++]=R.charCodeAt(U++),N==this.blockSize){o(this,x),N=0;break}}else for(;U<A;)if(x[N++]=R[U++],N==this.blockSize){o(this,x),N=0;break}}this.h=N,this.o+=A},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var w=R.length-8;w<R.length;++w)R[w]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,w=0;w<4;++w)for(let x=0;x<32;x+=8)R[A++]=this.g[w]>>>x&255;return R};function u(R,A){var w=m;return Object.prototype.hasOwnProperty.call(w,R)?w[R]:w[R]=A(R)}function f(R,A){this.h=A;const w=[];let x=!0;for(let N=R.length-1;N>=0;N--){const U=R[N]|0;x&&U==A||(w[N]=U,x=!1)}this.g=w}var m={};function p(R){return-128<=R&&R<128?u(R,function(A){return new f([A|0],A<0?-1:0)}):new f([R|0],R<0?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return b;if(R<0)return J(y(-R));const A=[];let w=1;for(let x=0;R>=w;x++)A[x]=R/w|0,w*=4294967296;return new f(A,0)}function E(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return J(E(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=y(Math.pow(A,8));let x=b;for(let U=0;U<R.length;U+=8){var N=Math.min(8,R.length-U);const I=parseInt(R.substring(U,U+N),A);N<8?(N=y(Math.pow(A,N)),x=x.j(N).add(y(I))):(x=x.j(w),x=x.add(y(I)))}return x}var b=p(0),C=p(1),k=p(16777216);s=f.prototype,s.m=function(){if(X(this))return-J(this).m();let R=0,A=1;for(let w=0;w<this.g.length;w++){const x=this.i(w);R+=(x>=0?x:4294967296+x)*A,A*=4294967296}return R},s.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(H(this))return"0";if(X(this))return"-"+J(this).toString(R);const A=y(Math.pow(R,6));var w=this;let x="";for(;;){const N=ct(w,A).g;w=nt(w,N.j(A));let U=((w.g.length>0?w.g[0]:w.h)>>>0).toString(R);if(w=N,H(w))return U+x;for(;U.length<6;)U="0"+U;x=U+x}},s.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function H(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function X(R){return R.h==-1}s.l=function(R){return R=nt(this,R),X(R)?-1:H(R)?0:1};function J(R){const A=R.g.length,w=[];for(let x=0;x<A;x++)w[x]=~R.g[x];return new f(w,~R.h).add(C)}s.abs=function(){return X(this)?J(this):this},s.add=function(R){const A=Math.max(this.g.length,R.g.length),w=[];let x=0;for(let N=0;N<=A;N++){let U=x+(this.i(N)&65535)+(R.i(N)&65535),I=(U>>>16)+(this.i(N)>>>16)+(R.i(N)>>>16);x=I>>>16,U&=65535,I&=65535,w[N]=I<<16|U}return new f(w,w[w.length-1]&-2147483648?-1:0)};function nt(R,A){return R.add(J(A))}s.j=function(R){if(H(this)||H(R))return b;if(X(this))return X(R)?J(this).j(J(R)):J(J(this).j(R));if(X(R))return J(this.j(J(R)));if(this.l(k)<0&&R.l(k)<0)return y(this.m()*R.m());const A=this.g.length+R.g.length,w=[];for(var x=0;x<2*A;x++)w[x]=0;for(x=0;x<this.g.length;x++)for(let N=0;N<R.g.length;N++){const U=this.i(x)>>>16,I=this.i(x)&65535,Yt=R.i(N)>>>16,le=R.i(N)&65535;w[2*x+2*N]+=I*le,ut(w,2*x+2*N),w[2*x+2*N+1]+=U*le,ut(w,2*x+2*N+1),w[2*x+2*N+1]+=I*Yt,ut(w,2*x+2*N+1),w[2*x+2*N+2]+=U*Yt,ut(w,2*x+2*N+2)}for(R=0;R<A;R++)w[R]=w[2*R+1]<<16|w[2*R];for(R=A;R<2*A;R++)w[R]=0;return new f(w,0)};function ut(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function et(R,A){this.g=R,this.h=A}function ct(R,A){if(H(A))throw Error("division by zero");if(H(R))return new et(b,b);if(X(R))return A=ct(J(R),A),new et(J(A.g),J(A.h));if(X(A))return A=ct(R,J(A)),new et(J(A.g),A.h);if(R.g.length>30){if(X(R)||X(A))throw Error("slowDivide_ only works with positive integers.");for(var w=C,x=A;x.l(R)<=0;)w=at(w),x=at(x);var N=tt(w,1),U=tt(x,1);for(x=tt(x,2),w=tt(w,2);!H(x);){var I=U.add(x);I.l(R)<=0&&(N=N.add(w),U=I),x=tt(x,1),w=tt(w,1)}return A=nt(R,N.j(A)),new et(N,A)}for(N=b;R.l(A)>=0;){for(w=Math.max(1,Math.floor(R.m()/A.m())),x=Math.ceil(Math.log(w)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),U=y(w),I=U.j(A);X(I)||I.l(R)>0;)w-=x,U=y(w),I=U.j(A);H(U)&&(U=C),N=N.add(U),R=nt(R,I)}return new et(N,R)}s.B=function(R){return ct(this,R).h},s.and=function(R){const A=Math.max(this.g.length,R.g.length),w=[];for(let x=0;x<A;x++)w[x]=this.i(x)&R.i(x);return new f(w,this.h&R.h)},s.or=function(R){const A=Math.max(this.g.length,R.g.length),w=[];for(let x=0;x<A;x++)w[x]=this.i(x)|R.i(x);return new f(w,this.h|R.h)},s.xor=function(R){const A=Math.max(this.g.length,R.g.length),w=[];for(let x=0;x<A;x++)w[x]=this.i(x)^R.i(x);return new f(w,this.h^R.h)};function at(R){const A=R.g.length+1,w=[];for(let x=0;x<A;x++)w[x]=R.i(x)<<1|R.i(x-1)>>>31;return new f(w,R.h)}function tt(R,A){const w=A>>5;A%=32;const x=R.g.length-w,N=[];for(let U=0;U<x;U++)N[U]=A>0?R.i(U+w)>>>A|R.i(U+w+1)<<32-A:R.i(U+w);return new f(N,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,ab=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Ss=f}).apply(typeof r0<"u"?r0:typeof self<"u"?self:typeof window<"u"?window:{});var Sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ob,nu,lb,kh,bg,ub,cb,hb;(function(){var s,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sh=="object"&&Sh];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(c,g){if(g)t:{var v=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var L=c[S];if(!(L in v))break t;v=v[L]}c=c[c.length-1],S=v[c],g=g(S),g!=S&&g!=null&&t(v,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var v=[],S;for(S in g)Object.prototype.hasOwnProperty.call(g,S)&&v.push([S,g[S]]);return v}});var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function p(c,g,v){return c.call.apply(c.bind,arguments)}function y(c,g,v){return y=p,y.apply(null,arguments)}function E(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function b(c,g){function v(){}v.prototype=g.prototype,c.Z=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,L,B){for(var it=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)it[Dt-2]=arguments[Dt];return g.prototype[L].apply(S,it)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const g=c.length;if(g>0){const v=Array(g);for(let S=0;S<g;S++)v[S]=c[S];return v}return[]}function H(c,g){for(let S=1;S<arguments.length;S++){const L=arguments[S];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const B=L.length||0;c.length=v+B;for(let it=0;it<B;it++)c[v+it]=L[it]}else c.push(L)}}class X{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function J(c){f.setTimeout(()=>{throw c},0)}function nt(){var c=R;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ut{constructor(){this.h=this.g=null}add(g,v){const S=et.get();S.set(g,v),this.h?this.h.next=S:this.g=S,this.h=S}}var et=new X(()=>new ct,c=>c.reset());class ct{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let at,tt=!1,R=new ut,A=()=>{const c=Promise.resolve(void 0);at=()=>{c.then(w)}};function w(){for(var c;c=nt();){try{c.h.call(c.g)}catch(v){J(v)}var g=et;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}tt=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,g),f.removeEventListener("test",v,g)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function Yt(c,g){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}b(Yt,N),Yt.prototype.init=function(c,g){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Yt.Z.h.call(this)},Yt.prototype.h=function(){Yt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var le="closure_listenable_"+(Math.random()*1e6|0),F=0;function st(c,g,v,S,L){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!S,this.ha=L,this.key=++F,this.da=this.fa=!1}function gt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Bt(c,g,v){for(const S in c)g.call(v,c[S],S,c)}function $t(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function M(c){const g={};for(const v in c)g[v]=c[v];return g}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ot(c,g){let v,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(v in S)c[v]=S[v];for(let B=0;B<Z.length;B++)v=Z[B],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function ft(c){this.src=c,this.g={},this.h=0}ft.prototype.add=function(c,g,v,S,L){const B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);const it=Ot(c,g,S,L);return it>-1?(g=c[it],v||(g.fa=!1)):(g=new st(g,this.src,B,!!S,L),g.fa=v,c.push(g)),g};function St(c,g){const v=g.type;if(v in c.g){var S=c.g[v],L=Array.prototype.indexOf.call(S,g,void 0),B;(B=L>=0)&&Array.prototype.splice.call(S,L,1),B&&(gt(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ot(c,g,v,S){for(let L=0;L<c.length;++L){const B=c[L];if(!B.da&&B.listener==g&&B.capture==!!v&&B.ha==S)return L}return-1}var Ft="closure_lm_"+(Math.random()*1e6|0),qe={};function fe(c,g,v,S,L){if(Array.isArray(g)){for(let B=0;B<g.length;B++)fe(c,g[B],v,S,L);return null}return v=$o(v),c&&c[le]?c.J(g,v,m(S)?!!S.capture:!1,L):Us(c,g,v,!1,S,L)}function Us(c,g,v,S,L,B){if(!g)throw Error("Invalid event type");const it=m(L)?!!L.capture:!!L;let Dt=ks(c);if(Dt||(c[Ft]=Dt=new ft(c)),v=Dt.add(g,v,S,it,B),v.proxy)return v;if(S=Ia(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)U||(L=it),L===void 0&&(L=!1),c.addEventListener(g.toString(),S,L);else if(c.attachEvent)c.attachEvent(bi(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ia(){function c(v){return g.call(c.src,c.listener,v)}const g=Xo;return c}function Da(c,g,v,S,L){if(Array.isArray(g))for(var B=0;B<g.length;B++)Da(c,g[B],v,S,L);else S=m(S)?!!S.capture:!!S,v=$o(v),c&&c[le]?(c=c.i,B=String(g).toString(),B in c.g&&(g=c.g[B],v=Ot(g,v,S,L),v>-1&&(gt(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete c.g[B],c.h--)))):c&&(c=ks(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Ot(g,v,S,L)),(v=c>-1?g[c]:null)&&Na(v))}function Na(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[le])St(g.i,c);else{var v=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(v,S,c.capture):g.detachEvent?g.detachEvent(bi(v),S):g.addListener&&g.removeListener&&g.removeListener(S),(v=ks(g))?(St(v,c),v.h==0&&(v.src=null,g[Ft]=null)):gt(c)}}}function bi(c){return c in qe?qe[c]:qe[c]="on"+c}function Xo(c,g){if(c.da)c=!0;else{g=new Yt(g,this);const v=c.listener,S=c.ha||c.src;c.fa&&Na(c),c=v.call(S,g)}return c}function ks(c){return c=c[Ft],c instanceof ft?c:null}var Zo="__closure_events_fn_"+(Math.random()*1e9>>>0);function $o(c){return typeof c=="function"?c:(c[Zo]||(c[Zo]=function(g){return c.handleEvent(g)}),c[Zo])}function Ce(){x.call(this),this.i=new ft(this),this.M=this,this.G=null}b(Ce,x),Ce.prototype[le]=!0,Ce.prototype.removeEventListener=function(c,g,v,S){Da(this,c,g,v,S)};function He(c,g){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new N(g,c);else if(g instanceof N)g.target=g.target||c;else{var L=g;g=new N(S,c),ot(g,L)}L=!0;let B,it;if(v)for(it=v.length-1;it>=0;it--)B=g.g=v[it],L=Mr(B,S,!0,g)&&L;if(B=g.g=c,L=Mr(B,S,!0,g)&&L,L=Mr(B,S,!1,g)&&L,v)for(it=0;it<v.length;it++)B=g.g=v[it],L=Mr(B,S,!1,g)&&L}Ce.prototype.N=function(){if(Ce.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const v=c.g[g];for(let S=0;S<v.length;S++)gt(v[S]);delete c.g[g],c.h--}}this.G=null},Ce.prototype.J=function(c,g,v,S){return this.i.add(String(c),g,!1,v,S)},Ce.prototype.K=function(c,g,v,S){return this.i.add(String(c),g,!0,v,S)};function Mr(c,g,v,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let L=!0;for(let B=0;B<g.length;++B){const it=g[B];if(it&&!it.da&&it.capture==v){const Dt=it.listener,Se=it.ha||it.src;it.fa&&St(c.i,it),L=Dt.call(Se,S)!==!1&&L}}return L&&!S.defaultPrevented}function qf(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function Qu(c){c.g=qf(()=>{c.g=null,c.i&&(c.i=!1,Qu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class dn extends x{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Qu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ls(c){x.call(this),this.h=c,this.g={}}b(Ls,x);var Jo=[];function Wo(c){Bt(c.g,function(g,v){this.g.hasOwnProperty(v)&&Na(g)},c),c.g={}}Ls.prototype.N=function(){Ls.Z.N.call(this),Wo(this)},Ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vr=f.JSON.stringify,Hf=f.JSON.parse,Ku=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Xu(){}function Zu(){}var ii={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ze(){N.call(this,"d")}b(Ze,N);function qn(){N.call(this,"c")}b(qn,N);var be={},$u=null;function Oa(){return $u=$u||new Ce}be.Ia="serverreachability";function Ju(c){N.call(this,be.Ia,c)}b(Ju,N);function Si(c){const g=Oa();He(g,new Ju(g))}be.STAT_EVENT="statevent";function Ps(c,g){N.call(this,be.STAT_EVENT,c),this.stat=g}b(Ps,N);function Ie(c){const g=Oa();He(g,new Ps(g,c))}be.Ja="timingevent";function Ai(c,g){N.call(this,be.Ja,c),this.size=g}b(Ai,N);function wi(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function ri(){this.g=!0}ri.prototype.ua=function(){this.g=!1};function Ff(c,g,v,S,L,B){c.info(function(){if(c.g)if(B){var it="",Dt=B.split("&");for(let Xt=0;Xt<Dt.length;Xt++){var Se=Dt[Xt].split("=");if(Se.length>1){const de=Se[0];Se=Se[1];const Yn=de.split("_");it=Yn.length>=2&&Yn[1]=="type"?it+(de+"="+Se+"&"):it+(de+"=redacted&")}}}else it=null;else it=B;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+g+`
`+v+`
`+it})}function Wu(c,g,v,S,L,B,it){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+g+`
`+v+`
`+B+" "+it})}function Ri(c,g,v,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Gf(c,v)+(S?" "+S:"")})}function zs(c,g){c.info(function(){return"TIMEOUT: "+g})}ri.prototype.info=function(){};function Gf(c,g){if(!c.g)return g;if(!g)return null;try{const B=JSON.parse(g);if(B){for(c=0;c<B.length;c++)if(Array.isArray(B[c])){var v=B[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var L=S[0];if(L!="noop"&&L!="stop"&&L!="close")for(let it=1;it<S.length;it++)S[it]=""}}}}return Vr(B)}catch{return g}}var js={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},tl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},el;function Bs(){}b(Bs,Xu),Bs.prototype.g=function(){return new XMLHttpRequest},el=new Bs;function er(c){return encodeURIComponent(String(c))}function tc(c){var g=1;c=c.split(":");const v=[];for(;g>0&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function si(c,g,v,S){this.j=c,this.i=g,this.l=v,this.S=S||1,this.V=new Ls(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ai}function ai(){this.i=null,this.g="",this.h=!1}var De={},Ye={};function Ci(c,g,v){c.M=1,c.A=qs(Oe(g)),c.u=v,c.R=!0,xa(c,null)}function xa(c,g){c.F=Date.now(),Ii(c),c.B=Oe(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),ka(v.i,"t",S),c.C=0,v=c.j.L,c.h=new ai,c.g=gc(c.j,v?g:null,!c.u),c.P>0&&(c.O=new dn(y(c.Y,c,c.g),c.P)),g=c.V,v=c.g,S=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(Jo[0]=L.toString()),L=Jo);for(let B=0;B<L.length;B++){const it=fe(v,L[B],S||g.handleEvent,!1,g.h||g);if(!it)break;g.g[it.key]=it}g=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),Si(),Ff(c.i,c.v,c.B,c.l,c.S,c.u)}si.prototype.ba=function(c){c=c.target;const g=this.O;g&&ui(c)==3?g.j():this.Y(c)},si.prototype.Y=function(c){try{if(c==this.g)t:{const Dt=ui(this.g),Se=this.g.ya(),Xt=this.g.ca();if(!(Dt<3)&&(Dt!=3||this.g&&(this.h.h||this.g.la()||$e(this.g)))){this.K||Dt!=4||Se==7||(Se==8||Xt<=0?Si(3):Si(2)),Di(this);var g=this.g.ca();this.X=g;var v=Yf(this);if(this.o=g==200,Wu(this.i,this.v,this.B,this.l,this.S,Dt,g),this.o){if(this.U&&!this.L){e:{if(this.g){var S,L=this.g;if((S=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var B=S;break e}}B=null}if(c=B)Ri(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ni(this,c);else{this.o=!1,this.m=3,Ie(12),Nn(this),Hn(this);break t}}if(this.R){c=!0;let de;for(;!this.K&&this.C<v.length;)if(de=nc(this,v),de==Ye){Dt==4&&(this.m=4,Ie(14),c=!1),Ri(this.i,this.l,null,"[Incomplete Response]");break}else if(de==De){this.m=4,Ie(15),Ri(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else Ri(this.i,this.l,de,null),Ni(this,de);if(ec(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||v.length!=0||this.h.h||(this.m=1,Ie(16),c=!1),this.o=this.o&&c,!c)Ri(this.i,this.l,v,"[Invalid Chunked Response]"),Nn(this),Hn(this);else if(v.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),pl(it),it.P=!0,Ie(11))}}else Ri(this.i,this.l,v,null),Ni(this,v);Dt==4&&Nn(this),this.o&&!this.K&&(Dt==4?hc(this.j,this):(this.o=!1,Ii(this)))}else ir(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ie(12)):(this.m=0,Ie(13)),Nn(this),Hn(this)}}}catch{}finally{}};function Yf(c){if(!ec(c))return c.g.la();const g=$e(c.g);if(g==="")return"";let v="";const S=g.length,L=ui(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Nn(c),Hn(c),"";c.h.i=new f.TextDecoder}for(let B=0;B<S;B++)c.h.h=!0,v+=c.h.i.decode(g[B],{stream:!(L&&B==S-1)});return g.length=0,c.h.g+=v,c.C=0,c.h.g}function ec(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function nc(c,g){var v=c.C,S=g.indexOf(`
`,v);return S==-1?Ye:(v=Number(g.substring(v,S)),isNaN(v)?De:(S+=1,S+v>g.length?Ye:(g=g.slice(S,S+v),c.C=S+v,g)))}si.prototype.cancel=function(){this.K=!0,Nn(this)};function Ii(c){c.T=Date.now()+c.H,Ma(c,c.H)}function Ma(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=wi(y(c.aa,c),g)}function Di(c){c.D&&(f.clearTimeout(c.D),c.D=null)}si.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(zs(this.i,this.B),this.M!=2&&(Si(),Ie(17)),Nn(this),this.m=2,Hn(this)):Ma(this,this.T-c)};function Hn(c){c.j.I==0||c.K||hc(c.j,c)}function Nn(c){Di(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Wo(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function Ni(c,g){try{var v=c.j;if(v.I!=0&&(v.g==c||xi(v.h,c))){if(!c.L&&xi(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ba(v),qr(v);else break t;Xs(v),Ie(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=wi(y(v.Va,v),6e3));Oi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Pi(v,11)}else if((c.L||v.g==c)&&Ba(v),!I(g))for(L=v.Ba.g.parse(g),g=0;g<L.length;g++){let Xt=L[g];const de=Xt[0];if(!(de<=v.K))if(v.K=de,Xt=Xt[1],v.I==2)if(Xt[0]=="c"){v.M=Xt[1],v.ba=Xt[2];const Yn=Xt[3];Yn!=null&&(v.ka=Yn,v.j.info("VER="+v.ka));const zi=Xt[4];zi!=null&&(v.za=zi,v.j.info("SVER="+v.za));const ci=Xt[5];ci!=null&&typeof ci=="number"&&ci>0&&(S=1.5*ci,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const hi=c.g;if(hi){const Zs=hi.g?hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zs){var B=S.h;B.g||Zs.indexOf("spdy")==-1&&Zs.indexOf("quic")==-1&&Zs.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(rl(B,B.h),B.h=null))}if(S.G){const qa=hi.g?hi.g.getResponseHeader("X-HTTP-Session-Id"):null;qa&&(S.wa=qa,Wt(S.J,S.G,qa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var it=c;if(S.na=mc(S,S.L?S.ba:null,S.W),it.L){sl(S.h,it);var Dt=it,Se=S.O;Se&&(Dt.H=Se),Dt.D&&(Di(Dt),Ii(Dt)),S.g=it}else uc(S);v.i.length>0&&Li(v)}else Xt[0]!="stop"&&Xt[0]!="close"||Pi(v,7);else v.I==3&&(Xt[0]=="stop"||Xt[0]=="close"?Xt[0]=="stop"?Pi(v,7):ml(v):Xt[0]!="noop"&&v.l&&v.l.qa(Xt),v.A=0)}}Si(4)}catch{}}var Ne=class{constructor(c,g){this.g=c,this.map=g}};function nl(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function il(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Oi(c){return c.h?1:c.g?c.g.size:0}function xi(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function rl(c,g){c.g?c.g.add(g):c.h=g}function sl(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}nl.prototype.cancel=function(){if(this.i=al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function al(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.G);return g}return k(c.i)}var ic=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Va(c,g){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let L,B=null;S>=0?(L=c[v].substring(0,S),B=c[v].substring(S+1)):L=c[v],g(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function On(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof On?(this.l=c.l,Qe(this,c.j),this.o=c.o,this.g=c.g,Ur(this,c.u),this.h=c.h,ol(this,oc(c.i)),this.m=c.m):c&&(g=String(c).match(ic))?(this.l=!1,Qe(this,g[1]||"",!0),this.o=Mi(g[2]||""),this.g=Mi(g[3]||"",!0),Ur(this,g[4]),this.h=Mi(g[5]||"",!0),ol(this,g[6]||"",!0),this.m=Mi(g[7]||"")):(this.l=!1,this.i=new Lr(null,this.l))}On.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(Hs(g,Ua,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Hs(g,Ua,!0),"@"),c.push(er(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Hs(v,v.charAt(0)=="/"?ll:rc,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Hs(v,sc)),c.join("")},On.prototype.resolve=function(c){const g=Oe(this);let v=!!c.j;v?Qe(g,c.j):v=!!c.o,v?g.o=c.o:v=!!c.g,v?g.g=c.g:v=c.u!=null;var S=c.h;if(v)Ur(g,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var L=g.h.lastIndexOf("/");L!=-1&&(S=g.h.slice(0,L+1)+S)}if(L=S,L==".."||L==".")S="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){S=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let it=0;it<L.length;){const Dt=L[it++];Dt=="."?S&&it==L.length&&B.push(""):Dt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),S&&it==L.length&&B.push("")):(B.push(Dt),S=!0)}S=B.join("/")}else S=L}return v?g.h=S:v=c.i.toString()!=="",v?ol(g,oc(c.i)):v=!!c.m,v&&(g.m=c.m),g};function Oe(c){return new On(c)}function Qe(c,g,v){c.j=v?Mi(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Ur(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function ol(c,g,v){g instanceof Lr?(c.i=g,La(c.i,c.l)):(v||(g=Hs(g,kr)),c.i=new Lr(g,c.l))}function Wt(c,g,v){c.i.set(g,v)}function qs(c){return Wt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Mi(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Hs(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,vn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function vn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ua=/[#\/\?@]/g,rc=/[#\?:]/g,ll=/[#\?]/g,kr=/[#\?@]/g,sc=/#/g;function Lr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function En(c){c.g||(c.g=new Map,c.h=0,c.i&&Va(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}s=Lr.prototype,s.add=function(c,g){En(this),this.i=null,c=Pr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function ac(c,g){En(c),g=Pr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function ul(c,g){return En(c),g=Pr(c,g),c.g.has(g)}s.forEach=function(c,g){En(this),this.g.forEach(function(v,S){v.forEach(function(L){c.call(g,L,S,this)},this)},this)};function cl(c,g){En(c);let v=[];if(typeof g=="string")ul(c,g)&&(v=v.concat(c.g.get(Pr(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)v=v.concat(c[g]);return v}s.set=function(c,g){return En(this),this.i=null,c=Pr(this,c),ul(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},s.get=function(c,g){return c?(c=cl(this,c),c.length>0?String(c[0]):g):g};function ka(c,g,v){ac(c,g),v.length>0&&(c.i=null,c.g.set(Pr(c,g),k(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let S=0;S<g.length;S++){var v=g[S];const L=er(v);v=cl(this,v);for(let B=0;B<v.length;B++){let it=L;v[B]!==""&&(it+="="+er(v[B])),c.push(it)}}return this.i=c.join("&")};function oc(c){const g=new Lr;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function Pr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function La(c,g){g&&!c.j&&(En(c),c.i=null,c.g.forEach(function(v,S){const L=S.toLowerCase();S!=L&&(ac(this,S),ka(this,L,v))},c)),c.j=g}function oi(c,g){const v=new ri;if(f.Image){const S=new Image;S.onload=E(Fn,v,"TestLoadImage: loaded",!0,g,S),S.onerror=E(Fn,v,"TestLoadImage: error",!1,g,S),S.onabort=E(Fn,v,"TestLoadImage: abort",!1,g,S),S.ontimeout=E(Fn,v,"TestLoadImage: timeout",!1,g,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function hl(c,g){const v=new ri,S=new AbortController,L=setTimeout(()=>{S.abort(),Fn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(B=>{clearTimeout(L),B.ok?Fn(v,"TestPingServer: ok",!0,g):Fn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(L),Fn(v,"TestPingServer: error",!1,g)})}function Fn(c,g,v,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(v)}catch{}}function zr(){this.g=new Ku}function Vi(c){this.i=c.Sb||null,this.h=c.ab||!1}b(Vi,Xu),Vi.prototype.g=function(){return new Fs(this.i,this.h)};function Fs(c,g){Ce.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Fs,Ce),s=Fs.prototype,s.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,li(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,jr(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Pa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Pa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?jr(this):li(this),this.readyState==3&&Pa(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,jr(this))},s.Na=function(c){this.g&&(this.response=c,jr(this))},s.ga=function(){this.g&&jr(this)};function jr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,li(c)}s.setRequestHeader=function(c,g){this.A.append(c,g)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function li(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Fs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Gn(c){let g="";return Bt(c,function(v,S){g+=S,g+=":",g+=v,g+=`\r
`}),g}function Gs(c,g,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=Gn(v),typeof c=="string"?v!=null&&er(v):Wt(c,g,v))}function ne(c){Ce.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(ne,Ce);var Ui=/^https?$/i,fl=["POST","PUT"];s=ne.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,g,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():el.g(),this.g.onreadystatechange=C(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(B){Ys(this,B);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)v.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const B of S.keys())v.set(B,S.get(B));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(fl,g,void 0)>=0)||S||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,it]of v)this.g.setRequestHeader(B,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(B){Ys(this,B)}};function Ys(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,dl(c),nr(c)}function dl(c){c.A||(c.A=!0,He(c,"complete"),He(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,He(this,"complete"),He(this,"abort"),nr(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nr(this,!0)),ne.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Qs(this):this.Xa())},s.Xa=function(){Qs(this)};function Qs(c){if(c.h&&typeof u<"u"){if(c.v&&ui(c)==4)setTimeout(c.Ca.bind(c),0);else if(He(c,"readystatechange"),ui(c)==4){c.h=!1;try{const B=c.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var v;if(!(v=g)){var S;if(S=B===0){let it=String(c.D).match(ic)[1]||null;!it&&f.self&&f.self.location&&(it=f.self.location.protocol.slice(0,-1)),S=!Ui.test(it?it.toLowerCase():"")}v=S}if(v)He(c,"complete"),He(c,"success");else{c.o=6;try{var L=ui(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",dl(c)}}finally{nr(c)}}}}function nr(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,g||He(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ui(c){return c.g?c.g.readyState:0}s.ca=function(){try{return ui(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Hf(g)}};function $e(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ir(c){const g={};c=(c.g&&ui(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(I(c[S]))continue;var v=tc(c[S]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=g[L]||[];g[L]=B,B.push(v)}$t(g,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ki(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Br(c){this.za=0,this.i=[],this.j=new ri,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ki("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ki("baseRetryDelayMs",5e3,c),this.Za=ki("retryDelaySeedMs",1e4,c),this.Ta=ki("forwardChannelMaxRetries",2,c),this.va=ki("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new nl(c&&c.concurrentRequestLimit),this.Ba=new zr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Br.prototype,s.ka=8,s.I=1,s.connect=function(c,g,v,S){Ie(0),this.W=c,this.H=g||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=mc(this,null,this.W),Li(this)};function ml(c){if(za(c),c.I==3){var g=c.V++,v=Oe(c.J);if(Wt(v,"SID",c.M),Wt(v,"RID",g),Wt(v,"TYPE","terminate"),Ks(c,v),g=new si(c,c.j,g),g.M=2,g.A=qs(Oe(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=g.A,v=!0),v||(g.g=gc(g.j,null),g.g.ea(g.A)),g.F=Date.now(),Ii(g)}dc(c)}function qr(c){c.g&&(pl(c),c.g.cancel(),c.g=null)}function za(c){qr(c),c.v&&(f.clearTimeout(c.v),c.v=null),Ba(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Li(c){if(!il(c.h)&&!c.m){c.m=!0;var g=c.Ea;at||A(),tt||(at(),tt=!0),R.add(g,c),c.D=0}}function ja(c,g){return Oi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=wi(y(c.Ea,c,g),fc(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new si(this,this.j,c);let B=this.o;if(this.U&&(B?(B=M(B),ot(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var g=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(g+=S,g>4096){g=v;break t}if(g===4096||v===this.i.length-1){g=v+1;break t}}g=1e3}else g=1e3;g=lc(this,L,g),v=Oe(this.J),Wt(v,"RID",c),Wt(v,"CVER",22),this.G&&Wt(v,"X-HTTP-Session-Id",this.G),Ks(this,v),B&&(this.R?g="headers="+er(Gn(B))+"&"+g:this.u&&Gs(v,this.u,B)),rl(this.h,L),this.Ra&&Wt(v,"TYPE","init"),this.S?(Wt(v,"$req",g),Wt(v,"SID","null"),L.U=!0,Ci(L,v,null)):Ci(L,v,g),this.I=2}}else this.I==3&&(c?gl(this,c):this.i.length==0||il(this.h)||gl(this))};function gl(c,g){var v;g?v=g.l:v=c.V++;const S=Oe(c.J);Wt(S,"SID",c.M),Wt(S,"RID",v),Wt(S,"AID",c.K),Ks(c,S),c.u&&c.o&&Gs(S,c.u,c.o),v=new si(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),g&&(c.i=g.G.concat(c.i)),g=lc(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),rl(c.h,v),Ci(v,S,g)}function Ks(c,g){c.H&&Bt(c.H,function(v,S){Wt(g,S,v)}),c.l&&Bt({},function(v,S){Wt(g,S,v)})}function lc(c,g,v){v=Math.min(c.i.length,v);const S=c.l?y(c.l.Ka,c.l,c):null;t:{var L=c.i;let Dt=-1;for(;;){const Se=["count="+v];Dt==-1?v>0?(Dt=L[0].g,Se.push("ofs="+Dt)):Dt=0:Se.push("ofs="+Dt);let Xt=!0;for(let de=0;de<v;de++){var B=L[de].g;const Yn=L[de].map;if(B-=Dt,B<0)Dt=Math.max(0,L[de].g-100),Xt=!1;else try{B="req"+B+"_"||"";try{var it=Yn instanceof Map?Yn:Object.entries(Yn);for(const[zi,ci]of it){let hi=ci;m(ci)&&(hi=Vr(ci)),Se.push(B+zi+"="+encodeURIComponent(hi))}}catch(zi){throw Se.push(B+"type="+encodeURIComponent("_badmap")),zi}}catch{S&&S(Yn)}}if(Xt){it=Se.join("&");break t}}it=void 0}return c=c.i.splice(0,v),g.G=c,it}function uc(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;at||A(),tt||(at(),tt=!0),R.add(g,c),c.A=0}}function Xs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=wi(y(c.Da,c),fc(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,cc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=wi(y(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ie(10),qr(this),cc(this))};function pl(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function cc(c){c.g=new si(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=Oe(c.na);Wt(g,"RID","rpc"),Wt(g,"SID",c.M),Wt(g,"AID",c.K),Wt(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Wt(g,"TO",c.ia),Wt(g,"TYPE","xmlhttp"),Ks(c,g),c.u&&c.o&&Gs(g,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=qs(Oe(g)),v.u=null,v.R=!0,xa(v,c)}s.Va=function(){this.C!=null&&(this.C=null,qr(this),Xs(this),Ie(19))};function Ba(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function hc(c,g){var v=null;if(c.g==g){Ba(c),pl(c),c.g=null;var S=2}else if(xi(c.h,g))v=g.G,sl(c.h,g),S=1;else return;if(c.I!=0){if(g.o)if(S==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var L=c.D;S=Oa(),He(S,new Ai(S,v)),Li(c)}else uc(c);else if(L=g.m,L==3||L==0&&g.X>0||!(S==1&&ja(c,g)||S==2&&Xs(c)))switch(v&&v.length>0&&(g=c.h,g.i=g.i.concat(v)),L){case 1:Pi(c,5);break;case 4:Pi(c,10);break;case 3:Pi(c,6);break;default:Pi(c,2)}}}function fc(c,g){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*g}function Pi(c,g){if(c.j.info("Error code "+g),g==2){var v=y(c.bb,c),S=c.Ua;const L=!S;S=new On(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Qe(S,"https"),qs(S),L?oi(S.toString(),v):hl(S.toString(),v)}else Ie(2);c.I=0,c.l&&c.l.pa(g),dc(c),za(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Ie(2)):(this.j.info("Failed to ping google.com"),Ie(1))};function dc(c){if(c.I=0,c.ja=[],c.l){const g=al(c.h);(g.length!=0||c.i.length!=0)&&(H(c.ja,g),H(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function mc(c,g,v){var S=v instanceof On?Oe(v):new On(v);if(S.g!="")g&&(S.g=g+"."+S.g),Ur(S,S.u);else{var L=f.location;S=L.protocol,g=g?g+"."+L.hostname:L.hostname,L=+L.port;const B=new On(null);S&&Qe(B,S),g&&(B.g=g),L&&Ur(B,L),v&&(B.h=v),S=B}return v=c.G,g=c.wa,v&&g&&Wt(S,v,g),Wt(S,"VER",c.ka),Ks(c,S),S}function gc(c,g,v){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new ne(new Vi({ab:v})):new ne(c.ma),g.Fa(c.L),g}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function pc(){}s=pc.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Hr(){}Hr.prototype.g=function(c,g){return new mn(c,g)};function mn(c,g){Ce.call(this),this.g=new Br(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!I(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!I(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new rr(this)}b(mn,Ce),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){ml(this.g)},mn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Vr(c),c=v);g.i.push(new Ne(g.Ya++,c)),g.I==3&&Li(g)},mn.prototype.N=function(){this.g.l=null,delete this.j,ml(this.g),delete this.g,mn.Z.N.call(this)};function yc(c){Ze.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){t:{for(const v in g){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}b(yc,Ze);function _c(){qn.call(this),this.status=1}b(_c,qn);function rr(c){this.g=c}b(rr,pc),rr.prototype.ra=function(){He(this.g,"a")},rr.prototype.qa=function(c){He(this.g,new yc(c))},rr.prototype.pa=function(c){He(this.g,new _c)},rr.prototype.oa=function(){He(this.g,"b")},Hr.prototype.createWebChannel=Hr.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,hb=function(){return new Hr},cb=function(){return Oa()},ub=be,bg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},js.NO_ERROR=0,js.TIMEOUT=8,js.HTTP_ERROR=6,kh=js,tl.COMPLETE="complete",lb=tl,Zu.EventType=ii,ii.OPEN="a",ii.CLOSE="b",ii.ERROR="c",ii.MESSAGE="d",Ce.prototype.listen=Ce.prototype.J,nu=Zu,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,ob=ne}).apply(typeof Sh<"u"?Sh:typeof self<"u"?self:typeof window<"u"?window:{});const s0="@firebase/firestore",a0="4.9.2";class cn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let Fo="12.3.0";const Aa=new Zg("@firebase/firestore");function To(){return Aa.logLevel}function ht(s,...t){if(Aa.logLevel<=Pt.DEBUG){const n=t.map(up);Aa.debug(`Firestore (${Fo}): ${s}`,...n)}}function Ir(s,...t){if(Aa.logLevel<=Pt.ERROR){const n=t.map(up);Aa.error(`Firestore (${Fo}): ${s}`,...n)}}function Vo(s,...t){if(Aa.logLevel<=Pt.WARN){const n=t.map(up);Aa.warn(`Firestore (${Fo}): ${s}`,...n)}}function up(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function Et(s,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,fb(s,r,n)}function fb(s,t,n){let r=`FIRESTORE (${Fo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ir(r),new Error(r)}function Jt(s,t,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||fb(t,o,r)}function Ct(s,t){return s}const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Or{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ar{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class db{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class CI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(cn.UNAUTHENTICATED)))}shutdown(){}}class II{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class DI{constructor(t){this.t=t,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Jt(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let u=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ar,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ar)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Jt(typeof r.accessToken=="string",31837,{l:r}),new db(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Jt(t===null||typeof t=="string",2055,{h:t}),new cn(t)}}class NI{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class OI{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new NI(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class o0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xI{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_i(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Jt(this.o===void 0,3512);const r=u=>{u.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ht("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new o0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Jt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new o0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function MI(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class cp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=MI(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=t.charAt(o[u]%62))}return r}}function zt(s,t){return s<t?-1:s>t?1:0}function Sg(s,t){const n=Math.min(s.length,t.length);for(let r=0;r<n;r++){const o=s.charAt(r),u=t.charAt(r);if(o!==u)return Wm(o)===Wm(u)?zt(o,u):Wm(o)?1:-1}return zt(s.length,t.length)}const VI=55296,UI=57343;function Wm(s){const t=s.charCodeAt(0);return t>=VI&&t<=UI}function Uo(s,t,n){return s.length===t.length&&s.every(((r,o)=>n(r,t[o])))}const l0="__name__";class Fi{constructor(t,n,r){n===void 0?n=0:n>t.length&&Et(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&Et(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Fi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Fi?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let o=0;o<r;o++){const u=Fi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return zt(t.length,n.length)}static compareSegments(t,n){const r=Fi.isNumericId(t),o=Fi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Fi.extractNumericId(t).compare(Fi.extractNumericId(n)):Sg(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ss.fromString(t.substring(4,t.length-2))}}class oe extends Fi{construct(t,n,r){return new oe(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new lt(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new oe(n)}static emptyPath(){return new oe([])}}const kI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Fi{construct(t,n,r){return new sn(t,n,r)}static isValidIdentifier(t){return kI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===l0}static keyField(){return new sn([l0])}static fromServerFormat(t){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new lt(K.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new lt(K.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new lt(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(r+=m,o++):(u(),o++)}if(u(),f)throw new lt(K.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new sn(n)}static emptyPath(){return new sn([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(oe.fromString(t))}static fromName(t){return new yt(oe.fromString(t).popFirst(5))}static empty(){return new yt(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return oe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new oe(t.slice()))}}function mb(s,t,n){if(!n)throw new lt(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function LI(s,t,n,r){if(t===!0&&r===!0)throw new lt(K.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function u0(s){if(!yt.isDocumentKey(s))throw new lt(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function c0(s){if(yt.isDocumentKey(s))throw new lt(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function gb(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Af(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":Et(12329,{type:typeof s})}function yn(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new lt(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Af(s);throw new lt(K.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}function je(s,t){const n={typeString:s};return t&&(n.value=t),n}function Uu(s,t){if(!gb(s))throw new lt(K.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new lt(K.INVALID_ARGUMENT,n);return!0}const h0=-62135596800,f0=1e6;class he{static now(){return he.fromMillis(Date.now())}static fromDate(t){return he.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*f0);return new he(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new lt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new lt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<h0)throw new lt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/f0}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:he._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Uu(t,he._jsonSchema))return new he(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-h0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}he._jsonSchemaVersion="firestore/timestamp/1.0",he._jsonSchema={type:je("string",he._jsonSchemaVersion),seconds:je("number"),nanoseconds:je("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new he(0,0))}static max(){return new At(new he(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const bu=-1;function PI(s,t){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=At.fromTimestamp(r===1e9?new he(n+1,0):new he(n,r));return new Rs(o,yt.empty(),t)}function zI(s){return new Rs(s.readTime,s.key,bu)}class Rs{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Rs(At.min(),yt.empty(),bu)}static max(){return new Rs(At.max(),yt.empty(),bu)}}function jI(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(s.documentKey,t.documentKey),n!==0?n:zt(s.largestBatchId,t.largestBatchId))}const BI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Go(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==BI)throw s;ht("LocalStore","Unexpectedly lost primary lease")}class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new W(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):W.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):W.reject(n)}static resolve(t){return new W(((n,r)=>{n(t)}))}static reject(t){return new W(((n,r)=>{r(t)}))}static waitFor(t){return new W(((n,r)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>r(p)))})),f=!0,u===o&&n()}))}static or(t){let n=W.resolve(!1);for(const r of t)n=n.next((o=>o?W.resolve(o):r()));return n}static forEach(t,n){const r=[];return t.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(t,n){return new W(((r,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(t[y]).next((E=>{f[y]=E,++m,m===u&&r(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new W(((r,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):r()};u()}))}}function HI(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yo(s){return s.name==="IndexedDbTransactionError"}class wf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}wf.ce=-1;const hp=-1;function Rf(s){return s==null}function rf(s){return s===0&&1/s==-1/0}function FI(s){return typeof s=="number"&&Number.isInteger(s)&&!rf(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const pb="";function GI(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=d0(t)),t=YI(s.get(n),t);return d0(t)}function YI(s,t){let n=t;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case pb:n+="";break;default:n+=u}}return n}function d0(s){return s+pb+""}function m0(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function xs(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function yb(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class ye{constructor(t,n){this.comparator=t,this.root=n||rn.EMPTY}insert(t,n){return new ye(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(t){return new ye(this.comparator,this.root.remove(t,this.comparator).copy(null,null,rn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ah(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ah(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ah(this.root,t,this.comparator,!0)}}class Ah{constructor(t,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class rn{constructor(t,n,r,o,u){this.key=t,this.value=n,this.color=r??rn.RED,this.left=o??rn.EMPTY,this.right=u??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,o,u){return new rn(t??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return rn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,n,r,o,u){return this}insert(t,n,r){return new rn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ge{constructor(t){this.comparator=t,this.data=new ye(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new g0(this.data.getIterator())}getIteratorFrom(t){return new g0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof Ge)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ge(this.comparator);return n.data=t,n}}class g0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Bn{constructor(t){this.fields=t,t.sort(sn.comparator)}static empty(){return new Bn([])}unionWith(t){let n=new Ge(sn.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Bn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Uo(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class _b extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class an{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new _b("Invalid base64 string: "+u):u}})(t);return new an(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new an(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}an.EMPTY_BYTE_STRING=new an("");const QI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(s){if(Jt(!!s,39018),typeof s=="string"){let t=0;const n=QI.exec(s);if(Jt(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Re(s.seconds),nanos:Re(s.nanos)}}function Re(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Is(s){return typeof s=="string"?an.fromBase64String(s):an.fromUint8Array(s)}const vb="server_timestamp",Eb="__type__",Tb="__previous_value__",bb="__local_write_time__";function fp(s){return(s?.mapValue?.fields||{})[Eb]?.stringValue===vb}function Cf(s){const t=s.mapValue.fields[Tb];return fp(t)?Cf(t):t}function Su(s){const t=Cs(s.mapValue.fields[bb].timestampValue);return new he(t.seconds,t.nanos)}class KI{constructor(t,n,r,o,u,f,m,p,y,E){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const sf="(default)";class Au{constructor(t,n){this.projectId=t,this.database=n||sf}static empty(){return new Au("","")}get isDefaultDatabase(){return this.database===sf}isEqual(t){return t instanceof Au&&t.projectId===this.projectId&&t.database===this.database}}const Sb="__type__",XI="__max__",wh={mapValue:{}},Ab="__vector__",af="value";function Ds(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?fp(s)?4:$I(s)?9007199254740991:ZI(s)?10:11:Et(28295,{value:s})}function Ji(s,t){if(s===t)return!0;const n=Ds(s);if(n!==Ds(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Su(s).isEqual(Su(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Cs(o.timestampValue),m=Cs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(o,u){return Is(o.bytesValue).isEqual(Is(u.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(o,u){return Re(o.geoPointValue.latitude)===Re(u.geoPointValue.latitude)&&Re(o.geoPointValue.longitude)===Re(u.geoPointValue.longitude)})(s,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Re(o.integerValue)===Re(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Re(o.doubleValue),m=Re(u.doubleValue);return f===m?rf(f)===rf(m):isNaN(f)&&isNaN(m)}return!1})(s,t);case 9:return Uo(s.arrayValue.values||[],t.arrayValue.values||[],Ji);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(m0(f)!==m0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ji(f[p],m[p])))return!1;return!0})(s,t);default:return Et(52216,{left:s})}}function wu(s,t){return(s.values||[]).find((n=>Ji(n,t)))!==void 0}function ko(s,t){if(s===t)return 0;const n=Ds(s),r=Ds(t);if(n!==r)return zt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return zt(s.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=Re(u.integerValue||u.doubleValue),p=Re(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(s,t);case 3:return p0(s.timestampValue,t.timestampValue);case 4:return p0(Su(s),Su(t));case 5:return Sg(s.stringValue,t.stringValue);case 6:return(function(u,f){const m=Is(u),p=Is(f);return m.compareTo(p)})(s.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=zt(m[y],p[y]);if(E!==0)return E}return zt(m.length,p.length)})(s.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=zt(Re(u.latitude),Re(f.latitude));return m!==0?m:zt(Re(u.longitude),Re(f.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return y0(s.arrayValue,t.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},y=m[af]?.arrayValue,E=p[af]?.arrayValue,b=zt(y?.values?.length||0,E?.values?.length||0);return b!==0?b:y0(y,E)})(s.mapValue,t.mapValue);case 11:return(function(u,f){if(u===wh.mapValue&&f===wh.mapValue)return 0;if(u===wh.mapValue)return 1;if(f===wh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const C=Sg(p[b],E[b]);if(C!==0)return C;const k=ko(m[p[b]],y[E[b]]);if(k!==0)return k}return zt(p.length,E.length)})(s.mapValue,t.mapValue);default:throw Et(23264,{he:n})}}function p0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return zt(s,t);const n=Cs(s),r=Cs(t),o=zt(n.seconds,r.seconds);return o!==0?o:zt(n.nanos,r.nanos)}function y0(s,t){const n=s.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=ko(n[o],r[o]);if(u)return u}return zt(n.length,r.length)}function Lo(s){return Ag(s)}function Ag(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=Cs(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return Is(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return yt.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=Ag(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${Ag(n.fields[f])}`;return o+"}"})(s.mapValue):Et(61005,{value:s})}function Lh(s){switch(Ds(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Cf(s);return t?16+Lh(t):16;case 5:return 2*s.stringValue.length;case 6:return Is(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Lh(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return xs(r.fields,((u,f)=>{o+=u.length+Lh(f)})),o})(s.mapValue);default:throw Et(13486,{value:s})}}function _0(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function wg(s){return!!s&&"integerValue"in s}function dp(s){return!!s&&"arrayValue"in s}function v0(s){return!!s&&"nullValue"in s}function E0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Ph(s){return!!s&&"mapValue"in s}function ZI(s){return(s?.mapValue?.fields||{})[Sb]?.stringValue===Ab}function hu(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return xs(s.mapValue.fields,((n,r)=>t.mapValue.fields[n]=hu(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=hu(s.arrayValue.values[n]);return t}return{...s}}function $I(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===XI}class In{constructor(t){this.value=t}static empty(){return new In({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Ph(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=hu(n)}setAll(t){let n=sn.emptyPath(),r={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,r,o),r={},o=[],n=m.popLast()}f?r[m.lastSegment()]=hu(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(t){const n=this.field(t.popLast());Ph(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ji(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=n.mapValue.fields[t.get(r)];Ph(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,r){xs(n,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new In(hu(this.value))}}function wb(s){const t=[];return xs(s.fields,((n,r)=>{const o=new sn([n]);if(Ph(r)){const u=wb(r.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new Bn(t)}class hn{constructor(t,n,r,o,u,f,m){this.key=t,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new hn(t,0,At.min(),At.min(),At.min(),In.empty(),0)}static newFoundDocument(t,n,r,o){return new hn(t,1,n,At.min(),r,o,0)}static newNoDocument(t,n){return new hn(t,2,n,At.min(),At.min(),In.empty(),0)}static newUnknownDocument(t,n){return new hn(t,3,n,At.min(),At.min(),In.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof hn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class of{constructor(t,n){this.position=t,this.inclusive=n}}function T0(s,t,n){let r=0;for(let o=0;o<s.position.length;o++){const u=t[o],f=s.position[o];if(u.field.isKeyField()?r=yt.comparator(yt.fromName(f.referenceValue),n.key):r=ko(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function b0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Ji(s.position[n],t.position[n]))return!1;return!0}class Ru{constructor(t,n="asc"){this.field=t,this.dir=n}}function JI(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class Rb{}class ze extends Rb{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new tD(t,n,r):n==="array-contains"?new iD(t,r):n==="in"?new rD(t,r):n==="not-in"?new sD(t,r):n==="array-contains-any"?new aD(t,r):new ze(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new eD(t,r):new nD(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ko(n,this.value)):n!==null&&Ds(this.value)===Ds(n)&&this.matchesComparison(ko(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ti extends Rb{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Ti(t,n)}matches(t){return Cb(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Cb(s){return s.op==="and"}function Ib(s){return WI(s)&&Cb(s)}function WI(s){for(const t of s.filters)if(t instanceof Ti)return!1;return!0}function Rg(s){if(s instanceof ze)return s.field.canonicalString()+s.op.toString()+Lo(s.value);if(Ib(s))return s.filters.map((t=>Rg(t))).join(",");{const t=s.filters.map((n=>Rg(n))).join(",");return`${s.op}(${t})`}}function Db(s,t){return s instanceof ze?(function(r,o){return o instanceof ze&&r.op===o.op&&r.field.isEqual(o.field)&&Ji(r.value,o.value)})(s,t):s instanceof Ti?(function(r,o){return o instanceof Ti&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,m)=>u&&Db(f,o.filters[m])),!0):!1})(s,t):void Et(19439)}function Nb(s){return s instanceof ze?(function(n){return`${n.field.canonicalString()} ${n.op} ${Lo(n.value)}`})(s):s instanceof Ti?(function(n){return n.op.toString()+" {"+n.getFilters().map(Nb).join(" ,")+"}"})(s):"Filter"}class tD extends ze{constructor(t,n,r){super(t,n,r),this.key=yt.fromName(r.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class eD extends ze{constructor(t,n){super(t,"in",n),this.keys=Ob("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class nD extends ze{constructor(t,n){super(t,"not-in",n),this.keys=Ob("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function Ob(s,t){return(t.arrayValue?.values||[]).map((n=>yt.fromName(n.referenceValue)))}class iD extends ze{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return dp(n)&&wu(n.arrayValue,this.value)}}class rD extends ze{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&wu(this.value.arrayValue,n)}}class sD extends ze{constructor(t,n){super(t,"not-in",n)}matches(t){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!wu(this.value.arrayValue,n)}}class aD extends ze{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!dp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>wu(this.value.arrayValue,r)))}}class oD{constructor(t,n=null,r=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function S0(s,t=null,n=[],r=[],o=null,u=null,f=null){return new oD(s,t,n,r,o,u,f)}function mp(s){const t=Ct(s);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>Rg(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Rf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>Lo(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>Lo(r))).join(",")),t.Te=n}return t.Te}function gp(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!JI(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!Db(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!b0(s.startAt,t.startAt)&&b0(s.endAt,t.endAt)}function Cg(s){return yt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Qo{constructor(t,n=null,r=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function lD(s,t,n,r,o,u,f,m){return new Qo(s,t,n,r,o,u,f,m)}function If(s){return new Qo(s)}function A0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function xb(s){return s.collectionGroup!==null}function fu(s){const t=Ct(s);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ge(sn.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Ru(u,r))})),n.has(sn.keyField().canonicalString())||t.Ie.push(new Ru(sn.keyField(),r))}return t.Ie}function Yi(s){const t=Ct(s);return t.Ee||(t.Ee=uD(t,fu(s))),t.Ee}function uD(s,t){if(s.limitType==="F")return S0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Ru(o.field,u)}));const n=s.endAt?new of(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new of(s.startAt.position,s.startAt.inclusive):null;return S0(s.path,s.collectionGroup,t,s.filters,s.limit,n,r)}}function Ig(s,t){const n=s.filters.concat([t]);return new Qo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function Dg(s,t,n){return new Qo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function Df(s,t){return gp(Yi(s),Yi(t))&&s.limitType===t.limitType}function Mb(s){return`${mp(Yi(s))}|lt:${s.limitType}`}function bo(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>Nb(o))).join(", ")}]`),Rf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Lo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Lo(o))).join(",")),`Target(${r})`})(Yi(s))}; limitType=${s.limitType})`}function Nf(s,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):yt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,t)&&(function(r,o){for(const u of fu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,t)&&(function(r,o){return!(r.startAt&&!(function(f,m,p){const y=T0(f,m,p);return f.inclusive?y<=0:y<0})(r.startAt,fu(r),o)||r.endAt&&!(function(f,m,p){const y=T0(f,m,p);return f.inclusive?y>=0:y>0})(r.endAt,fu(r),o))})(s,t)}function cD(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Vb(s){return(t,n)=>{let r=!1;for(const o of fu(s)){const u=hD(o,t,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function hD(s,t,n){const r=s.field.isKeyField()?yt.comparator(t.key,n.key):(function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?ko(p,y):Et(42886)})(s.field,t,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Et(19790,{direction:s.dir})}}class Ra{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){xs(this.inner,((n,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return yb(this.inner)}size(){return this.innerSize}}const fD=new ye(yt.comparator);function Dr(){return fD}const Ub=new ye(yt.comparator);function iu(...s){let t=Ub;for(const n of s)t=t.insert(n.key,n);return t}function kb(s){let t=Ub;return s.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function ya(){return du()}function Lb(){return du()}function du(){return new Ra((s=>s.toString()),((s,t)=>s.isEqual(t)))}const dD=new ye(yt.comparator),mD=new Ge(yt.comparator);function jt(...s){let t=mD;for(const n of s)t=t.add(n);return t}const gD=new Ge(zt);function pD(){return gD}function pp(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rf(t)?"-0":t}}function Pb(s){return{integerValue:""+s}}function yD(s,t){return FI(t)?Pb(t):pp(s,t)}class Of{constructor(){this._=void 0}}function _D(s,t,n){return s instanceof Cu?(function(o,u){const f={fields:{[Eb]:{stringValue:vb},[bb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&fp(u)&&(u=Cf(u)),u&&(f.fields[Tb]=u),{mapValue:f}})(n,t):s instanceof Iu?jb(s,t):s instanceof Du?Bb(s,t):(function(o,u){const f=zb(o,u),m=w0(f)+w0(o.Ae);return wg(f)&&wg(o.Ae)?Pb(m):pp(o.serializer,m)})(s,t)}function vD(s,t,n){return s instanceof Iu?jb(s,t):s instanceof Du?Bb(s,t):n}function zb(s,t){return s instanceof lf?(function(r){return wg(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class Cu extends Of{}class Iu extends Of{constructor(t){super(),this.elements=t}}function jb(s,t){const n=qb(t);for(const r of s.elements)n.some((o=>Ji(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Du extends Of{constructor(t){super(),this.elements=t}}function Bb(s,t){let n=qb(t);for(const r of s.elements)n=n.filter((o=>!Ji(o,r)));return{arrayValue:{values:n}}}class lf extends Of{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function w0(s){return Re(s.integerValue||s.doubleValue)}function qb(s){return dp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class ED{constructor(t,n){this.field=t,this.transform=n}}function TD(s,t){return s.field.isEqual(t.field)&&(function(r,o){return r instanceof Iu&&o instanceof Iu||r instanceof Du&&o instanceof Du?Uo(r.elements,o.elements,Ji):r instanceof lf&&o instanceof lf?Ji(r.Ae,o.Ae):r instanceof Cu&&o instanceof Cu})(s.transform,t.transform)}class bD{constructor(t,n){this.version=t,this.transformResults=n}}class _n{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new _n}static exists(t){return new _n(void 0,t)}static updateTime(t){return new _n(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function zh(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class xf{}function Hb(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Mf(s.key,_n.none()):new ku(s.key,s.data,_n.none());{const n=s.data,r=In.empty();let o=new Ge(sn.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new Ms(s.key,r,new Bn(o.toArray()),_n.none())}}function SD(s,t,n){s instanceof ku?(function(o,u,f){const m=o.value.clone(),p=C0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(s,t,n):s instanceof Ms?(function(o,u,f){if(!zh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=C0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(Fb(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(s,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function mu(s,t,n,r){return s instanceof ku?(function(u,f,m,p){if(!zh(u.precondition,f))return m;const y=u.value.clone(),E=I0(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(s,t,n,r):s instanceof Ms?(function(u,f,m,p){if(!zh(u.precondition,f))return m;const y=I0(u.fieldTransforms,p,f),E=f.data;return E.setAll(Fb(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(s,t,n,r):(function(u,f,m){return zh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(s,t,n)}function AD(s,t){let n=null;for(const r of s.fieldTransforms){const o=t.data.field(r.field),u=zb(r.transform,o||null);u!=null&&(n===null&&(n=In.empty()),n.set(r.field,u))}return n||null}function R0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Uo(r,o,((u,f)=>TD(u,f)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class ku extends xf{constructor(t,n,r,o=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ms extends xf{constructor(t,n,r,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Fb(s){const t=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);t.set(n,r)}})),t}function C0(s,t,n){const r=new Map;Jt(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let o=0;o<n.length;o++){const u=s[o],f=u.transform,m=t.data.field(u.field);r.set(u.field,vD(f,m,n[o]))}return r}function I0(s,t,n){const r=new Map;for(const o of s){const u=o.transform,f=n.data.field(o.field);r.set(o.field,_D(u,f,t))}return r}class Mf extends xf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wD extends xf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class RD{constructor(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&SD(u,t,r[o])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=mu(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=mu(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=Lb();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=Hb(f,m);p!==null&&r.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(At.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),jt())}isEqual(t){return this.batchId===t.batchId&&Uo(this.mutations,t.mutations,((n,r)=>R0(n,r)))&&Uo(this.baseMutations,t.baseMutations,((n,r)=>R0(n,r)))}}class yp{constructor(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(t,n,r){Jt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return dD})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new yp(t,n,r,o)}}class CD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class ID{constructor(t,n){this.count=t,this.unchangedNames=n}}var ke,Gt;function DD(s){switch(s){case K.OK:return Et(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return Et(15467,{code:s})}}function Gb(s){if(s===void 0)return Ir("GRPC error has no .code"),K.UNKNOWN;switch(s){case ke.OK:return K.OK;case ke.CANCELLED:return K.CANCELLED;case ke.UNKNOWN:return K.UNKNOWN;case ke.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case ke.INTERNAL:return K.INTERNAL;case ke.UNAVAILABLE:return K.UNAVAILABLE;case ke.UNAUTHENTICATED:return K.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case ke.NOT_FOUND:return K.NOT_FOUND;case ke.ALREADY_EXISTS:return K.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return K.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case ke.ABORTED:return K.ABORTED;case ke.OUT_OF_RANGE:return K.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return K.UNIMPLEMENTED;case ke.DATA_LOSS:return K.DATA_LOSS;default:return Et(39323,{code:s})}}(Gt=ke||(ke={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";function ND(){return new TextEncoder}const OD=new Ss([4294967295,4294967295],0);function D0(s){const t=ND().encode(s),n=new ab;return n.update(t),new Uint8Array(n.digest())}function N0(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Ss([n,r],0),new Ss([o,u],0)]}class _p{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ru(`Invalid padding: ${n}`);if(r<0)throw new ru(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new ru(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new ru(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Ss.fromNumber(this.ge)}ye(t,n,r){let o=t.add(n.multiply(Ss.fromNumber(r)));return o.compare(OD)===1&&(o=new Ss([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=D0(t),[r,o]=N0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(t,n,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new _p(u,o,n);return r.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const n=D0(t),[r,o]=N0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vf{constructor(t,n,r,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const o=new Map;return o.set(t,Lu.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Vf(At.min(),o,new ye(zt),Dr(),jt())}}class Lu{constructor(t,n,r,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Lu(r,n,jt(),jt(),jt())}}class jh{constructor(t,n,r,o){this.be=t,this.removedTargetIds=n,this.key=r,this.De=o}}class Yb{constructor(t,n){this.targetId=t,this.Ce=n}}class Qb{constructor(t,n,r=an.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=o}}class O0{constructor(){this.ve=0,this.Fe=x0(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=jt(),n=jt(),r=jt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Et(38017,{changeType:u})}})),new Lu(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=x0()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Jt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class xD{constructor(t){this.Ge=t,this.ze=new Map,this.je=Dr(),this.Je=Rh(),this.He=Rh(),this.Ye=new ye(zt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,r=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Cg(u))if(r===0){const f=new yt(u.path);this.et(n,f,hn.newNoDocument(f,At.min()))}else Jt(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const m=this.ut(t),p=m?this.ct(m,t,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Is(r).toUint8Array()}catch(p){if(p instanceof _b)return Vo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new _p(f,o,u)}catch(p){return Vo(p instanceof ru?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Cg(m.target)){const p=new yt(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,hn.newNoDocument(p,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let r=jt();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new Vf(t,n,this.Ye,this.je,r);return this.je=Dr(),this.Je=Rh(),this.He=Rh(),this.Ye=new ye(zt),o}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new O0,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Ge(zt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Ge(zt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ht("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new O0),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Rh(){return new ye(yt.comparator)}function x0(){return new ye(yt.comparator)}const MD={asc:"ASCENDING",desc:"DESCENDING"},VD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UD={and:"AND",or:"OR"};class kD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Ng(s,t){return s.useProto3Json||Rf(t)?t:{value:t}}function uf(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Kb(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function LD(s,t){return uf(s,t.toTimestamp())}function Qi(s){return Jt(!!s,49232),At.fromTimestamp((function(n){const r=Cs(n);return new he(r.seconds,r.nanos)})(s))}function vp(s,t){return Og(s,t).canonicalString()}function Og(s,t){const n=(function(o){return new oe(["projects",o.projectId,"databases",o.database])})(s).child("documents");return t===void 0?n:n.child(t)}function Xb(s){const t=oe.fromString(s);return Jt(tS(t),10190,{key:t.toString()}),t}function xg(s,t){return vp(s.databaseId,t.path)}function tg(s,t){const n=Xb(t);if(n.get(1)!==s.databaseId.projectId)throw new lt(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new lt(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new yt($b(n))}function Zb(s,t){return vp(s.databaseId,t)}function PD(s){const t=Xb(s);return t.length===4?oe.emptyPath():$b(t)}function Mg(s){return new oe(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function $b(s){return Jt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function M0(s,t,n){return{name:xg(s,t),fields:n.value.mapValue.fields}}function zD(s,t){let n;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Et(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Jt(E===void 0||typeof E=="string",58123),an.fromBase64String(E||"")):(Jt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),an.fromUint8Array(E||new Uint8Array))})(s,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?K.UNKNOWN:Gb(y.code);return new lt(E,y.message||"")})(f);n=new Qb(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=tg(s,r.document.name),u=Qi(r.document.updateTime),f=r.document.createTime?Qi(r.document.createTime):At.min(),m=new In({mapValue:{fields:r.document.fields}}),p=hn.newFoundDocument(o,u,f,m),y=r.targetIds||[],E=r.removedTargetIds||[];n=new jh(y,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=tg(s,r.document),u=r.readTime?Qi(r.readTime):At.min(),f=hn.newNoDocument(o,u),m=r.removedTargetIds||[];n=new jh([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=tg(s,r.document),u=r.removedTargetIds||[];n=new jh([],u,o,null)}else{if(!("filter"in t))return Et(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new ID(o,u),m=r.targetId;n=new Yb(m,f)}}return n}function jD(s,t){let n;if(t instanceof ku)n={update:M0(s,t.key,t.value)};else if(t instanceof Mf)n={delete:xg(s,t.key)};else if(t instanceof Ms)n={update:M0(s,t.key,t.data),updateMask:XD(t.fieldMask)};else{if(!(t instanceof wD))return Et(16599,{Vt:t.type});n={verify:xg(s,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(u,f){const m=f.transform;if(m instanceof Cu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Iu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Du)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof lf)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Et(20930,{transform:f.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:LD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Et(27497)})(s,t.precondition)),n}function BD(s,t){return s&&s.length>0?(Jt(t!==void 0,14353),s.map((n=>(function(o,u){let f=o.updateTime?Qi(o.updateTime):Qi(u);return f.isEqual(At.min())&&(f=Qi(u)),new bD(f,o.transformResults||[])})(n,t)))):[]}function qD(s,t){return{documents:[Zb(s,t.path)]}}function HD(s,t){const n={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Zb(s,o);const u=(function(y){if(y.length!==0)return Wb(Ti.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(C){return{field:So(C.field),direction:YD(C.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Ng(s,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:o}}function FD(s){let t=PD(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Jt(r===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(b){const C=Jb(b);return C instanceof Ti&&Ib(C)?C.getFilters():[C]})(n.where));let f=[];n.orderBy&&(f=(function(b){return b.map((C=>(function(H){return new Ru(Ao(H.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(C)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let C;return C=typeof b=="object"?b.value:b,Rf(C)?null:C})(n.limit));let p=null;n.startAt&&(p=(function(b){const C=!!b.before,k=b.values||[];return new of(k,C)})(n.startAt));let y=null;return n.endAt&&(y=(function(b){const C=!b.before,k=b.values||[];return new of(k,C)})(n.endAt)),lD(t,o,f,u,m,"F",p,y)}function GD(s,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Jb(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ao(n.unaryFilter.field);return ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Ao(n.unaryFilter.field);return ze.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ao(n.unaryFilter.field);return ze.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ao(n.unaryFilter.field);return ze.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(s):s.fieldFilter!==void 0?(function(n){return ze.create(Ao(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Ti.create(n.compositeFilter.filters.map((r=>Jb(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(n.compositeFilter.op))})(s):Et(30097,{filter:s})}function YD(s){return MD[s]}function QD(s){return VD[s]}function KD(s){return UD[s]}function So(s){return{fieldPath:s.canonicalString()}}function Ao(s){return sn.fromServerFormat(s.fieldPath)}function Wb(s){return s instanceof ze?(function(n){if(n.op==="=="){if(E0(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NAN"}};if(v0(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(E0(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NAN"}};if(v0(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:So(n.field),op:QD(n.op),value:n.value}}})(s):s instanceof Ti?(function(n){const r=n.getFilters().map((o=>Wb(o)));return r.length===1?r[0]:{compositeFilter:{op:KD(n.op),filters:r}}})(s):Et(54877,{filter:s})}function XD(s){const t=[];return s.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function tS(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class _s{constructor(t,n,r,o,u=At.min(),f=At.min(),m=an.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new _s(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class ZD{constructor(t){this.yt=t}}function $D(s){const t=FD({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Dg(t,t.limit,"L"):t}class JD{constructor(){this.Cn=new WD}addToCollectionParentIndex(t,n){return this.Cn.add(n),W.resolve()}getCollectionParents(t,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return W.resolve()}deleteFieldIndex(t,n){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,n){return W.resolve()}getDocumentsMatchingTarget(t,n){return W.resolve(null)}getIndexType(t,n){return W.resolve(0)}getFieldIndexes(t,n){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,n){return W.resolve(Rs.min())}getMinOffsetFromCollectionGroup(t,n){return W.resolve(Rs.min())}updateCollectionGroup(t,n,r){return W.resolve()}updateIndexEntries(t,n){return W.resolve()}}class WD{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new Ge(oe.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Ge(oe.comparator)).toArray()}}const V0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eS=41943040;class Cn{static withCacheSize(t){return new Cn(t,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(eS,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);class Po{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Po(0)}static cr(){return new Po(-1)}}const U0="LruGarbageCollector",t2=1048576;function k0([s,t],[n,r]){const o=zt(s,n);return o===0?zt(t,r):o}class e2{constructor(t){this.Ir=t,this.buffer=new Ge(k0),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();k0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class n2{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ht(U0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Yo(n)?ht(U0,"Ignoring IndexedDB error during garbage collection: ",n):await Go(n)}await this.Vr(3e5)}))}}class i2{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return W.resolve(wf.ce);const r=new e2(n);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(V0)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),V0):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(t,o)))).next((b=>(r=b,m=Date.now(),this.removeTargets(t,r,n)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((b=>(y=Date.now(),To()<=Pt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function r2(s,t){return new i2(s,t)}class s2{constructor(){this.changes=new Ra((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,hn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class a2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class o2{constructor(t,n,r,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(r!==null&&mu(r.mutation,o,Bn.empty(),he.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,jt()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=jt()){const o=ya();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,r).next((u=>{let f=iu();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const r=ya();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,jt())))}populateOverlays(t,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,r,o){let u=Dr();const f=du(),m=(function(){return du()})();return n.forEach(((p,y)=>{const E=r.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Ms)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),mu(E.mutation,y,E.mutation.getFieldMask(),he.now())):f.set(y.key,Bn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new a2(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(t,n){const r=du();let o=new ye(((f,m)=>f-m)),u=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let E=r.get(p)||Bn.empty();E=m.applyToLocalView(y,E),r.set(p,E);const b=(o.get(m.batchId)||jt()).add(p);o=o.insert(m.batchId,b)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,b=Lb();E.forEach((C=>{if(!u.has(C)){const k=Hb(n.get(C),r.get(C));k!==null&&b.set(C,k),u=u.add(C)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,b))}return W.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,o){return(function(f){return yt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):xb(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,o):this.getDocumentsMatchingCollectionQuery(t,n,r,o)}getNextDocuments(t,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,o-u.size):W.resolve(ya());let m=bu,p=u;return f.next((y=>W.forEach(y,((E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?W.resolve():this.remoteDocumentCache.getEntry(t,E).next((C=>{p=p.insert(E,C)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,p,y,jt()))).next((E=>({batchId:m,changes:kb(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next((r=>{let o=iu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,o){const u=n.collectionGroup;let f=iu();return this.indexManager.getCollectionParents(t,u).next((m=>W.forEach(m,(p=>{const y=(function(b,C){return new Qo(C,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,r,o).next((E=>{E.forEach(((b,C)=>{f=f.insert(b,C)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,u,o)))).next((f=>{u.forEach(((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,hn.newInvalidDocument(E)))}));let m=iu();return f.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&mu(E.mutation,y,Bn.empty(),he.now()),Nf(n,y)&&(m=m.insert(p,y))})),m}))}}class l2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return W.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Qi(o.createTime)}})(n)),W.resolve()}getNamedQuery(t,n){return W.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:$D(o.bundledQuery),readTime:Qi(o.readTime)}})(n)),W.resolve()}}class u2{constructor(){this.overlays=new ye(yt.comparator),this.qr=new Map}getOverlay(t,n){return W.resolve(this.overlays.get(n))}getOverlays(t,n){const r=ya();return W.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((o,u)=>{this.St(t,n,u)})),W.resolve()}removeOverlaysForBatchId(t,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),W.resolve()}getOverlaysForCollection(t,n,r){const o=ya(),u=n.length+1,f=new yt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return W.resolve(o)}getOverlaysForCollectionGroup(t,n,r,o){let u=new ye(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let E=u.get(y.largestBatchId);E===null&&(E=ya(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=ya(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return W.resolve(m)}St(t,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new CD(n,r));let u=this.qr.get(n);u===void 0&&(u=jt(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}class c2{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,W.resolve()}}class Ep{constructor(){this.Qr=new Ge(Xe.$r),this.Ur=new Ge(Xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new Xe(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Gr(new Xe(t,n))}zr(t,n){t.forEach((r=>this.removeReference(r,n)))}jr(t){const n=new yt(new oe([])),r=new Xe(n,t),o=new Xe(n,t+1),u=[];return this.Ur.forEachInRange([r,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new yt(new oe([])),r=new Xe(n,t),o=new Xe(n,t+1);let u=jt();return this.Ur.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new Xe(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Xe{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return yt.comparator(t.key,n.key)||zt(t.Yr,n.Yr)}static Kr(t,n){return zt(t.Yr,n.Yr)||yt.comparator(t.key,n.key)}}class h2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ge(Xe.$r)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new RD(u,n,r,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Xe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(t,n){return W.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,o=this.ei(r),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?hp:this.tr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Xe(n,0),o=new Xe(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Ge(zt);return n.forEach((o=>{const u=new Xe(o,0),f=new Xe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{r=r.add(m.Yr)}))})),W.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,o=r.length+1;let u=r;yt.isDocumentKey(u)||(u=u.child(""));const f=new Xe(new yt(u),0);let m=new Ge(zt);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Yr)),!0)}),f),W.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Jt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return W.forEach(n.mutations,(o=>{const u=new Xe(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,n){const r=new Xe(n,0),o=this.Zr.firstAfterOrEqual(r);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class f2{constructor(t){this.ri=t,this.docs=(function(){return new ye(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(n))}getEntries(t,n){let r=Dr();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():hn.newInvalidDocument(o))})),W.resolve(r)}getDocumentsMatchingQuery(t,n,r,o){let u=Dr();const f=n.path,m=new yt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||jI(zI(E),r)<=0||(o.has(E.key)||Nf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(t,n,r,o){Et(9500)}ii(t,n){return W.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new d2(this)}getSize(t){return W.resolve(this.size)}}class d2 extends s2{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),W.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class m2{constructor(t){this.persistence=t,this.si=new Ra((n=>mp(n)),gp),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new Ep,this.targetCount=0,this.ai=Po.ur()}forEachTarget(t,n){return this.si.forEach(((r,o)=>n(o))),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),W.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Po(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,W.resolve()}updateTargetData(t,n){return this.Pr(n),W.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,n,r){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),W.waitFor(u).next((()=>o))}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return W.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),W.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),W.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),W.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return W.resolve(r)}containsKey(t,n){return W.resolve(this._i.containsKey(n))}}class nS{constructor(t,n){this.ui={},this.overlays={},this.ci=new wf(0),this.li=!1,this.li=!0,this.hi=new c2,this.referenceDelegate=t(this),this.Pi=new m2(this),this.indexManager=new JD,this.remoteDocumentCache=(function(o){return new f2(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new ZD(n),this.Ii=new l2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new u2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new h2(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){ht("MemoryPersistence","Starting transaction:",t);const o=new g2(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return W.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,n))))}}class g2 extends qI{constructor(t){super(),this.currentSequenceNumber=t}}class Tp{constructor(t){this.persistence=t,this.Ri=new Ep,this.Vi=null}static mi(t){return new Tp(t)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),W.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),W.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),W.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(r=>{const o=yt.fromPath(r);return this.gi(t,o).next((u=>{u||n.removeEntry(o,At.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class cf{constructor(t,n){this.persistence=t,this.pi=new Ra((r=>GI(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=r2(this,n)}static mi(t,n){return new cf(t,n)}Ei(){}di(t){return W.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((o=>r+o))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}pr(t,n){return W.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?W.resolve():n(o)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,n).next((m=>{m||(r++,u.removeEntry(f,At.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),W.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),W.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),W.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Lh(t.data.value)),n}br(t,n,r){return W.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return W.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class bp{constructor(t,n,r,o){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=o}static As(t,n){let r=jt(),o=jt();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new bp(t,n.fromCache,r,o)}}class p2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class y2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return aw()?8:HI(fn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,o){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new p2;return this.Ss(t,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,f,m.size)}))})).next((()=>u.result))}bs(t,n,r,o){return r.documentReadCount<this.fs?(To()<=Pt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",bo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(To()<=Pt.DEBUG&&ht("QueryEngine","Query:",bo(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(To()<=Pt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",bo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Yi(n))):W.resolve())}ys(t,n){if(A0(n))return W.resolve(null);let r=Yi(n);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Dg(n,null,"F"),r=Yi(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const f=jt(...u);return this.ps.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,r).next((p=>{const y=this.Ds(n,m);return this.Cs(n,y,f,p.readTime)?this.ys(t,Dg(n,null,"F")):this.vs(t,y,n,p)}))))})))))}ws(t,n,r,o){return A0(n)||o.isEqual(At.min())?W.resolve(null):this.ps.getDocuments(t,r).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,r,o)?W.resolve(null):(To()<=Pt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),bo(n)),this.vs(t,f,n,PI(o,bu)).next((m=>m)))}))}Ds(t,n){let r=new Ge(Vb(t));return n.forEach(((o,u)=>{Nf(t,u)&&(r=r.add(u))})),r}Cs(t,n,r,o){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,r){return To()<=Pt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",bo(n)),this.ps.getDocumentsMatchingQuery(t,n,Rs.min(),r)}vs(t,n,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Sp="LocalStore",_2=3e8;class v2{constructor(t,n,r,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new ye(zt),this.xs=new Ra((u=>mp(u)),gp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new o2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function E2(s,t,n,r){return new v2(s,t,n,r)}async function iS(s,t){const n=Ct(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],m=[];let p=jt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(r,p).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function T2(s,t){const n=Ct(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const b=y.batch,C=b.keys();let k=W.resolve();return C.forEach((H=>{k=k.next((()=>E.getEntry(p,H))).next((X=>{const J=y.docVersions.get(H);Jt(J!==null,48541),X.version.compareTo(J)<0&&(b.applyToRemoteDocument(X,y),X.isValidDocument()&&(X.setReadTime(y.commitVersion),E.addEntry(X)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(n,r,t,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=jt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function rS(s){const t=Ct(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function b2(s,t){const n=Ct(s),r=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((E,b)=>{const C=o.get(b);if(!C)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,b))));let k=C.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?k=k.withResumeToken(an.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,r)),o=o.insert(b,k),(function(X,J,nt){return X.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=_2?!0:nt.addedDocuments.size+nt.modifiedDocuments.size+nt.removedDocuments.size>0})(C,k,E)&&m.push(n.Pi.updateTargetData(u,k))}));let p=Dr(),y=jt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(S2(u,f,t.documentUpdates).next((E=>{p=E.ks,y=E.qs}))),!r.isEqual(At.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(E)}return W.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function S2(s,t,n){let r=jt(),o=jt();return n.forEach((u=>r=r.add(u))),t.getEntries(s,r).next((u=>{let f=Dr();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(At.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):ht(Sp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function A2(s,t){const n=Ct(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=hp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function w2(s,t){const n=Ct(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,t).next((u=>u?(o=u,W.resolve(o)):n.Pi.allocateTargetId(r).next((f=>(o=new _s(t,f,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r}))}async function Vg(s,t,n){const r=Ct(s),o=r.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Yo(f))throw f;ht(Sp,`Failed to update sequence numbers for target ${t}: ${f}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function L0(s,t,n){const r=Ct(s);let o=At.min(),u=jt();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,E){const b=Ct(p),C=b.xs.get(E);return C!==void 0?W.resolve(b.Ms.get(C)):b.Pi.getTargetData(y,E)})(r,f,Yi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,t,n?o:At.min(),n?u:jt()))).next((m=>(R2(r,cD(t),m),{documents:m,Qs:u})))))}function R2(s,t,n){let r=s.Os.get(t)||At.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(t,r)}class P0{constructor(){this.activeTargetIds=pD()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class C2{constructor(){this.Mo=new P0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new P0,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class I2{Oo(t){}shutdown(){}}const z0="ConnectivityMonitor";class j0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ht(z0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ht(z0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ch=null;function Ug(){return Ch===null?Ch=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ch++,"0x"+Ch.toString(16)}const eg="RestConnection",D2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class N2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===sf?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,n,r,o,u){const f=Ug(),m=this.zo(t,n.toUriEncodedString());ht(eg,`Sending RPC '${t}' ${f}:`,m,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:y}=new URL(m),E=Bo(y);return this.Jo(t,m,p,r,E).then((b=>(ht(eg,`Received RPC '${t}' ${f}: `,b),b)),(b=>{throw Vo(eg,`RPC '${t}' ${f} failed with error: `,b,"url: ",m,"request:",r),b}))}Ho(t,n,r,o,u,f){return this.Go(t,n,r,o,u)}jo(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Fo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const r=D2[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class O2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const ln="WebChannelConnection";class x2 extends N2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,o,u){const f=Ug();return new Promise(((m,p)=>{const y=new ob;y.setWithCredentials(!0),y.listenOnce(lb.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case kh.NO_ERROR:const b=y.getResponseJson();ht(ln,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(b)),m(b);break;case kh.TIMEOUT:ht(ln,`RPC '${t}' ${f} timed out`),p(new lt(K.DEADLINE_EXCEEDED,"Request time out"));break;case kh.HTTP_ERROR:const C=y.getStatus();if(ht(ln,`RPC '${t}' ${f} failed with status:`,C,"response text:",y.getResponseText()),C>0){let k=y.getResponseJson();Array.isArray(k)&&(k=k[0]);const H=k?.error;if(H&&H.status&&H.message){const X=(function(nt){const ut=nt.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(ut)>=0?ut:K.UNKNOWN})(H.status);p(new lt(X,H.message))}else p(new lt(K.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new lt(K.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ht(ln,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);ht(ln,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",E,r,15)}))}T_(t,n,r){const o=Ug(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=hb(),m=cb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const E=u.join("");ht(ln,`Creating RPC '${t}' stream ${o}: ${E}`,p);const b=f.createWebChannel(E,p);this.I_(b);let C=!1,k=!1;const H=new O2({Yo:J=>{k?ht(ln,`Not sending because RPC '${t}' stream ${o} is closed:`,J):(C||(ht(ln,`Opening RPC '${t}' stream ${o} transport.`),b.open(),C=!0),ht(ln,`RPC '${t}' stream ${o} sending:`,J),b.send(J))},Zo:()=>b.close()}),X=(J,nt,ut)=>{J.listen(nt,(et=>{try{ut(et)}catch(ct){setTimeout((()=>{throw ct}),0)}}))};return X(b,nu.EventType.OPEN,(()=>{k||(ht(ln,`RPC '${t}' stream ${o} transport opened.`),H.o_())})),X(b,nu.EventType.CLOSE,(()=>{k||(k=!0,ht(ln,`RPC '${t}' stream ${o} transport closed`),H.a_(),this.E_(b))})),X(b,nu.EventType.ERROR,(J=>{k||(k=!0,Vo(ln,`RPC '${t}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),H.a_(new lt(K.UNAVAILABLE,"The operation could not be completed")))})),X(b,nu.EventType.MESSAGE,(J=>{if(!k){const nt=J.data[0];Jt(!!nt,16349);const ut=nt,et=ut?.error||ut[0]?.error;if(et){ht(ln,`RPC '${t}' stream ${o} received error:`,et);const ct=et.status;let at=(function(A){const w=ke[A];if(w!==void 0)return Gb(w)})(ct),tt=et.message;at===void 0&&(at=K.INTERNAL,tt="Unknown error status: "+ct+" with message "+et.message),k=!0,H.a_(new lt(at,tt)),b.close()}else ht(ln,`RPC '${t}' stream ${o} received:`,nt),H.u_(nt)}})),X(m,ub.STAT_EVENT,(J=>{J.stat===bg.PROXY?ht(ln,`RPC '${t}' stream ${o} detected buffering proxy`):J.stat===bg.NOPROXY&&ht(ln,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function ng(){return typeof document<"u"?document:null}function Uf(s){return new kD(s,!0)}class sS{constructor(t,n,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const B0="PersistentStream";class aS{constructor(t,n,r,o,u,f,m,p){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sS(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(Ir(n.toString()),Ir("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{t((()=>{const o=new lt(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ht(B0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ht(B0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class M2 extends aS{constructor(t,n,r,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=zD(this.serializer,t),r=(function(u){if(!("targetChange"in u))return At.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?At.min():f.readTime?Qi(f.readTime):At.min()})(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=Mg(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Cg(p)?{documents:qD(u,p)}:{query:HD(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Kb(u,f.resumeToken);const y=Ng(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(At.min())>0){m.readTime=uf(u,f.snapshotVersion.toTimestamp());const y=Ng(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const r=GD(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=Mg(this.serializer),n.removeTarget=t,this.q_(n)}}class V2 extends aS{constructor(t,n,r,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Jt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Jt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Jt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=BD(t.writeResults,t.commitTime),r=Qi(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=Mg(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>jD(this.serializer,r)))};this.q_(n)}}class U2{}class k2 extends U2{constructor(t,n,r,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new lt(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,Og(n,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new lt(K.UNKNOWN,u.toString())}))}Ho(t,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(t,Og(n,r),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new lt(K.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class L2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ir(n),this.aa=!1):ht("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const wa="RemoteStore";class P2{constructor(t,n,r,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{Ca(this)&&(ht(wa,"Restarting streams for network reachability change."),await(async function(p){const y=Ct(p);y.Ea.add(4),await Pu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await kf(y)})(this))}))})),this.Ra=new L2(r,o)}}async function kf(s){if(Ca(s))for(const t of s.da)await t(!0)}async function Pu(s){for(const t of s.da)await t(!1)}function oS(s,t){const n=Ct(s);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Cp(n)?Rp(n):Ko(n).O_()&&wp(n,t))}function Ap(s,t){const n=Ct(s),r=Ko(n);n.Ia.delete(t),r.O_()&&lS(n,t),n.Ia.size===0&&(r.O_()?r.L_():Ca(n)&&n.Ra.set("Unknown"))}function wp(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ko(s).Y_(t)}function lS(s,t){s.Va.Ue(t),Ko(s).Z_(t)}function Rp(s){s.Va=new xD({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),Ko(s).start(),s.Ra.ua()}function Cp(s){return Ca(s)&&!Ko(s).x_()&&s.Ia.size>0}function Ca(s){return Ct(s).Ea.size===0}function uS(s){s.Va=void 0}async function z2(s){s.Ra.set("Online")}async function j2(s){s.Ia.forEach(((t,n)=>{wp(s,t)}))}async function B2(s,t){uS(s),Cp(s)?(s.Ra.ha(t),Rp(s)):s.Ra.set("Unknown")}async function q2(s,t,n){if(s.Ra.set("Online"),t instanceof Qb&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(s,t)}catch(r){ht(wa,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await hf(s,r)}else if(t instanceof jh?s.Va.Ze(t):t instanceof Yb?s.Va.st(t):s.Va.tt(t),!n.isEqual(At.min()))try{const r=await rS(s.localStore);n.compareTo(r)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(an.EMPTY_BYTE_STRING,E.snapshotVersion)),lS(u,p);const b=new _s(E.target,p,y,E.sequenceNumber);wp(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(s,n)}catch(r){ht(wa,"Failed to raise snapshot:",r),await hf(s,r)}}async function hf(s,t,n){if(!Yo(t))throw t;s.Ea.add(1),await Pu(s),s.Ra.set("Offline"),n||(n=()=>rS(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ht(wa,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await kf(s)}))}function cS(s,t){return t().catch((n=>hf(s,n,t)))}async function Lf(s){const t=Ct(s),n=Ns(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:hp;for(;H2(t);)try{const o=await A2(t.localStore,r);if(o===null){t.Ta.length===0&&n.L_();break}r=o.batchId,F2(t,o)}catch(o){await hf(t,o)}hS(t)&&fS(t)}function H2(s){return Ca(s)&&s.Ta.length<10}function F2(s,t){s.Ta.push(t);const n=Ns(s);n.O_()&&n.X_&&n.ea(t.mutations)}function hS(s){return Ca(s)&&!Ns(s).x_()&&s.Ta.length>0}function fS(s){Ns(s).start()}async function G2(s){Ns(s).ra()}async function Y2(s){const t=Ns(s);for(const n of s.Ta)t.ea(n.mutations)}async function Q2(s,t,n){const r=s.Ta.shift(),o=yp.from(r,t,n);await cS(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Lf(s)}async function K2(s,t){t&&Ns(s).X_&&await(async function(r,o){if((function(f){return DD(f)&&f!==K.ABORTED})(o.code)){const u=r.Ta.shift();Ns(r).B_(),await cS(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Lf(r)}})(s,t),hS(s)&&fS(s)}async function q0(s,t){const n=Ct(s);n.asyncQueue.verifyOperationInProgress(),ht(wa,"RemoteStore received new credentials");const r=Ca(n);n.Ea.add(3),await Pu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await kf(n)}async function X2(s,t){const n=Ct(s);t?(n.Ea.delete(2),await kf(n)):t||(n.Ea.add(2),await Pu(n),n.Ra.set("Unknown"))}function Ko(s){return s.ma||(s.ma=(function(n,r,o){const u=Ct(n);return u.sa(),new M2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:z2.bind(null,s),t_:j2.bind(null,s),r_:B2.bind(null,s),H_:q2.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),Cp(s)?Rp(s):s.Ra.set("Unknown")):(await s.ma.stop(),uS(s))}))),s.ma}function Ns(s){return s.fa||(s.fa=(function(n,r,o){const u=Ct(n);return u.sa(),new V2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:G2.bind(null,s),r_:K2.bind(null,s),ta:Y2.bind(null,s),na:Q2.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Lf(s)):(await s.fa.stop(),s.Ta.length>0&&(ht(wa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Ip{constructor(t,n,r,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,o,u){const f=Date.now()+r,m=new Ip(t,n,f,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(K.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dp(s,t){if(Ir("AsyncQueue",`${t}: ${s}`),Yo(s))return new lt(K.UNAVAILABLE,`${t}: ${s}`);throw s}class No{static emptySet(t){return new No(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||yt.comparator(n.key,r.key):(n,r)=>yt.comparator(n.key,r.key),this.keyedMap=iu(),this.sortedSet=new ye(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof No)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new No;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class H0{constructor(){this.ga=new ye(yt.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Et(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class zo{constructor(t,n,r,o,u,f,m,p,y){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,n,r,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new zo(t,n,No.emptySet(n),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Df(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class Z2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class $2{constructor(){this.queries=F0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Ct(n),u=o.queries;o.queries=F0(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(r)}))})(this,new lt(K.ABORTED,"Firestore shutting down"))}}function F0(){return new Ra((s=>Mb(s)),Df)}async function Np(s,t){const n=Ct(s);let r=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new Z2,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Dp(f,`Initialization of query '${bo(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&xp(n)}async function Op(s,t){const n=Ct(s),r=t.query;let o=3;const u=n.queries.get(r);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function J2(s,t){const n=Ct(s);let r=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(r=!0);f.wa=o}}r&&xp(n)}function W2(s,t,n){const r=Ct(s),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);r.queries.delete(t)}function xp(s){s.Ca.forEach((t=>{t.next()}))}var kg,G0;(G0=kg||(kg={})).Ma="default",G0.Cache="cache";class Mp{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new zo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=zo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==kg.Cache}}class dS{constructor(t){this.key=t}}class mS{constructor(t){this.key=t}}class tN{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=jt(),this.mutatedKeys=jt(),this.eu=Vb(t),this.tu=new No(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new H0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,b)=>{const C=o.get(E),k=Nf(this.query,b)?b:null,H=!!C&&this.mutatedKeys.has(C.key),X=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let J=!1;C&&k?C.data.isEqual(k.data)?H!==X&&(r.track({type:3,doc:k}),J=!0):this.su(C,k)||(r.track({type:2,doc:k}),J=!0,(p&&this.eu(k,p)>0||y&&this.eu(k,y)<0)&&(m=!0)):!C&&k?(r.track({type:0,doc:k}),J=!0):C&&!k&&(r.track({type:1,doc:C}),J=!0,(p||y)&&(m=!0)),J&&(k?(f=f.add(k),u=X?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{tu:f,iu:r,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,b)=>(function(k,H){const X=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:J})}};return X(k)-X(H)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new zo(this.query,t.tu,u,f,t.mutatedKeys,p===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new H0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=jt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return t.forEach((r=>{this.Xa.has(r)||n.push(new mS(r))})),this.Xa.forEach((r=>{t.has(r)||n.push(new dS(r))})),n}cu(t){this.Ya=t.Qs,this.Xa=jt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return zo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Vp="SyncEngine";class eN{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class nN{constructor(t){this.key=t,this.hu=!1}}class iN{constructor(t,n,r,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ra((m=>Mb(m)),Df),this.Iu=new Map,this.Eu=new Set,this.du=new ye(yt.comparator),this.Au=new Map,this.Ru=new Ep,this.Vu={},this.mu=new Map,this.fu=Po.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rN(s,t,n=!0){const r=ES(s);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await gS(r,t,n,!0),o}async function sN(s,t){const n=ES(s);await gS(n,t,!0,!1)}async function gS(s,t,n,r){const o=await w2(s.localStore,Yi(t)),u=o.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await aN(s,t,u,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&oS(s.remoteStore,o),m}async function aN(s,t,n,r,o){s.pu=(b,C,k)=>(async function(X,J,nt,ut){let et=J.view.ru(nt);et.Cs&&(et=await L0(X.localStore,J.query,!1).then((({documents:R})=>J.view.ru(R,et))));const ct=ut&&ut.targetChanges.get(J.targetId),at=ut&&ut.targetMismatches.get(J.targetId)!=null,tt=J.view.applyChanges(et,X.isPrimaryClient,ct,at);return Q0(X,J.targetId,tt.au),tt.snapshot})(s,b,C,k);const u=await L0(s.localStore,t,!0),f=new tN(t,u.Qs),m=f.ru(u.documents),p=Lu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),y=f.applyChanges(m,s.isPrimaryClient,p);Q0(s,n,y.au);const E=new eN(t,n,f);return s.Tu.set(t,E),s.Iu.has(n)?s.Iu.get(n).push(t):s.Iu.set(n,[t]),y.snapshot}async function oN(s,t,n){const r=Ct(s),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((f=>!Df(f,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Vg(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Ap(r.remoteStore,o.targetId),Lg(r,o.targetId)})).catch(Go)):(Lg(r,o.targetId),await Vg(r.localStore,o.targetId,!0))}async function lN(s,t){const n=Ct(s),r=n.Tu.get(t),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ap(n.remoteStore,r.targetId))}async function uN(s,t,n){const r=pN(s);try{const o=await(function(f,m){const p=Ct(f),y=he.now(),E=m.reduce(((k,H)=>k.add(H.key)),jt());let b,C;return p.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let H=Dr(),X=jt();return p.Ns.getEntries(k,E).next((J=>{H=J,H.forEach(((nt,ut)=>{ut.isValidDocument()||(X=X.add(nt))}))})).next((()=>p.localDocuments.getOverlayedDocuments(k,H))).next((J=>{b=J;const nt=[];for(const ut of m){const et=AD(ut,b.get(ut.key).overlayedDocument);et!=null&&nt.push(new Ms(ut.key,et,wb(et.value.mapValue),_n.exists(!0)))}return p.mutationQueue.addMutationBatch(k,y,nt,m)})).next((J=>{C=J;const nt=J.applyToLocalDocumentSet(b,X);return p.documentOverlayCache.saveOverlays(k,J.batchId,nt)}))})).then((()=>({batchId:C.batchId,changes:kb(b)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new ye(zt)),y=y.insert(m,p),f.Vu[f.currentUser.toKey()]=y})(r,o.batchId,n),await zu(r,o.changes),await Lf(r.remoteStore)}catch(o){const u=Dp(o,"Failed to persist write");n.reject(u)}}async function pS(s,t){const n=Ct(s);try{const r=await b2(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Jt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Jt(f.hu,14607):o.removedDocuments.size>0&&(Jt(f.hu,42227),f.hu=!1))})),await zu(n,r,t)}catch(r){await Go(r)}}function Y0(s,t,n){const r=Ct(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Ct(f);p.onlineState=m;let y=!1;p.queries.forEach(((E,b)=>{for(const C of b.Sa)C.va(m)&&(y=!0)})),y&&xp(p)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function cN(s,t,n){const r=Ct(s);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Au.get(t),u=o&&o.key;if(u){let f=new ye(yt.comparator);f=f.insert(u,hn.newNoDocument(u,At.min()));const m=jt().add(u),p=new Vf(At.min(),new Map,new ye(zt),f,m);await pS(r,p),r.du=r.du.remove(u),r.Au.delete(t),Up(r)}else await Vg(r.localStore,t,!1).then((()=>Lg(r,t,n))).catch(Go)}async function hN(s,t){const n=Ct(s),r=t.batch.batchId;try{const o=await T2(n.localStore,t);_S(n,r,null),yS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await zu(n,o)}catch(o){await Go(o)}}async function fN(s,t,n){const r=Ct(s);try{const o=await(function(f,m){const p=Ct(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((b=>(Jt(b!==null,37113),E=b.keys(),p.mutationQueue.removeMutationBatch(y,b)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(r.localStore,t);_S(r,t,n),yS(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await zu(r,o)}catch(o){await Go(o)}}function yS(s,t){(s.mu.get(t)||[]).forEach((n=>{n.resolve()})),s.mu.delete(t)}function _S(s,t,n){const r=Ct(s);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function Lg(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||vS(s,r)}))}function vS(s,t){s.Eu.delete(t.path.canonicalString());const n=s.du.get(t);n!==null&&(Ap(s.remoteStore,n),s.du=s.du.remove(t),s.Au.delete(n),Up(s))}function Q0(s,t,n){for(const r of n)r instanceof dS?(s.Ru.addReference(r.key,t),dN(s,r)):r instanceof mS?(ht(Vp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||vS(s,r.key)):Et(19791,{wu:r})}function dN(s,t){const n=t.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(ht(Vp,"New document in limbo: "+n),s.Eu.add(r),Up(s))}function Up(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const n=new yt(oe.fromString(t)),r=s.fu.next();s.Au.set(r,new nN(n)),s.du=s.du.insert(n,r),oS(s.remoteStore,new _s(Yi(If(n.path)),r,"TargetPurposeLimboResolution",wf.ce))}}async function zu(s,t,n){const r=Ct(s),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{f.push(r.pu(p,t,n).then((y=>{if((y||n)&&r.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=bp.As(p.targetId,y);u.push(E)}})))})),await Promise.all(f),r.Pu.H_(o),await(async function(p,y){const E=Ct(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>W.forEach(y,(C=>W.forEach(C.Es,(k=>E.persistence.referenceDelegate.addReference(b,C.targetId,k))).next((()=>W.forEach(C.ds,(k=>E.persistence.referenceDelegate.removeReference(b,C.targetId,k)))))))))}catch(b){if(!Yo(b))throw b;ht(Sp,"Failed to update sequence numbers: "+b)}for(const b of y){const C=b.targetId;if(!b.fromCache){const k=E.Ms.get(C),H=k.snapshotVersion,X=k.withLastLimboFreeSnapshotVersion(H);E.Ms=E.Ms.insert(C,X)}}})(r.localStore,u))}async function mN(s,t){const n=Ct(s);if(!n.currentUser.isEqual(t)){ht(Vp,"User change. New user:",t.toKey());const r=await iS(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new lt(K.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await zu(n,r.Ls)}}function gN(s,t){const n=Ct(s),r=n.Au.get(t);if(r&&r.hu)return jt().add(r.key);{let o=jt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function ES(s){const t=Ct(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=pS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cN.bind(null,t),t.Pu.H_=J2.bind(null,t.eventManager),t.Pu.yu=W2.bind(null,t.eventManager),t}function pN(s){const t=Ct(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=hN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=fN.bind(null,t),t}class ff{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Uf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return E2(this.persistence,new y2,t.initialUser,this.serializer)}Cu(t){return new nS(Tp.mi,this.serializer)}Du(t){return new C2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ff.provider={build:()=>new ff};class yN extends ff{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Jt(this.persistence.referenceDelegate instanceof cf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new n2(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new nS((r=>cf.mi(r,n)),this.serializer)}}class Pg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Y0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mN.bind(null,this.syncEngine),await X2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new $2})()}createDatastore(t){const n=Uf(t.databaseInfo.databaseId),r=(function(u){return new x2(u)})(t.databaseInfo);return(function(u,f,m,p){return new k2(u,f,m,p)})(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,o,u,f,m){return new P2(r,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>Y0(this.syncEngine,n,0)),(function(){return j0.v()?new j0:new I2})())}createSyncEngine(t,n){return(function(o,u,f,m,p,y,E){const b=new iN(o,u,f,m,p,y);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ct(n);ht(wa,"RemoteStore shutting down."),r.Ea.add(5),await Pu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Pg.provider={build:()=>new Pg};class kp{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ir("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const Os="FirestoreClient";class _N{constructor(t,n,r,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=cp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{ht(Os,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(ht(Os,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Dp(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function ig(s,t){s.asyncQueue.verifyOperationInProgress(),ht(Os,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await iS(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function K0(s,t){s.asyncQueue.verifyOperationInProgress();const n=await vN(s);ht(Os,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener((r=>q0(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>q0(t.remoteStore,o))),s._onlineComponents=t}async function vN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ht(Os,"Using user provided OfflineComponentProvider");try{await ig(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Vo("Error using user provided cache. Falling back to memory cache: "+n),await ig(s,new ff)}}else ht(Os,"Using default OfflineComponentProvider"),await ig(s,new yN(void 0));return s._offlineComponents}async function TS(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ht(Os,"Using user provided OnlineComponentProvider"),await K0(s,s._uninitializedComponentsProvider._online)):(ht(Os,"Using default OnlineComponentProvider"),await K0(s,new Pg))),s._onlineComponents}function EN(s){return TS(s).then((t=>t.syncEngine))}async function df(s){const t=await TS(s),n=t.eventManager;return n.onListen=rN.bind(null,t.syncEngine),n.onUnlisten=oN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=sN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=lN.bind(null,t.syncEngine),n}function TN(s,t,n={}){const r=new Ar;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new kp({next:C=>{E.Nu(),f.enqueueAndForget((()=>Op(u,b)));const k=C.docs.has(m);!k&&C.fromCache?y.reject(new lt(K.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&C.fromCache&&p&&p.source==="server"?y.reject(new lt(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(C)},error:C=>y.reject(C)}),b=new Mp(If(m.path),E,{includeMetadataChanges:!0,qa:!0});return Np(u,b)})(await df(s),s.asyncQueue,t,n,r))),r.promise}function bN(s,t,n={}){const r=new Ar;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new kp({next:C=>{E.Nu(),f.enqueueAndForget((()=>Op(u,b))),C.fromCache&&p.source==="server"?y.reject(new lt(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(C)},error:C=>y.reject(C)}),b=new Mp(m,E,{includeMetadataChanges:!0,qa:!0});return Np(u,b)})(await df(s),s.asyncQueue,t,n,r))),r.promise}function bS(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const X0=new Map;const SS="firestore.googleapis.com",Z0=!0;class $0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SS,this.ssl=Z0}else this.host=t.host,this.ssl=t.ssl??Z0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=eS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<t2)throw new lt(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}LI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bS(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new lt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new lt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new lt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Pf{constructor(t,n,r,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new CI;switch(r.type){case"firstParty":return new OI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new lt(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=X0.get(n);r&&(ht("ComponentProvider","Removing Datastore"),X0.delete(n),r.terminate())})(this),Promise.resolve()}}function SN(s,t,n,r={}){s=yn(s,Pf);const o=Bo(t),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},m=`${t}:${n}`;o&&(bT(`https://${m}`),ST("Firestore",!0)),u.host!==SS&&u.host!==m&&Vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:r};if(!Ta(p,f)&&(s._setSettings(p),r.mockUserToken)){let y,E;if(typeof r.mockUserToken=="string")y=r.mockUserToken,E=cn.MOCK_USER;else{y=$1(r.mockUserToken,s._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new lt(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new cn(b)}s._authCredentials=new II(new db(y,E))}}class Vs{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Vs(this.firestore,t,this._query)}}class Te{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new As(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Te(this.firestore,t,this._key)}toJSON(){return{type:Te._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Uu(n,Te._jsonSchema))return new Te(t,r||null,new yt(oe.fromString(n.referencePath)))}}Te._jsonSchemaVersion="firestore/documentReference/1.0",Te._jsonSchema={type:je("string",Te._jsonSchemaVersion),referencePath:je("string")};class As extends Vs{constructor(t,n,r){super(t,n,If(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Te(this.firestore,null,new yt(t))}withConverter(t){return new As(this.firestore,t,this._path)}}function zg(s,t,...n){if(s=Be(s),mb("collection","path",t),s instanceof Pf){const r=oe.fromString(t,...n);return c0(r),new As(s,null,r)}{if(!(s instanceof Te||s instanceof As))throw new lt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(oe.fromString(t,...n));return c0(r),new As(s.firestore,null,r)}}function ws(s,t,...n){if(s=Be(s),arguments.length===1&&(t=cp.newId()),mb("doc","path",t),s instanceof Pf){const r=oe.fromString(t,...n);return u0(r),new Te(s,null,new yt(r))}{if(!(s instanceof Te||s instanceof As))throw new lt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(oe.fromString(t,...n));return u0(r),new Te(s.firestore,s instanceof As?s.converter:null,new yt(r))}}const J0="AsyncQueue";class W0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sS(this,"async_queue_retry"),this._c=()=>{const r=ng();r&&ht(J0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=ng();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=ng();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Yo(t))throw t;ht(J0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Ir("INTERNAL UNHANDLED ERROR: ",tT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Ip.createAndSchedule(this,t,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Et(47125,{Pc:tT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function tT(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function eT(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(s,["next","error","complete"])}class Wi extends Pf{constructor(t,n,r,o){super(t,n,r,o),this.type="firestore",this._queue=new W0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new W0(t),this._firestoreClient=void 0,await t}}}function AN(s,t){const n=typeof s=="object"?s:CT(),r=typeof s=="string"?s:sf,o=Jg(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=X1("firestore");u&&SN(o,...u)}return o}function ju(s){if(s._terminated)throw new lt(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||wN(s),s._firestoreClient}function wN(s){const t=s._freezeSettings(),n=(function(o,u,f,m){return new KI(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,bS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new _N(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(s._componentsProvider))}class ni{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ni(an.fromBase64String(t))}catch(n){throw new lt(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ni(an.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ni._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Uu(t,ni._jsonSchema))return ni.fromBase64String(t.bytes)}}ni._jsonSchemaVersion="firestore/bytes/1.0",ni._jsonSchema={type:je("string",ni._jsonSchemaVersion),bytes:je("string")};class Bu{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new lt(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class zf{constructor(t){this._methodName=t}}class Ki{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new lt(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new lt(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ki._jsonSchemaVersion}}static fromJSON(t){if(Uu(t,Ki._jsonSchema))return new Ki(t.latitude,t.longitude)}}Ki._jsonSchemaVersion="firestore/geoPoint/1.0",Ki._jsonSchema={type:je("string",Ki._jsonSchemaVersion),latitude:je("number"),longitude:je("number")};class Xi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Uu(t,Xi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Xi(t.vectorValues);throw new lt(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xi._jsonSchemaVersion="firestore/vectorValue/1.0",Xi._jsonSchema={type:je("string",Xi._jsonSchemaVersion),vectorValues:je("object")};const RN=/^__.*__$/;class CN{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Ms(t,this.data,this.fieldMask,n,this.fieldTransforms):new ku(t,this.data,n,this.fieldTransforms)}}class AS{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Ms(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function wS(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:s})}}class Lp{constructor(t,n,r,o,u,f){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Lp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return mf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(wS(this.Ac)&&RN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class IN{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Uf(t)}Cc(t,n,r,o=!1){return new Lp({Ac:t,methodName:n,Dc:r,path:sn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qu(s){const t=s._freezeSettings(),n=Uf(s._databaseId);return new IN(s._databaseId,!!t.ignoreUndefinedProperties,n)}function Pp(s,t,n,r,o,u={}){const f=s.Cc(u.merge||u.mergeFields?2:0,t,n,o);jp("Data must be an object, but it was:",f,r);const m=IS(r,f);let p,y;if(u.merge)p=new Bn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const C=jg(t,b,n);if(!f.contains(C))throw new lt(K.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);NS(E,C)||E.push(C)}p=new Bn(E),y=f.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,y=f.fieldTransforms;return new CN(new In(m),p,y)}class jf extends zf{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof jf}}class zp extends zf{_toFieldTransform(t){return new ED(t.path,new Cu)}isEqual(t){return t instanceof zp}}function RS(s,t,n,r){const o=s.Cc(1,t,n);jp("Data must be an object, but it was:",o,r);const u=[],f=In.empty();xs(r,((p,y)=>{const E=Bp(t,p,n);y=Be(y);const b=o.yc(E);if(y instanceof jf)u.push(E);else{const C=Hu(y,b);C!=null&&(u.push(E),f.set(E,C))}}));const m=new Bn(u);return new AS(f,m,o.fieldTransforms)}function CS(s,t,n,r,o,u){const f=s.Cc(1,t,n),m=[jg(t,r,n)],p=[o];if(u.length%2!=0)throw new lt(K.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<u.length;C+=2)m.push(jg(t,u[C])),p.push(u[C+1]);const y=[],E=In.empty();for(let C=m.length-1;C>=0;--C)if(!NS(y,m[C])){const k=m[C];let H=p[C];H=Be(H);const X=f.yc(k);if(H instanceof jf)y.push(k);else{const J=Hu(H,X);J!=null&&(y.push(k),E.set(k,J))}}const b=new Bn(y);return new AS(E,b,f.fieldTransforms)}function DN(s,t,n,r=!1){return Hu(n,s.Cc(r?4:3,t))}function Hu(s,t){if(DS(s=Be(s)))return jp("Unsupported field value:",t,s),IS(s,t);if(s instanceof zf)return(function(r,o){if(!wS(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const m of r){let p=Hu(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(s,t)}return(function(r,o){if((r=Be(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yD(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=he.fromDate(r);return{timestampValue:uf(o.serializer,u)}}if(r instanceof he){const u=new he(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uf(o.serializer,u)}}if(r instanceof Ki)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ni)return{bytesValue:Kb(o.serializer,r._byteString)};if(r instanceof Te){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:vp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Xi)return(function(f,m){return{mapValue:{fields:{[Sb]:{stringValue:Ab},[af]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return pp(m.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Af(r)}`)})(s,t)}function IS(s,t){const n={};return yb(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xs(s,((r,o)=>{const u=Hu(o,t.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function DS(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof he||s instanceof Ki||s instanceof ni||s instanceof Te||s instanceof zf||s instanceof Xi)}function jp(s,t,n){if(!DS(n)||!gb(n)){const r=Af(n);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function jg(s,t,n){if((t=Be(t))instanceof Bu)return t._internalPath;if(typeof t=="string")return Bp(s,t);throw mf("Field path arguments must be of type string or ",s,!1,void 0,n)}const NN=new RegExp("[~\\*/\\[\\]]");function Bp(s,t,n){if(t.search(NN)>=0)throw mf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Bu(...t.split("."))._internalPath}catch{throw mf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function mf(s,t,n,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${r}`),f&&(p+=` in document ${o}`),p+=")"),new lt(K.INVALID_ARGUMENT,m+s+p)}function NS(s,t){return s.some((n=>n.isEqual(t)))}class OS{constructor(t,n,r,o,u){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Te(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new ON(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(qp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ON extends OS{data(){return super.data()}}function qp(s,t){return typeof t=="string"?Bp(s,t):t instanceof Bu?t._internalPath:t._delegate._internalPath}function xS(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new lt(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hp{}class MS extends Hp{}function Bg(s,t,...n){let r=[];t instanceof Hp&&r.push(t),r=r.concat(n),(function(u){const f=u.filter((p=>p instanceof Gp)).length,m=u.filter((p=>p instanceof Fp)).length;if(f>1||f>0&&m>0)throw new lt(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Fp extends MS{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Fp(t,n,r)}_apply(t){const n=this._parse(t);return VS(t._query,n),new Vs(t.firestore,t.converter,Ig(t._query,n))}_parse(t){const n=qu(t.firestore);return(function(u,f,m,p,y,E,b){let C;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new lt(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){iT(b,E);const H=[];for(const X of b)H.push(nT(p,u,X));C={arrayValue:{values:H}}}else C=nT(p,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||iT(b,E),C=DN(m,f,b,E==="in"||E==="not-in");return ze.create(y,E,C)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Gp extends Hp{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Gp(t,n)}_parse(t){const n=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ti.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)VS(f,p),f=Ig(f,p)})(t._query,n),new Vs(t.firestore,t.converter,Ig(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Yp extends MS{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Yp(t,n)}_apply(t){const n=(function(o,u,f){if(o.startAt!==null)throw new lt(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new lt(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ru(u,f)})(t._query,this._field,this._direction);return new Vs(t.firestore,t.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new Qo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,n))}}function qg(s,t="asc"){const n=t,r=qp("orderBy",s);return Yp._create(r,n)}function nT(s,t,n){if(typeof(n=Be(n))=="string"){if(n==="")throw new lt(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xb(t)&&n.indexOf("/")!==-1)throw new lt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(oe.fromString(n));if(!yt.isDocumentKey(r))throw new lt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _0(s,new yt(r))}if(n instanceof Te)return _0(s,n._key);throw new lt(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Af(n)}.`)}function iT(s,t){if(!Array.isArray(s)||s.length===0)throw new lt(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function VS(s,t){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new lt(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new lt(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class xN{convertValue(t,n="none"){switch(Ds(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Re(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Is(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return xs(t,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(t){const n=t.fields?.[af].arrayValue?.values?.map((r=>Re(r.doubleValue)));return new Xi(n)}convertGeoPoint(t){return new Ki(Re(t.latitude),Re(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Cf(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Su(t));default:return null}}convertTimestamp(t){const n=Cs(t);return new he(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=oe.fromString(t);Jt(tS(r),9688,{name:t});const o=new Au(r.get(1),r.get(3)),u=new yt(r.popFirst(5));return o.isEqual(n)||Ir(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function Qp(s,t,n){let r;return r=s?n&&(n.merge||n.mergeFields)?s.toFirestore(t,n):s.toFirestore(t):t,r}class su{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class va extends OS{constructor(t,n,r,o,u,f){super(t,n,r,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(qp("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=va._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}va._jsonSchemaVersion="firestore/documentSnapshot/1.0",va._jsonSchema={type:je("string",va._jsonSchemaVersion),bundleSource:je("string","DocumentSnapshot"),bundleName:je("string"),bundle:je("string")};class Bh extends va{data(t={}){return super.data(t)}}class Ea{constructor(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new su(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new Bh(this._firestore,this._userDataWriter,r.key,r,new su(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new lt(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new Bh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new su(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Bh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new su(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:MN(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ea._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=cp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function MN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:s})}}function eu(s){s=yn(s,Te);const t=yn(s.firestore,Wi);return TN(ju(t),s._key).then((n=>kS(t,s,n)))}Ea._jsonSchemaVersion="firestore/querySnapshot/1.0",Ea._jsonSchema={type:je("string",Ea._jsonSchemaVersion),bundleSource:je("string","QuerySnapshot"),bundleName:je("string"),bundle:je("string")};class Kp extends xN{constructor(t){super(),this.firestore=t}convertBytes(t){return new ni(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Te(this.firestore,null,n)}}function US(s){s=yn(s,Vs);const t=yn(s.firestore,Wi),n=ju(t),r=new Kp(t);return xS(s._query),bN(n,s._query).then((o=>new Ea(t,r,s,o)))}function VN(s,t,n){s=yn(s,Te);const r=yn(s.firestore,Wi),o=Qp(s.converter,t,n);return Fu(r,[Pp(qu(r),"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,_n.none())])}function Er(s,t,n,...r){s=yn(s,Te);const o=yn(s.firestore,Wi),u=qu(o);let f;return f=typeof(t=Be(t))=="string"||t instanceof Bu?CS(u,"updateDoc",s._key,t,n,r):RS(u,"updateDoc",s._key,t),Fu(o,[f.toMutation(s._key,_n.exists(!0))])}function Xp(s){return Fu(yn(s.firestore,Wi),[new Mf(s._key,_n.none())])}function qh(s,t){const n=yn(s.firestore,Wi),r=ws(s),o=Qp(s.converter,t);return Fu(n,[Pp(qu(s.firestore),"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,_n.exists(!1))]).then((()=>r))}function Hg(s,...t){s=Be(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||eT(t[r])||(n=t[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(eT(t[r])){const p=t[r];t[r]=p.next?.bind(p),t[r+1]=p.error?.bind(p),t[r+2]=p.complete?.bind(p)}let u,f,m;if(s instanceof Te)f=yn(s.firestore,Wi),m=If(s._key.path),u={next:p=>{t[r]&&t[r](kS(f,s,p))},error:t[r+1],complete:t[r+2]};else{const p=yn(s,Vs);f=yn(p.firestore,Wi),m=p._query;const y=new Kp(f);u={next:E=>{t[r]&&t[r](new Ea(f,y,p,E))},error:t[r+1],complete:t[r+2]},xS(s._query)}return(function(y,E,b,C){const k=new kp(C),H=new Mp(E,k,b);return y.asyncQueue.enqueueAndForget((async()=>Np(await df(y),H))),()=>{k.Nu(),y.asyncQueue.enqueueAndForget((async()=>Op(await df(y),H)))}})(ju(f),m,o,u)}function Fu(s,t){return(function(r,o){const u=new Ar;return r.asyncQueue.enqueueAndForget((async()=>uN(await EN(r),o,u))),u.promise})(ju(s),t)}function kS(s,t,n){const r=n.docs.get(t._key),o=new Kp(s);return new va(s,o,t._key,r,new su(n.hasPendingWrites,n.fromCache),t.converter)}class UN{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=qu(t)}set(t,n,r){this._verifyNotCommitted();const o=rg(t,this._firestore),u=Qp(o.converter,n,r),f=Pp(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,r);return this._mutations.push(f.toMutation(o._key,_n.none())),this}update(t,n,r,...o){this._verifyNotCommitted();const u=rg(t,this._firestore);let f;return f=typeof(n=Be(n))=="string"||n instanceof Bu?CS(this._dataReader,"WriteBatch.update",u._key,n,r,o):RS(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,_n.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=rg(t,this._firestore);return this._mutations=this._mutations.concat(new Mf(n._key,_n.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new lt(K.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function rg(s,t){if((s=Be(s)).firestore!==t)throw new lt(K.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function Hh(){return new zp("serverTimestamp")}function LS(s){return ju(s=yn(s,Wi)),new UN(s,(t=>Fu(s,t)))}(function(t,n=!0){(function(o){Fo=o})(qo),xo(new ba("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),m=new Wi(new DI(r.getProvider("auth-internal")),new xI(f,r.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new lt(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Au(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),bs(s0,a0,t),bs(s0,a0,"esm2020")})();const kN={apiKey:"AIzaSyBb0S_7U8FPaoUgjYpt_TlaAnJTBqNdvIE",authDomain:"teaching-to-do-list.firebaseapp.com",projectId:"teaching-to-do-list",storageBucket:"teaching-to-do-list.firebasestorage.app",messagingSenderId:"436829328408",appId:"1:436829328408:web:6cc89bf82f9610c2689f6d",measurementId:"G-32552MXKEK"},PS=RT(kN),Fg=SI(PS),yi=AN(PS),rT=(...s)=>s.filter(Boolean).join(" ");function LN({user:s,active:t,setActive:n}){const[r,o]=It.useState(!1);return G.jsxs(G.Fragment,{children:[G.jsxs("nav",{className:rT("fixed left-0 top-0 z-50 h-screen w-64 border-r border-zinc-800 bg-zinc-900 transition-transform",r?"translate-x-0":"-translate-x-full md:translate-x-0"),children:[G.jsxs("div",{className:"flex items-center justify-between border-b border-zinc-800 p-4",children:[G.jsx("h2",{className:"text-lg font-bold text-teal-300",children:"Teacher Companion"}),G.jsx("button",{className:"md:hidden",onClick:()=>o(u=>!u),"aria-label":"Toggle menu",children:""})]}),G.jsx("ul",{className:"flex-1 overflow-y-auto",children:[{key:"todo",label:"Todo List",icon:"",disabled:!1},{key:"calendar",label:"Calendar",icon:"",disabled:!0},{key:"supplies",label:"Supplies",icon:"",disabled:!0},{key:"resources",label:"Resources",icon:"",disabled:!0},{key:"lessons",label:"Lessons",icon:"",disabled:!0}].map(u=>G.jsxs("li",{className:rT("flex cursor-pointer items-center gap-3 px-4 py-3 text-zinc-400",!u.disabled&&"hover:bg-teal-900/10 hover:text-teal-300",t===u.key&&"border-l-4 border-teal-400 bg-teal-900/20 text-teal-300",u.disabled&&"cursor-not-allowed opacity-40"),onClick:()=>!u.disabled&&n(u.key),children:[G.jsx("span",{className:"w-6 text-xl",children:u.icon}),G.jsx("span",{className:"flex-1 font-medium",children:u.label}),u.disabled&&G.jsx("span",{className:"rounded bg-zinc-800 px-2 py-0.5 text-[10px]",children:"Soon"})]},u.key))}),G.jsx("div",{className:"border-t border-zinc-800 p-4",children:G.jsxs("div",{className:"flex items-center gap-3",children:[G.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-teal-500 text-xl",children:""}),G.jsxs("div",{className:"truncate",children:[G.jsx("div",{className:"truncate text-sm font-medium text-zinc-200",children:s?.displayName||"Loading..."}),G.jsx("div",{className:"truncate text-xs text-zinc-400",children:s?.email||""})]})]})})]}),G.jsx("button",{className:"fixed left-3 top-3 z-50 rounded-md border border-zinc-700 bg-zinc-900 px-3 py-1 text-zinc-200 md:hidden",onClick:()=>o(u=>!u),children:""}),r&&G.jsx("div",{className:"fixed inset-0 z-40 bg-black/40 md:hidden",onClick:()=>o(!1)})]})}function sT(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),n.push.apply(n,r)}return n}function tr(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sT(Object(n),!0).forEach(function(r){PN(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):sT(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}function Fh(s){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fh=function(t){return typeof t}:Fh=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fh(s)}function PN(s,t,n){return t in s?Object.defineProperty(s,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[t]=n,s}function Nr(){return Nr=Object.assign||function(s){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(s[r]=n[r])}return s},Nr.apply(this,arguments)}function zN(s,t){if(s==null)return{};var n={},r=Object.keys(s),o,u;for(u=0;u<r.length;u++)o=r[u],!(t.indexOf(o)>=0)&&(n[o]=s[o]);return n}function jN(s,t){if(s==null)return{};var n=zN(s,t),r,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(s);for(o=0;o<u.length;o++)r=u[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(s,r)&&(n[r]=s[r])}return n}var BN="1.15.6";function wr(s){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(s)}var xr=wr(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Gu=wr(/Edge/i),aT=wr(/firefox/i),gu=wr(/safari/i)&&!wr(/chrome/i)&&!wr(/android/i),Zp=wr(/iP(ad|od|hone)/i),zS=wr(/chrome/i)&&wr(/android/i),jS={capture:!1,passive:!1};function Ht(s,t,n){s.addEventListener(t,n,!xr&&jS)}function Lt(s,t,n){s.removeEventListener(t,n,!xr&&jS)}function gf(s,t){if(t){if(t[0]===">"&&(t=t.substring(1)),s)try{if(s.matches)return s.matches(t);if(s.msMatchesSelector)return s.msMatchesSelector(t);if(s.webkitMatchesSelector)return s.webkitMatchesSelector(t)}catch{return!1}return!1}}function BS(s){return s.host&&s!==document&&s.host.nodeType?s.host:s.parentNode}function pi(s,t,n,r){if(s){n=n||document;do{if(t!=null&&(t[0]===">"?s.parentNode===n&&gf(s,t):gf(s,t))||r&&s===n)return s;if(s===n)break}while(s=BS(s))}return null}var oT=/\s+/g;function zn(s,t,n){if(s&&t)if(s.classList)s.classList[n?"add":"remove"](t);else{var r=(" "+s.className+" ").replace(oT," ").replace(" "+t+" "," ");s.className=(r+(n?" "+t:"")).replace(oT," ")}}function Tt(s,t,n){var r=s&&s.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(s,""):s.currentStyle&&(n=s.currentStyle),t===void 0?n:n[t];!(t in r)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),r[t]=n+(typeof n=="string"?"":"px")}}function Oo(s,t){var n="";if(typeof s=="string")n=s;else do{var r=Tt(s,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!t&&(s=s.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function qS(s,t,n){if(s){var r=s.getElementsByTagName(t),o=0,u=r.length;if(n)for(;o<u;o++)n(r[o],o);return r}return[]}function Zi(){var s=document.scrollingElement;return s||document.documentElement}function Pe(s,t,n,r,o){if(!(!s.getBoundingClientRect&&s!==window)){var u,f,m,p,y,E,b;if(s!==window&&s.parentNode&&s!==Zi()?(u=s.getBoundingClientRect(),f=u.top,m=u.left,p=u.bottom,y=u.right,E=u.height,b=u.width):(f=0,m=0,p=window.innerHeight,y=window.innerWidth,E=window.innerHeight,b=window.innerWidth),(t||n)&&s!==window&&(o=o||s.parentNode,!xr))do if(o&&o.getBoundingClientRect&&(Tt(o,"transform")!=="none"||n&&Tt(o,"position")!=="static")){var C=o.getBoundingClientRect();f-=C.top+parseInt(Tt(o,"border-top-width")),m-=C.left+parseInt(Tt(o,"border-left-width")),p=f+u.height,y=m+u.width;break}while(o=o.parentNode);if(r&&s!==window){var k=Oo(o||s),H=k&&k.a,X=k&&k.d;k&&(f/=X,m/=H,b/=H,E/=X,p=f+E,y=m+b)}return{top:f,left:m,bottom:p,right:y,width:b,height:E}}}function lT(s,t,n){for(var r=vs(s,!0),o=Pe(s)[t];r;){var u=Pe(r)[n],f=void 0;if(f=o>=u,!f)return r;if(r===Zi())break;r=vs(r,!1)}return!1}function jo(s,t,n,r){for(var o=0,u=0,f=s.children;u<f.length;){if(f[u].style.display!=="none"&&f[u]!==vt.ghost&&(r||f[u]!==vt.dragged)&&pi(f[u],n.draggable,s,!1)){if(o===t)return f[u];o++}u++}return null}function $p(s,t){for(var n=s.lastElementChild;n&&(n===vt.ghost||Tt(n,"display")==="none"||t&&!gf(n,t));)n=n.previousElementSibling;return n||null}function ei(s,t){var n=0;if(!s||!s.parentNode)return-1;for(;s=s.previousElementSibling;)s.nodeName.toUpperCase()!=="TEMPLATE"&&s!==vt.clone&&(!t||gf(s,t))&&n++;return n}function uT(s){var t=0,n=0,r=Zi();if(s)do{var o=Oo(s),u=o.a,f=o.d;t+=s.scrollLeft*u,n+=s.scrollTop*f}while(s!==r&&(s=s.parentNode));return[t,n]}function qN(s,t){for(var n in s)if(s.hasOwnProperty(n)){for(var r in t)if(t.hasOwnProperty(r)&&t[r]===s[n][r])return Number(n)}return-1}function vs(s,t){if(!s||!s.getBoundingClientRect)return Zi();var n=s,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=Tt(n);if(n.clientWidth<n.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Zi();if(r||t)return n;r=!0}}while(n=n.parentNode);return Zi()}function HN(s,t){if(s&&t)for(var n in t)t.hasOwnProperty(n)&&(s[n]=t[n]);return s}function sg(s,t){return Math.round(s.top)===Math.round(t.top)&&Math.round(s.left)===Math.round(t.left)&&Math.round(s.height)===Math.round(t.height)&&Math.round(s.width)===Math.round(t.width)}var pu;function HS(s,t){return function(){if(!pu){var n=arguments,r=this;n.length===1?s.call(r,n[0]):s.apply(r,n),pu=setTimeout(function(){pu=void 0},t)}}}function FN(){clearTimeout(pu),pu=void 0}function FS(s,t,n){s.scrollLeft+=t,s.scrollTop+=n}function GS(s){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(s).cloneNode(!0):n?n(s).clone(!0)[0]:s.cloneNode(!0)}function YS(s,t,n){var r={};return Array.from(s.children).forEach(function(o){var u,f,m,p;if(!(!pi(o,t.draggable,s,!1)||o.animated||o===n)){var y=Pe(o);r.left=Math.min((u=r.left)!==null&&u!==void 0?u:1/0,y.left),r.top=Math.min((f=r.top)!==null&&f!==void 0?f:1/0,y.top),r.right=Math.max((m=r.right)!==null&&m!==void 0?m:-1/0,y.right),r.bottom=Math.max((p=r.bottom)!==null&&p!==void 0?p:-1/0,y.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var Dn="Sortable"+new Date().getTime();function GN(){var s=[],t;return{captureAnimationState:function(){if(s=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(o){if(!(Tt(o,"display")==="none"||o===vt.ghost)){s.push({target:o,rect:Pe(o)});var u=tr({},s[s.length-1].rect);if(o.thisAnimationDuration){var f=Oo(o,!0);f&&(u.top-=f.f,u.left-=f.e)}o.fromRect=u}})}},addAnimationState:function(r){s.push(r)},removeAnimationState:function(r){s.splice(qN(s,{target:r}),1)},animateAll:function(r){var o=this;if(!this.options.animation){clearTimeout(t),typeof r=="function"&&r();return}var u=!1,f=0;s.forEach(function(m){var p=0,y=m.target,E=y.fromRect,b=Pe(y),C=y.prevFromRect,k=y.prevToRect,H=m.rect,X=Oo(y,!0);X&&(b.top-=X.f,b.left-=X.e),y.toRect=b,y.thisAnimationDuration&&sg(C,b)&&!sg(E,b)&&(H.top-b.top)/(H.left-b.left)===(E.top-b.top)/(E.left-b.left)&&(p=QN(H,C,k,o.options)),sg(b,E)||(y.prevFromRect=E,y.prevToRect=b,p||(p=o.options.animation),o.animate(y,H,b,p)),p&&(u=!0,f=Math.max(f,p),clearTimeout(y.animationResetTimer),y.animationResetTimer=setTimeout(function(){y.animationTime=0,y.prevFromRect=null,y.fromRect=null,y.prevToRect=null,y.thisAnimationDuration=null},p),y.thisAnimationDuration=p)}),clearTimeout(t),u?t=setTimeout(function(){typeof r=="function"&&r()},f):typeof r=="function"&&r(),s=[]},animate:function(r,o,u,f){if(f){Tt(r,"transition",""),Tt(r,"transform","");var m=Oo(this.el),p=m&&m.a,y=m&&m.d,E=(o.left-u.left)/(p||1),b=(o.top-u.top)/(y||1);r.animatingX=!!E,r.animatingY=!!b,Tt(r,"transform","translate3d("+E+"px,"+b+"px,0)"),this.forRepaintDummy=YN(r),Tt(r,"transition","transform "+f+"ms"+(this.options.easing?" "+this.options.easing:"")),Tt(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){Tt(r,"transition",""),Tt(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},f)}}}}function YN(s){return s.offsetWidth}function QN(s,t,n,r){return Math.sqrt(Math.pow(t.top-s.top,2)+Math.pow(t.left-s.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}var vo=[],ag={initializeByDefault:!0},Yu={mount:function(t){for(var n in ag)ag.hasOwnProperty(n)&&!(n in t)&&(t[n]=ag[n]);vo.forEach(function(r){if(r.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),vo.push(t)},pluginEvent:function(t,n,r){var o=this;this.eventCanceled=!1,r.cancel=function(){o.eventCanceled=!0};var u=t+"Global";vo.forEach(function(f){n[f.pluginName]&&(n[f.pluginName][u]&&n[f.pluginName][u](tr({sortable:n},r)),n.options[f.pluginName]&&n[f.pluginName][t]&&n[f.pluginName][t](tr({sortable:n},r)))})},initializePlugins:function(t,n,r,o){vo.forEach(function(m){var p=m.pluginName;if(!(!t.options[p]&&!m.initializeByDefault)){var y=new m(t,n,t.options);y.sortable=t,y.options=t.options,t[p]=y,Nr(r,y.defaults)}});for(var u in t.options)if(t.options.hasOwnProperty(u)){var f=this.modifyOption(t,u,t.options[u]);typeof f<"u"&&(t.options[u]=f)}},getEventProperties:function(t,n){var r={};return vo.forEach(function(o){typeof o.eventProperties=="function"&&Nr(r,o.eventProperties.call(n[o.pluginName],t))}),r},modifyOption:function(t,n,r){var o;return vo.forEach(function(u){t[u.pluginName]&&u.optionListeners&&typeof u.optionListeners[n]=="function"&&(o=u.optionListeners[n].call(t[u.pluginName],r))}),o}};function KN(s){var t=s.sortable,n=s.rootEl,r=s.name,o=s.targetEl,u=s.cloneEl,f=s.toEl,m=s.fromEl,p=s.oldIndex,y=s.newIndex,E=s.oldDraggableIndex,b=s.newDraggableIndex,C=s.originalEvent,k=s.putSortable,H=s.extraEventProperties;if(t=t||n&&n[Dn],!!t){var X,J=t.options,nt="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!xr&&!Gu?X=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(X=document.createEvent("Event"),X.initEvent(r,!0,!0)),X.to=f||n,X.from=m||n,X.item=o||n,X.clone=u,X.oldIndex=p,X.newIndex=y,X.oldDraggableIndex=E,X.newDraggableIndex=b,X.originalEvent=C,X.pullMode=k?k.lastPutMode:void 0;var ut=tr(tr({},H),Yu.getEventProperties(r,t));for(var et in ut)X[et]=ut[et];n&&n.dispatchEvent(X),J[nt]&&J[nt].call(t,X)}}var XN=["evt"],Rn=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=r.evt,u=jN(r,XN);Yu.pluginEvent.bind(vt)(t,n,tr({dragEl:rt,parentEl:Ee,ghostEl:Rt,rootEl:ge,nextEl:ga,lastDownEl:Gh,cloneEl:pe,cloneHidden:ys,dragStarted:au,putSortable:nn,activeSortable:vt.active,originalEvent:o,oldIndex:Ro,oldDraggableIndex:yu,newIndex:jn,newDraggableIndex:ds,hideGhostForTarget:ZS,unhideGhostForTarget:$S,cloneNowHidden:function(){ys=!0},cloneNowShown:function(){ys=!1},dispatchSortableEvent:function(m){pn({sortable:n,name:m,originalEvent:o})}},u))};function pn(s){KN(tr({putSortable:nn,cloneEl:pe,targetEl:rt,rootEl:ge,oldIndex:Ro,oldDraggableIndex:yu,newIndex:jn,newDraggableIndex:ds},s))}var rt,Ee,Rt,ge,ga,Gh,pe,ys,Ro,jn,yu,ds,Ih,nn,wo=!1,pf=!1,yf=[],fa,gi,og,lg,cT,hT,au,Eo,_u,vu=!1,Dh=!1,Yh,un,ug=[],Gg=!1,_f=[],Bf=typeof document<"u",Nh=Zp,fT=Gu||xr?"cssFloat":"float",ZN=Bf&&!zS&&!Zp&&"draggable"in document.createElement("div"),QS=(function(){if(Bf){if(xr)return!1;var s=document.createElement("x");return s.style.cssText="pointer-events:auto",s.style.pointerEvents==="auto"}})(),KS=function(t,n){var r=Tt(t),o=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),u=jo(t,0,n),f=jo(t,1,n),m=u&&Tt(u),p=f&&Tt(f),y=m&&parseInt(m.marginLeft)+parseInt(m.marginRight)+Pe(u).width,E=p&&parseInt(p.marginLeft)+parseInt(p.marginRight)+Pe(f).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(u&&m.float&&m.float!=="none"){var b=m.float==="left"?"left":"right";return f&&(p.clear==="both"||p.clear===b)?"vertical":"horizontal"}return u&&(m.display==="block"||m.display==="flex"||m.display==="table"||m.display==="grid"||y>=o&&r[fT]==="none"||f&&r[fT]==="none"&&y+E>o)?"vertical":"horizontal"},$N=function(t,n,r){var o=r?t.left:t.top,u=r?t.right:t.bottom,f=r?t.width:t.height,m=r?n.left:n.top,p=r?n.right:n.bottom,y=r?n.width:n.height;return o===m||u===p||o+f/2===m+y/2},JN=function(t,n){var r;return yf.some(function(o){var u=o[Dn].options.emptyInsertThreshold;if(!(!u||$p(o))){var f=Pe(o),m=t>=f.left-u&&t<=f.right+u,p=n>=f.top-u&&n<=f.bottom+u;if(m&&p)return r=o}}),r},XS=function(t){function n(u,f){return function(m,p,y,E){var b=m.options.group.name&&p.options.group.name&&m.options.group.name===p.options.group.name;if(u==null&&(f||b))return!0;if(u==null||u===!1)return!1;if(f&&u==="clone")return u;if(typeof u=="function")return n(u(m,p,y,E),f)(m,p,y,E);var C=(f?m:p).options.group.name;return u===!0||typeof u=="string"&&u===C||u.join&&u.indexOf(C)>-1}}var r={},o=t.group;(!o||Fh(o)!="object")&&(o={name:o}),r.name=o.name,r.checkPull=n(o.pull,!0),r.checkPut=n(o.put),r.revertClone=o.revertClone,t.group=r},ZS=function(){!QS&&Rt&&Tt(Rt,"display","none")},$S=function(){!QS&&Rt&&Tt(Rt,"display","")};Bf&&!zS&&document.addEventListener("click",function(s){if(pf)return s.preventDefault(),s.stopPropagation&&s.stopPropagation(),s.stopImmediatePropagation&&s.stopImmediatePropagation(),pf=!1,!1},!0);var da=function(t){if(rt){t=t.touches?t.touches[0]:t;var n=JN(t.clientX,t.clientY);if(n){var r={};for(var o in t)t.hasOwnProperty(o)&&(r[o]=t[o]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[Dn]._onDragOver(r)}}},WN=function(t){rt&&rt.parentNode[Dn]._isOutsideThisEl(t.target)};function vt(s,t){if(!(s&&s.nodeType&&s.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(s));this.el=s,this.options=t=Nr({},t),s[Dn]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(s.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return KS(s,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(f,m){f.setData("Text",m.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:vt.supportPointer!==!1&&"PointerEvent"in window&&(!gu||Zp),emptyInsertThreshold:5};Yu.initializePlugins(this,s,n);for(var r in n)!(r in t)&&(t[r]=n[r]);XS(t);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=t.forceFallback?!1:ZN,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?Ht(s,"pointerdown",this._onTapStart):(Ht(s,"mousedown",this._onTapStart),Ht(s,"touchstart",this._onTapStart)),this.nativeDraggable&&(Ht(s,"dragover",this),Ht(s,"dragenter",this)),yf.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Nr(this,GN())}vt.prototype={constructor:vt,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Eo=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,rt):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n=this,r=this.el,o=this.options,u=o.preventOnFilter,f=t.type,m=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,p=(m||t).target,y=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||p,E=o.filter;if(oO(r),!rt&&!(/mousedown|pointerdown/.test(f)&&t.button!==0||o.disabled)&&!y.isContentEditable&&!(!this.nativeDraggable&&gu&&p&&p.tagName.toUpperCase()==="SELECT")&&(p=pi(p,o.draggable,r,!1),!(p&&p.animated)&&Gh!==p)){if(Ro=ei(p),yu=ei(p,o.draggable),typeof E=="function"){if(E.call(this,t,p,this)){pn({sortable:n,rootEl:y,name:"filter",targetEl:p,toEl:r,fromEl:r}),Rn("filter",n,{evt:t}),u&&t.preventDefault();return}}else if(E&&(E=E.split(",").some(function(b){if(b=pi(y,b.trim(),r,!1),b)return pn({sortable:n,rootEl:b,name:"filter",targetEl:p,fromEl:r,toEl:r}),Rn("filter",n,{evt:t}),!0}),E)){u&&t.preventDefault();return}o.handle&&!pi(y,o.handle,r,!1)||this._prepareDragStart(t,m,p)}}},_prepareDragStart:function(t,n,r){var o=this,u=o.el,f=o.options,m=u.ownerDocument,p;if(r&&!rt&&r.parentNode===u){var y=Pe(r);if(ge=u,rt=r,Ee=rt.parentNode,ga=rt.nextSibling,Gh=r,Ih=f.group,vt.dragged=rt,fa={target:rt,clientX:(n||t).clientX,clientY:(n||t).clientY},cT=fa.clientX-y.left,hT=fa.clientY-y.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,rt.style["will-change"]="all",p=function(){if(Rn("delayEnded",o,{evt:t}),vt.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!aT&&o.nativeDraggable&&(rt.draggable=!0),o._triggerDragStart(t,n),pn({sortable:o,name:"choose",originalEvent:t}),zn(rt,f.chosenClass,!0)},f.ignore.split(",").forEach(function(E){qS(rt,E.trim(),cg)}),Ht(m,"dragover",da),Ht(m,"mousemove",da),Ht(m,"touchmove",da),f.supportPointer?(Ht(m,"pointerup",o._onDrop),!this.nativeDraggable&&Ht(m,"pointercancel",o._onDrop)):(Ht(m,"mouseup",o._onDrop),Ht(m,"touchend",o._onDrop),Ht(m,"touchcancel",o._onDrop)),aT&&this.nativeDraggable&&(this.options.touchStartThreshold=4,rt.draggable=!0),Rn("delayStart",this,{evt:t}),f.delay&&(!f.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Gu||xr))){if(vt.eventCanceled){this._onDrop();return}f.supportPointer?(Ht(m,"pointerup",o._disableDelayedDrag),Ht(m,"pointercancel",o._disableDelayedDrag)):(Ht(m,"mouseup",o._disableDelayedDrag),Ht(m,"touchend",o._disableDelayedDrag),Ht(m,"touchcancel",o._disableDelayedDrag)),Ht(m,"mousemove",o._delayedDragTouchMoveHandler),Ht(m,"touchmove",o._delayedDragTouchMoveHandler),f.supportPointer&&Ht(m,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(p,f.delay)}else p()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){rt&&cg(rt),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;Lt(t,"mouseup",this._disableDelayedDrag),Lt(t,"touchend",this._disableDelayedDrag),Lt(t,"touchcancel",this._disableDelayedDrag),Lt(t,"pointerup",this._disableDelayedDrag),Lt(t,"pointercancel",this._disableDelayedDrag),Lt(t,"mousemove",this._delayedDragTouchMoveHandler),Lt(t,"touchmove",this._delayedDragTouchMoveHandler),Lt(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?Ht(document,"pointermove",this._onTouchMove):n?Ht(document,"touchmove",this._onTouchMove):Ht(document,"mousemove",this._onTouchMove):(Ht(rt,"dragend",this),Ht(ge,"dragstart",this._onDragStart));try{document.selection?Qh(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(wo=!1,ge&&rt){Rn("dragStarted",this,{evt:n}),this.nativeDraggable&&Ht(document,"dragover",WN);var r=this.options;!t&&zn(rt,r.dragClass,!1),zn(rt,r.ghostClass,!0),vt.active=this,t&&this._appendGhost(),pn({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(gi){this._lastX=gi.clientX,this._lastY=gi.clientY,ZS();for(var t=document.elementFromPoint(gi.clientX,gi.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(gi.clientX,gi.clientY),t!==n);)n=t;if(rt.parentNode[Dn]._isOutsideThisEl(t),n)do{if(n[Dn]){var r=void 0;if(r=n[Dn]._onDragOver({clientX:gi.clientX,clientY:gi.clientY,target:t,rootEl:n}),r&&!this.options.dragoverBubble)break}t=n}while(n=BS(n));$S()}},_onTouchMove:function(t){if(fa){var n=this.options,r=n.fallbackTolerance,o=n.fallbackOffset,u=t.touches?t.touches[0]:t,f=Rt&&Oo(Rt,!0),m=Rt&&f&&f.a,p=Rt&&f&&f.d,y=Nh&&un&&uT(un),E=(u.clientX-fa.clientX+o.x)/(m||1)+(y?y[0]-ug[0]:0)/(m||1),b=(u.clientY-fa.clientY+o.y)/(p||1)+(y?y[1]-ug[1]:0)/(p||1);if(!vt.active&&!wo){if(r&&Math.max(Math.abs(u.clientX-this._lastX),Math.abs(u.clientY-this._lastY))<r)return;this._onDragStart(t,!0)}if(Rt){f?(f.e+=E-(og||0),f.f+=b-(lg||0)):f={a:1,b:0,c:0,d:1,e:E,f:b};var C="matrix(".concat(f.a,",").concat(f.b,",").concat(f.c,",").concat(f.d,",").concat(f.e,",").concat(f.f,")");Tt(Rt,"webkitTransform",C),Tt(Rt,"mozTransform",C),Tt(Rt,"msTransform",C),Tt(Rt,"transform",C),og=E,lg=b,gi=u}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Rt){var t=this.options.fallbackOnBody?document.body:ge,n=Pe(rt,!0,Nh,!0,t),r=this.options;if(Nh){for(un=t;Tt(un,"position")==="static"&&Tt(un,"transform")==="none"&&un!==document;)un=un.parentNode;un!==document.body&&un!==document.documentElement?(un===document&&(un=Zi()),n.top+=un.scrollTop,n.left+=un.scrollLeft):un=Zi(),ug=uT(un)}Rt=rt.cloneNode(!0),zn(Rt,r.ghostClass,!1),zn(Rt,r.fallbackClass,!0),zn(Rt,r.dragClass,!0),Tt(Rt,"transition",""),Tt(Rt,"transform",""),Tt(Rt,"box-sizing","border-box"),Tt(Rt,"margin",0),Tt(Rt,"top",n.top),Tt(Rt,"left",n.left),Tt(Rt,"width",n.width),Tt(Rt,"height",n.height),Tt(Rt,"opacity","0.8"),Tt(Rt,"position",Nh?"absolute":"fixed"),Tt(Rt,"zIndex","100000"),Tt(Rt,"pointerEvents","none"),vt.ghost=Rt,t.appendChild(Rt),Tt(Rt,"transform-origin",cT/parseInt(Rt.style.width)*100+"% "+hT/parseInt(Rt.style.height)*100+"%")}},_onDragStart:function(t,n){var r=this,o=t.dataTransfer,u=r.options;if(Rn("dragStart",this,{evt:t}),vt.eventCanceled){this._onDrop();return}Rn("setupClone",this),vt.eventCanceled||(pe=GS(rt),pe.removeAttribute("id"),pe.draggable=!1,pe.style["will-change"]="",this._hideClone(),zn(pe,this.options.chosenClass,!1),vt.clone=pe),r.cloneId=Qh(function(){Rn("clone",r),!vt.eventCanceled&&(r.options.removeCloneOnHide||ge.insertBefore(pe,rt),r._hideClone(),pn({sortable:r,name:"clone"}))}),!n&&zn(rt,u.dragClass,!0),n?(pf=!0,r._loopId=setInterval(r._emulateDragOver,50)):(Lt(document,"mouseup",r._onDrop),Lt(document,"touchend",r._onDrop),Lt(document,"touchcancel",r._onDrop),o&&(o.effectAllowed="move",u.setData&&u.setData.call(r,o,rt)),Ht(document,"drop",r),Tt(rt,"transform","translateZ(0)")),wo=!0,r._dragStartId=Qh(r._dragStarted.bind(r,n,t)),Ht(document,"selectstart",r),au=!0,window.getSelection().removeAllRanges(),gu&&Tt(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,r=t.target,o,u,f,m=this.options,p=m.group,y=vt.active,E=Ih===p,b=m.sort,C=nn||y,k,H=this,X=!1;if(Gg)return;function J(gt,Bt){Rn(gt,H,tr({evt:t,isOwner:E,axis:k?"vertical":"horizontal",revert:f,dragRect:o,targetRect:u,canSort:b,fromSortable:C,target:r,completed:ut,onMove:function(M,Z){return Oh(ge,n,rt,o,M,Pe(M),t,Z)},changed:et},Bt))}function nt(){J("dragOverAnimationCapture"),H.captureAnimationState(),H!==C&&C.captureAnimationState()}function ut(gt){return J("dragOverCompleted",{insertion:gt}),gt&&(E?y._hideClone():y._showClone(H),H!==C&&(zn(rt,nn?nn.options.ghostClass:y.options.ghostClass,!1),zn(rt,m.ghostClass,!0)),nn!==H&&H!==vt.active?nn=H:H===vt.active&&nn&&(nn=null),C===H&&(H._ignoreWhileAnimating=r),H.animateAll(function(){J("dragOverAnimationComplete"),H._ignoreWhileAnimating=null}),H!==C&&(C.animateAll(),C._ignoreWhileAnimating=null)),(r===rt&&!rt.animated||r===n&&!r.animated)&&(Eo=null),!m.dragoverBubble&&!t.rootEl&&r!==document&&(rt.parentNode[Dn]._isOutsideThisEl(t.target),!gt&&da(t)),!m.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),X=!0}function et(){jn=ei(rt),ds=ei(rt,m.draggable),pn({sortable:H,name:"change",toEl:n,newIndex:jn,newDraggableIndex:ds,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),r=pi(r,m.draggable,n,!0),J("dragOver"),vt.eventCanceled)return X;if(rt.contains(t.target)||r.animated&&r.animatingX&&r.animatingY||H._ignoreWhileAnimating===r)return ut(!1);if(pf=!1,y&&!m.disabled&&(E?b||(f=Ee!==ge):nn===this||(this.lastPutMode=Ih.checkPull(this,y,rt,t))&&p.checkPut(this,y,rt,t))){if(k=this._getDirection(t,r)==="vertical",o=Pe(rt),J("dragOverValid"),vt.eventCanceled)return X;if(f)return Ee=ge,nt(),this._hideClone(),J("revert"),vt.eventCanceled||(ga?ge.insertBefore(rt,ga):ge.appendChild(rt)),ut(!0);var ct=$p(n,m.draggable);if(!ct||iO(t,k,this)&&!ct.animated){if(ct===rt)return ut(!1);if(ct&&n===t.target&&(r=ct),r&&(u=Pe(r)),Oh(ge,n,rt,o,r,u,t,!!r)!==!1)return nt(),ct&&ct.nextSibling?n.insertBefore(rt,ct.nextSibling):n.appendChild(rt),Ee=n,et(),ut(!0)}else if(ct&&nO(t,k,this)){var at=jo(n,0,m,!0);if(at===rt)return ut(!1);if(r=at,u=Pe(r),Oh(ge,n,rt,o,r,u,t,!1)!==!1)return nt(),n.insertBefore(rt,at),Ee=n,et(),ut(!0)}else if(r.parentNode===n){u=Pe(r);var tt=0,R,A=rt.parentNode!==n,w=!$N(rt.animated&&rt.toRect||o,r.animated&&r.toRect||u,k),x=k?"top":"left",N=lT(r,"top","top")||lT(rt,"top","top"),U=N?N.scrollTop:void 0;Eo!==r&&(R=u[x],vu=!1,Dh=!w&&m.invertSwap||A),tt=rO(t,r,u,k,w?1:m.swapThreshold,m.invertedSwapThreshold==null?m.swapThreshold:m.invertedSwapThreshold,Dh,Eo===r);var I;if(tt!==0){var Yt=ei(rt);do Yt-=tt,I=Ee.children[Yt];while(I&&(Tt(I,"display")==="none"||I===Rt))}if(tt===0||I===r)return ut(!1);Eo=r,_u=tt;var le=r.nextElementSibling,F=!1;F=tt===1;var st=Oh(ge,n,rt,o,r,u,t,F);if(st!==!1)return(st===1||st===-1)&&(F=st===1),Gg=!0,setTimeout(eO,30),nt(),F&&!le?n.appendChild(rt):r.parentNode.insertBefore(rt,F?le:r),N&&FS(N,0,U-N.scrollTop),Ee=rt.parentNode,R!==void 0&&!Dh&&(Yh=Math.abs(R-Pe(r)[x])),et(),ut(!0)}if(n.contains(rt))return ut(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Lt(document,"mousemove",this._onTouchMove),Lt(document,"touchmove",this._onTouchMove),Lt(document,"pointermove",this._onTouchMove),Lt(document,"dragover",da),Lt(document,"mousemove",da),Lt(document,"touchmove",da)},_offUpEvents:function(){var t=this.el.ownerDocument;Lt(t,"mouseup",this._onDrop),Lt(t,"touchend",this._onDrop),Lt(t,"pointerup",this._onDrop),Lt(t,"pointercancel",this._onDrop),Lt(t,"touchcancel",this._onDrop),Lt(document,"selectstart",this)},_onDrop:function(t){var n=this.el,r=this.options;if(jn=ei(rt),ds=ei(rt,r.draggable),Rn("drop",this,{evt:t}),Ee=rt&&rt.parentNode,jn=ei(rt),ds=ei(rt,r.draggable),vt.eventCanceled){this._nulling();return}wo=!1,Dh=!1,vu=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Yg(this.cloneId),Yg(this._dragStartId),this.nativeDraggable&&(Lt(document,"drop",this),Lt(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),gu&&Tt(document.body,"user-select",""),Tt(rt,"transform",""),t&&(au&&(t.cancelable&&t.preventDefault(),!r.dropBubble&&t.stopPropagation()),Rt&&Rt.parentNode&&Rt.parentNode.removeChild(Rt),(ge===Ee||nn&&nn.lastPutMode!=="clone")&&pe&&pe.parentNode&&pe.parentNode.removeChild(pe),rt&&(this.nativeDraggable&&Lt(rt,"dragend",this),cg(rt),rt.style["will-change"]="",au&&!wo&&zn(rt,nn?nn.options.ghostClass:this.options.ghostClass,!1),zn(rt,this.options.chosenClass,!1),pn({sortable:this,name:"unchoose",toEl:Ee,newIndex:null,newDraggableIndex:null,originalEvent:t}),ge!==Ee?(jn>=0&&(pn({rootEl:Ee,name:"add",toEl:Ee,fromEl:ge,originalEvent:t}),pn({sortable:this,name:"remove",toEl:Ee,originalEvent:t}),pn({rootEl:Ee,name:"sort",toEl:Ee,fromEl:ge,originalEvent:t}),pn({sortable:this,name:"sort",toEl:Ee,originalEvent:t})),nn&&nn.save()):jn!==Ro&&jn>=0&&(pn({sortable:this,name:"update",toEl:Ee,originalEvent:t}),pn({sortable:this,name:"sort",toEl:Ee,originalEvent:t})),vt.active&&((jn==null||jn===-1)&&(jn=Ro,ds=yu),pn({sortable:this,name:"end",toEl:Ee,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Rn("nulling",this),ge=rt=Ee=Rt=ga=pe=Gh=ys=fa=gi=au=jn=ds=Ro=yu=Eo=_u=nn=Ih=vt.dragged=vt.ghost=vt.clone=vt.active=null,_f.forEach(function(t){t.checked=!0}),_f.length=og=lg=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":rt&&(this._onDragOver(t),tO(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,r=this.el.children,o=0,u=r.length,f=this.options;o<u;o++)n=r[o],pi(n,f.draggable,this.el,!1)&&t.push(n.getAttribute(f.dataIdAttr)||aO(n));return t},sort:function(t,n){var r={},o=this.el;this.toArray().forEach(function(u,f){var m=o.children[f];pi(m,this.options.draggable,o,!1)&&(r[u]=m)},this),n&&this.captureAnimationState(),t.forEach(function(u){r[u]&&(o.removeChild(r[u]),o.appendChild(r[u]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return pi(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var r=this.options;if(n===void 0)return r[t];var o=Yu.modifyOption(this,t,n);typeof o<"u"?r[t]=o:r[t]=n,t==="group"&&XS(r)},destroy:function(){Rn("destroy",this);var t=this.el;t[Dn]=null,Lt(t,"mousedown",this._onTapStart),Lt(t,"touchstart",this._onTapStart),Lt(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(Lt(t,"dragover",this),Lt(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),yf.splice(yf.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!ys){if(Rn("hideClone",this),vt.eventCanceled)return;Tt(pe,"display","none"),this.options.removeCloneOnHide&&pe.parentNode&&pe.parentNode.removeChild(pe),ys=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(ys){if(Rn("showClone",this),vt.eventCanceled)return;rt.parentNode==ge&&!this.options.group.revertClone?ge.insertBefore(pe,rt):ga?ge.insertBefore(pe,ga):ge.appendChild(pe),this.options.group.revertClone&&this.animate(rt,pe),Tt(pe,"display",""),ys=!1}}};function tO(s){s.dataTransfer&&(s.dataTransfer.dropEffect="move"),s.cancelable&&s.preventDefault()}function Oh(s,t,n,r,o,u,f,m){var p,y=s[Dn],E=y.options.onMove,b;return window.CustomEvent&&!xr&&!Gu?p=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(p=document.createEvent("Event"),p.initEvent("move",!0,!0)),p.to=t,p.from=s,p.dragged=n,p.draggedRect=r,p.related=o||t,p.relatedRect=u||Pe(t),p.willInsertAfter=m,p.originalEvent=f,s.dispatchEvent(p),E&&(b=E.call(y,p,f)),b}function cg(s){s.draggable=!1}function eO(){Gg=!1}function nO(s,t,n){var r=Pe(jo(n.el,0,n.options,!0)),o=YS(n.el,n.options,Rt),u=10;return t?s.clientX<o.left-u||s.clientY<r.top&&s.clientX<r.right:s.clientY<o.top-u||s.clientY<r.bottom&&s.clientX<r.left}function iO(s,t,n){var r=Pe($p(n.el,n.options.draggable)),o=YS(n.el,n.options,Rt),u=10;return t?s.clientX>o.right+u||s.clientY>r.bottom&&s.clientX>r.left:s.clientY>o.bottom+u||s.clientX>r.right&&s.clientY>r.top}function rO(s,t,n,r,o,u,f,m){var p=r?s.clientY:s.clientX,y=r?n.height:n.width,E=r?n.top:n.left,b=r?n.bottom:n.right,C=!1;if(!f){if(m&&Yh<y*o){if(!vu&&(_u===1?p>E+y*u/2:p<b-y*u/2)&&(vu=!0),vu)C=!0;else if(_u===1?p<E+Yh:p>b-Yh)return-_u}else if(p>E+y*(1-o)/2&&p<b-y*(1-o)/2)return sO(t)}return C=C||f,C&&(p<E+y*u/2||p>b-y*u/2)?p>E+y/2?1:-1:0}function sO(s){return ei(rt)<ei(s)?1:-1}function aO(s){for(var t=s.tagName+s.className+s.src+s.href+s.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function oO(s){_f.length=0;for(var t=s.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&_f.push(r)}}function Qh(s){return setTimeout(s,0)}function Yg(s){return clearTimeout(s)}Bf&&Ht(document,"touchmove",function(s){(vt.active||wo)&&s.cancelable&&s.preventDefault()});vt.utils={on:Ht,off:Lt,css:Tt,find:qS,is:function(t,n){return!!pi(t,n,t,!1)},extend:HN,throttle:HS,closest:pi,toggleClass:zn,clone:GS,index:ei,nextTick:Qh,cancelNextTick:Yg,detectDirection:KS,getChild:jo,expando:Dn};vt.get=function(s){return s[Dn]};vt.mount=function(){for(var s=arguments.length,t=new Array(s),n=0;n<s;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(vt.utils=tr(tr({},vt.utils),r.utils)),Yu.mount(r)})};vt.create=function(s,t){return new vt(s,t)};vt.version=BN;var Le=[],ou,Qg,Kg=!1,hg,fg,vf,lu;function lO(){function s(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return s.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?Ht(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Ht(document,"pointermove",this._handleFallbackAutoScroll):r.touches?Ht(document,"touchmove",this._handleFallbackAutoScroll):Ht(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?Lt(document,"dragover",this._handleAutoScroll):(Lt(document,"pointermove",this._handleFallbackAutoScroll),Lt(document,"touchmove",this._handleFallbackAutoScroll),Lt(document,"mousemove",this._handleFallbackAutoScroll)),dT(),Kh(),FN()},nulling:function(){vf=Qg=ou=Kg=lu=hg=fg=null,Le.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var o=this,u=(n.touches?n.touches[0]:n).clientX,f=(n.touches?n.touches[0]:n).clientY,m=document.elementFromPoint(u,f);if(vf=n,r||this.options.forceAutoScrollFallback||Gu||xr||gu){dg(n,this.options,m,r);var p=vs(m,!0);Kg&&(!lu||u!==hg||f!==fg)&&(lu&&dT(),lu=setInterval(function(){var y=vs(document.elementFromPoint(u,f),!0);y!==p&&(p=y,Kh()),dg(n,o.options,y,r)},10),hg=u,fg=f)}else{if(!this.options.bubbleScroll||vs(m,!0)===Zi()){Kh();return}dg(n,this.options,vs(m,!1),!1)}}},Nr(s,{pluginName:"scroll",initializeByDefault:!0})}function Kh(){Le.forEach(function(s){clearInterval(s.pid)}),Le=[]}function dT(){clearInterval(lu)}var dg=HS(function(s,t,n,r){if(t.scroll){var o=(s.touches?s.touches[0]:s).clientX,u=(s.touches?s.touches[0]:s).clientY,f=t.scrollSensitivity,m=t.scrollSpeed,p=Zi(),y=!1,E;Qg!==n&&(Qg=n,Kh(),ou=t.scroll,E=t.scrollFn,ou===!0&&(ou=vs(n,!0)));var b=0,C=ou;do{var k=C,H=Pe(k),X=H.top,J=H.bottom,nt=H.left,ut=H.right,et=H.width,ct=H.height,at=void 0,tt=void 0,R=k.scrollWidth,A=k.scrollHeight,w=Tt(k),x=k.scrollLeft,N=k.scrollTop;k===p?(at=et<R&&(w.overflowX==="auto"||w.overflowX==="scroll"||w.overflowX==="visible"),tt=ct<A&&(w.overflowY==="auto"||w.overflowY==="scroll"||w.overflowY==="visible")):(at=et<R&&(w.overflowX==="auto"||w.overflowX==="scroll"),tt=ct<A&&(w.overflowY==="auto"||w.overflowY==="scroll"));var U=at&&(Math.abs(ut-o)<=f&&x+et<R)-(Math.abs(nt-o)<=f&&!!x),I=tt&&(Math.abs(J-u)<=f&&N+ct<A)-(Math.abs(X-u)<=f&&!!N);if(!Le[b])for(var Yt=0;Yt<=b;Yt++)Le[Yt]||(Le[Yt]={});(Le[b].vx!=U||Le[b].vy!=I||Le[b].el!==k)&&(Le[b].el=k,Le[b].vx=U,Le[b].vy=I,clearInterval(Le[b].pid),(U!=0||I!=0)&&(y=!0,Le[b].pid=setInterval((function(){r&&this.layer===0&&vt.active._onTouchMove(vf);var le=Le[this.layer].vy?Le[this.layer].vy*m:0,F=Le[this.layer].vx?Le[this.layer].vx*m:0;typeof E=="function"&&E.call(vt.dragged.parentNode[Dn],F,le,s,vf,Le[this.layer].el)!=="continue"||FS(Le[this.layer].el,F,le)}).bind({layer:b}),24))),b++}while(t.bubbleScroll&&C!==p&&(C=vs(C,!1)));Kg=y}},30),JS=function(t){var n=t.originalEvent,r=t.putSortable,o=t.dragEl,u=t.activeSortable,f=t.dispatchSortableEvent,m=t.hideGhostForTarget,p=t.unhideGhostForTarget;if(n){var y=r||u;m();var E=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,b=document.elementFromPoint(E.clientX,E.clientY);p(),y&&!y.el.contains(b)&&(f("spill"),this.onSpill({dragEl:o,putSortable:r}))}};function Jp(){}Jp.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,r=t.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var o=jo(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(n,o):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:JS};Nr(Jp,{pluginName:"revertOnSpill"});function Wp(){}Wp.prototype={onSpill:function(t){var n=t.dragEl,r=t.putSortable,o=r||this.sortable;o.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),o.animateAll()},drop:JS};Nr(Wp,{pluginName:"removeOnSpill"});vt.mount(new lO);vt.mount(Wp,Jp);function uO({onAdd:s}){const[t,n]=It.useState("");return G.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-2",children:[G.jsx("input",{className:"min-w-0 flex-1 rounded-md border border-zinc-700 bg-zinc-900 px-3 py-2 text-zinc-100 outline-none focus:border-teal-400",placeholder:"Create a new category...",value:t,onChange:r=>n(r.target.value),onKeyDown:r=>{r.key==="Enter"&&(s(t),n(""))}}),G.jsx("button",{className:"inline-flex items-center rounded-md bg-teal-400 px-4 py-2 text-sm font-medium text-zinc-900 hover:opacity-90",onClick:()=>{s(t),n("")},children:"Add Category"})]})}function cO({onAdd:s}){const[t,n]=It.useState(""),[r,o]=It.useState(""),[u,f]=It.useState(!1);return G.jsxs("div",{className:"mb-3 flex flex-wrap items-center gap-2",children:[G.jsx("input",{className:"min-w-0 flex-1 rounded-md border border-zinc-700 bg-zinc-900 px-3 py-2 text-zinc-100 outline-none focus:border-teal-400",placeholder:"Add a new task...",value:t,onChange:m=>{n(m.target.value),m.target.value&&!u&&f(!0)},onKeyDown:m=>{m.key==="Enter"&&(s(t,r),n(""),o(""),f(!1))}}),u&&G.jsx("input",{type:"date",className:"rounded-md border border-zinc-700 bg-zinc-900 px-3 py-2 text-zinc-100 outline-none focus:border-teal-400",value:r,onChange:m=>o(m.target.value)}),G.jsx("button",{className:"inline-flex items-center rounded-md bg-teal-400 px-4 py-2 text-sm font-medium text-zinc-900 hover:opacity-90",onClick:()=>{s(t,r),n(""),o(""),f(!1)},children:"Add"})]})}const hO=(...s)=>s.filter(Boolean).join(" ");function fO({items:s,onAdd:t,onToggle:n,onDelete:r,onEdit:o,onReorder:u,isParentEditing:f}){const[m,p]=It.useState(""),[y,E]=It.useState(!0),[b,C]=It.useState(null),[k,H]=It.useState(""),X=It.useRef(null),J=It.useRef(null);It.useEffect(()=>{const et=X.current;if(!(!et||s.length===0||!u)){if(J.current){try{J.current.destroy()}catch{}J.current=null}return J.current=new vt(et,{animation:150,ghostClass:"sortable-ghost",handle:".drag-handle",delay:100,delayOnTouchOnly:!0,forceFallback:!0,onEnd:ct=>{ct.oldIndex!==ct.newIndex&&u&&u(ct.oldIndex,ct.newIndex)}}),()=>{try{J.current?.destroy()}catch{}J.current=null}}},[s.length,u]);const nt=(et,ct)=>{C(et),H(ct)},ut=et=>{k.trim()&&o&&o(et,k.trim()),C(null),H("")};return G.jsxs("div",{className:"mt-2",children:[G.jsxs("button",{className:"mb-1 text-sm text-zinc-400 hover:text-teal-300",onClick:()=>E(et=>!et),children:[y?"":""," ",s.length?`(${s.length})`:""," Subtasks"]}),y&&G.jsxs(G.Fragment,{children:[G.jsx("ul",{ref:X,className:"ml-6 space-y-1",children:s.map((et,ct)=>G.jsxs("li",{className:"flex items-center justify-between rounded-md border border-zinc-800 bg-zinc-900 px-2 py-1 text-sm",children:[s.length>1&&G.jsx("span",{className:"drag-handle cursor-move pr-1 text-zinc-500 hover:text-zinc-300",title:"Drag to reorder",children:""}),f&&b===ct?G.jsxs("div",{className:"flex flex-1 items-center gap-2",children:[G.jsx("input",{className:"min-w-0 flex-1 rounded-md border border-zinc-700 bg-zinc-950 px-2 py-1 text-xs text-zinc-100 outline-none focus:border-teal-400",value:k,onChange:at=>H(at.target.value),onKeyDown:at=>{at.key==="Enter"&&ut(ct),at.key==="Escape"&&(C(null),H(""))},autoFocus:!0}),G.jsx("button",{className:"px-2 text-xs text-teal-400 hover:text-teal-300",onClick:()=>ut(ct),children:""}),G.jsx("button",{className:"px-2 text-xs text-zinc-400 hover:text-zinc-300",onClick:()=>{C(null),H("")},children:""})]}):G.jsxs(G.Fragment,{children:[G.jsxs("label",{className:"flex flex-1 items-center gap-2",children:[G.jsx("input",{type:"checkbox",checked:!!et.isComplete,onChange:at=>n(ct,at.target.checked)}),G.jsx("span",{className:hO(et.isComplete&&"line-through opacity-60",f&&"cursor-pointer"),onClick:()=>f&&nt(ct,et.text),children:et.text})]}),f&&G.jsx("button",{className:"px-2 text-xs text-zinc-400 hover:text-teal-300",onClick:()=>nt(ct,et.text),title:"Edit subtask",children:""}),G.jsx("button",{className:"px-2 text-red-400 hover:bg-red-900/20",onClick:()=>r(ct),title:"Delete subtask",children:""})]})]},ct))}),G.jsxs("div",{className:"ml-6 mt-2 flex gap-2",children:[G.jsx("input",{className:"min-w-0 flex-1 rounded-md border border-zinc-700 bg-zinc-900 px-2 py-1 text-sm text-zinc-100 outline-none focus:border-teal-400",placeholder:"Add a subtask...",value:m,onChange:et=>p(et.target.value),onKeyDown:et=>{et.key==="Enter"&&(t(m),p(""))}}),G.jsx("button",{className:"inline-flex items-center rounded-md bg-teal-400 px-3 py-1 text-xs font-medium text-zinc-900 hover:opacity-90",onClick:()=>{t(m),p("")},children:"+"})]})]})]})}const mT=(...s)=>s.filter(Boolean).join(" "),dO=s=>s.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),mO=s=>{const t=new Date,n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),r=new Date(s.getFullYear(),s.getMonth(),s.getDate());return r<n?"text-red-400":r.getTime()===n.getTime()?"text-amber-400":"text-zinc-400"};function gO({user:s,listId:t,catId:n,task:r}){const[o,u]=It.useState(!1),[f,m]=It.useState(r.text),[p,y]=It.useState(r.dueDate?new Date(r.dueDate.toDate?r.dueDate.toDate():r.dueDate):null);It.useEffect(()=>m(r.text),[r.text]);const E=It.useMemo(()=>ws(yi,"users",s.uid,"lists",t,"categories",n,"tasks",r.id),[s,t,n,r.id]),b=async at=>{if(at&&r.subtasks?.length){const tt=r.subtasks.map(R=>({...R,isComplete:!0}));await Er(E,{isComplete:at,subtasks:tt})}else await Er(E,{isComplete:at})},C=async()=>{const at={text:f};p===""?at.dueDate=null:p instanceof Date&&(at.dueDate=p),await Er(E,at),u(!1)},k=async()=>{confirm("Delete this task?")&&await Xp(E)},H=async at=>{if(!at?.trim())return;const A=(await eu(E)).data().subtasks||[];A.push({text:at.trim(),isComplete:!1,createdAt:new Date}),await Er(E,{subtasks:A})},X=async(at,tt)=>{const w=(await eu(E)).data().subtasks||[];w[at]&&(w[at].isComplete=tt),await Er(E,{subtasks:w})},J=async at=>{const A=(await eu(E)).data().subtasks||[];A.splice(at,1),await Er(E,{subtasks:A})},nt=async(at,tt)=>{const w=(await eu(E)).data().subtasks||[];w[at]&&(w[at].text=tt),await Er(E,{subtasks:w})},ut=async(at,tt)=>{const w=(await eu(E)).data().subtasks||[],[x]=w.splice(at,1);w.splice(tt,0,x),await Er(E,{subtasks:w})},et=r.createdAt?.toDate?r.createdAt.toDate():r.createdAt,ct=et?(()=>{const tt=new Date-et,R=Math.floor(tt/6e4),A=Math.floor(tt/36e5),w=Math.floor(tt/864e5);return R<1?"Added just now":R<60?`Added ${R} min${R>1?"s":""} ago`:A<24?`Added ${A} hour${A>1?"s":""} ago`:w<7?`Added ${w} day${w>1?"s":""} ago`:`Added ${et.toLocaleDateString("en-US",{month:"short",day:"numeric"})} at ${et.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}`})():"";return G.jsx("div",{className:mT("rounded-lg border border-zinc-800 bg-zinc-950 p-3",r.isComplete&&"opacity-60 line-through"),children:G.jsxs("div",{className:"flex items-start gap-3",children:[G.jsx("span",{className:"task-drag-handle mt-1 cursor-move text-zinc-600 hover:text-zinc-400",title:"Drag to reorder task",children:""}),G.jsx("input",{type:"checkbox",className:"mt-1 h-4 w-4",checked:!!r.isComplete,onChange:at=>b(at.target.checked)}),G.jsxs("div",{className:"flex-1",children:[o?G.jsxs("div",{className:"mb-2 flex flex-wrap items-center gap-2",children:[G.jsx("input",{className:"min-w-0 flex-1 rounded-md border border-zinc-700 bg-zinc-900 px-3 py-2 text-zinc-100 outline-none focus:border-teal-400",value:f,onChange:at=>m(at.target.value)}),G.jsx("input",{type:"date",className:"rounded-md border border-zinc-700 bg-zinc-900 px-3 py-2 text-zinc-100 outline-none focus:border-teal-400",value:p?new Date(p).toISOString().slice(0,10):"",onChange:at=>y(at.target.value?new Date(at.target.value):"")}),G.jsx("button",{className:"inline-flex items-center rounded-md bg-teal-400 px-3 py-1 text-sm text-zinc-900",onClick:C,children:"Save"}),G.jsx("button",{className:"inline-flex items-center rounded-md border border-zinc-600 px-3 py-1 text-sm text-zinc-300",onClick:()=>u(!1),children:"Cancel"})]}):G.jsxs(G.Fragment,{children:[G.jsx("div",{className:"text-zinc-100",children:r.text}),ct&&G.jsx("div",{className:"text-xs italic text-zinc-400",children:ct}),r.dueDate&&G.jsxs("div",{className:mT("text-xs",mO(r.dueDate.toDate?r.dueDate.toDate():new Date(r.dueDate))),children:["Due: ",dO(r.dueDate.toDate?r.dueDate.toDate():new Date(r.dueDate))]})]}),G.jsx(fO,{items:r.subtasks||[],onAdd:H,onToggle:X,onDelete:J,onEdit:nt,onReorder:ut,isParentEditing:o})]}),G.jsxs("div",{className:"flex shrink-0 gap-1 self-start",children:[!o&&G.jsx("button",{className:"inline-flex items-center rounded-md border border-zinc-600 px-2 py-1 text-sm text-zinc-300 hover:bg-zinc-800",onClick:()=>u(!0),children:"Edit"}),G.jsx("button",{className:"inline-flex items-center rounded-md px-2 py-1 text-sm text-red-400 hover:bg-red-900/20",onClick:k,title:"Delete task",children:""})]})]})})}function pO({user:s,listId:t,cat:n}){const[r,o]=It.useState(n.name),[u,f]=It.useState(!1),[m,p]=It.useState([]),[y,E]=It.useState(!1),b=It.useMemo(()=>zg(yi,"users",s.uid,"lists",t,"categories",n.id,"tasks"),[s,t,n.id]);It.useEffect(()=>{const nt=Bg(b,qg("order","asc")),ut=Hg(nt,et=>{const ct=[];et.forEach(at=>ct.push({id:at.id,...at.data()})),p(ct)});return()=>ut()},[b]);const C=It.useRef(null),k=It.useRef(null);It.useEffect(()=>{const nt=C.current;if(!(!nt||m.length===0)){if(k.current){try{k.current.destroy()}catch{}k.current=null}return k.current=new vt(nt,{group:"tasks",animation:150,handle:".task-drag-handle",ghostClass:"sortable-ghost",delay:100,delayOnTouchOnly:!0,forceFallback:!0,onEnd:async()=>{if(!C.current)return;const ut=Array.from(C.current.children),et=LS(yi);ut.forEach((ct,at)=>{const tt=ct.getAttribute("data-id");tt&&et.update(ws(b,tt),{order:at})}),await et.commit()}}),()=>{try{k.current?.destroy()}catch{}k.current=null}}},[m.length,b]);const H=async()=>{await Er(ws(yi,"users",s.uid,"lists",t,"categories",n.id),{name:r}),f(!1)},X=async()=>{confirm("Delete this category and all its tasks?")&&await Xp(ws(yi,"users",s.uid,"lists",t,"categories",n.id))},J=async(nt,ut)=>{if(!nt?.trim())return;const et=(await US(b)).size;await qh(b,{text:nt.trim(),order:et,isComplete:!1,createdAt:Hh(),dueDate:ut?new Date(ut):null,subtasks:[]})};return G.jsxs("div",{className:"rounded-xl border border-zinc-800 bg-zinc-900 p-4",children:[G.jsxs("div",{className:"mb-3 flex flex-wrap items-start justify-between gap-2",children:[u?G.jsxs("div",{className:"flex w-full flex-wrap items-center gap-2",children:[G.jsx("input",{className:"min-w-0 flex-1 rounded-md border border-zinc-700 bg-zinc-900 px-3 py-2 text-zinc-100 outline-none focus:border-teal-400",value:r,onChange:nt=>o(nt.target.value),onKeyDown:nt=>nt.key==="Enter"&&H()}),G.jsx("button",{className:"inline-flex items-center rounded-md bg-teal-400 px-3 py-1 text-sm text-zinc-900",onClick:H,children:"Save"})]}):G.jsxs("div",{className:"flex items-center gap-2",children:[G.jsx("span",{className:"category-drag-handle cursor-move text-zinc-500 hover:text-zinc-300",title:"Drag to reorder category",children:""}),G.jsx("button",{className:"text-zinc-400 hover:text-teal-300",onClick:()=>E(nt=>!nt),title:y?"Expand tasks":"Collapse tasks",children:y?"":""}),G.jsxs("h3",{className:"text-lg font-semibold text-zinc-100",children:[n.name," ",m.length>0&&G.jsxs("span",{className:"text-sm text-zinc-400",children:["(",m.length,")"]})]})]}),G.jsxs("div",{className:"flex shrink-0 items-center gap-2",children:[G.jsx("button",{className:"inline-flex items-center rounded-md border border-zinc-600 px-3 py-1 text-sm text-zinc-300 hover:bg-zinc-800",onClick:()=>f(nt=>!nt),children:"Edit"}),G.jsx("button",{className:"inline-flex items-center rounded-md px-2 py-1 text-sm text-red-400 hover:bg-red-900/20",onClick:X,title:"Delete category",children:""})]})]}),!y&&G.jsxs(G.Fragment,{children:[G.jsx(cO,{onAdd:J}),G.jsx("ul",{ref:C,className:"space-y-2",children:m.map(nt=>G.jsx("li",{"data-id":nt.id,children:G.jsx(gO,{user:s,listId:t,catId:n.id,task:nt})},nt.id))})]})]})}function yO({user:s}){const[t,n]=It.useState([]),[r,o]=It.useState(null),[u,f]=It.useState(!1),[m,p]=It.useState(""),[y,E]=It.useState(!1),[b,C]=It.useState([]),k=It.useMemo(()=>s?zg(yi,"users",s.uid,"lists"):null,[s]),H=It.useMemo(()=>s&&r?zg(yi,"users",s.uid,"lists",r,"categories"):null,[s,r]);It.useEffect(()=>{if(!s||!k)return;const tt=Bg(k,qg("order","asc")),R=Hg(tt,async A=>{const w=[];if(A.forEach(x=>w.push({id:x.id,...x.data()})),n(w),w.length===0){const x=await qh(k,{name:"My Tasks",order:0,createdAt:Hh()});o(x.id)}else r||o(w[0].id)});return()=>R()},[s,k]),It.useEffect(()=>{if(!H)return;const tt=Bg(H,qg("order","asc")),R=Hg(tt,A=>{const w=[];A.forEach(x=>w.push({id:x.id,...x.data()})),C(w)});return()=>R()},[H]);const X=It.useRef(null),J=It.useRef(null);It.useEffect(()=>{const tt=X.current;if(!(!tt||b.length===0)){if(J.current){try{J.current.destroy()}catch{}J.current=null}return J.current=new vt(tt,{animation:150,handle:".category-drag-handle",ghostClass:"sortable-ghost",delay:100,delayOnTouchOnly:!0,forceFallback:!0,onEnd:async()=>{if(!s||!X.current)return;const R=Array.from(X.current.children),A=LS(yi);R.forEach((w,x)=>{const N=w.getAttribute("data-id");N&&r&&A.update(ws(yi,"users",s.uid,"lists",r,"categories",N),{order:x})}),await A.commit()}}),()=>{try{J.current?.destroy()}catch{}J.current=null}}},[s?.uid,r,b.length]);const nt=async tt=>{f(!1),!(!s||!r||!tt?.trim())&&await VN(ws(yi,"users",s.uid,"lists",r),{name:tt.trim()},{merge:!0})},ut=async()=>{if(!m?.trim()||!s)return;const tt=t.length,R=await qh(k,{name:m.trim(),order:tt,createdAt:Hh()});o(R.id),p(""),E(!1)},et=async()=>{if(!r||t.length<=1){alert("Cannot delete your only list!");return}const tt=t.find(R=>R.id===r);confirm(`Delete "${tt?.name}" and all its content?`)&&(await Xp(ws(yi,"users",s.uid,"lists",r)),o(t[0].id===r?t[1]?.id:t[0]?.id))},ct=async tt=>{if(!tt?.trim()||!s||!H)return;const R=(await US(H)).size;await qh(H,{name:tt.trim(),order:R,createdAt:Hh()})},at=t.find(tt=>tt.id===r);return at?G.jsxs("div",{className:"w-full px-4 py-6 md:px-6",children:[G.jsx("header",{className:"mb-6 border-b border-zinc-800 pb-4",children:G.jsxs("div",{className:"mb-3 flex flex-wrap items-center justify-between gap-3",children:[G.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[G.jsx("select",{className:"rounded-md border border-zinc-700 bg-zinc-900 px-4 py-2.5 text-lg font-medium text-zinc-100 outline-none focus:border-teal-400",value:r||"",onChange:tt=>o(tt.target.value),children:t.map(tt=>G.jsx("option",{value:tt.id,children:tt.name},tt.id))}),y?G.jsxs("div",{className:"flex items-center gap-2",children:[G.jsx("input",{className:"rounded-md border border-zinc-700 bg-zinc-900 px-3 py-2 text-sm text-zinc-100 outline-none focus:border-teal-400",placeholder:"List name...",value:m,onChange:tt=>p(tt.target.value),onKeyDown:tt=>{tt.key==="Enter"&&ut(),tt.key==="Escape"&&(E(!1),p(""))},autoFocus:!0}),G.jsx("button",{className:"px-2 text-teal-400 hover:text-teal-300",onClick:ut,children:""}),G.jsx("button",{className:"px-2 text-zinc-400 hover:text-zinc-300",onClick:()=>{E(!1),p("")},children:""})]}):G.jsxs(G.Fragment,{children:[G.jsx("button",{className:"inline-flex items-center rounded-md border border-zinc-600 px-3 py-2 text-sm text-zinc-300 hover:bg-zinc-800",onClick:()=>E(!0),children:"+ New List"}),G.jsx("button",{className:"inline-flex items-center rounded-md border border-zinc-600 px-3 py-2 text-sm text-zinc-300 hover:bg-zinc-800",onClick:()=>f(!0),children:"Rename List"}),G.jsx("button",{className:"inline-flex items-center rounded-md border border-red-600 px-3 py-2 text-sm text-red-400 hover:bg-red-900/20",onClick:et,title:"Delete list",children:"Delete List"})]}),u&&G.jsx("div",{className:"flex items-center gap-2",children:G.jsx("input",{className:"rounded-md border border-zinc-700 bg-zinc-900 px-3 py-2 text-sm text-zinc-100 outline-none focus:border-teal-400",placeholder:"New list name...",defaultValue:at.name,onBlur:tt=>nt(tt.target.value),onKeyDown:tt=>{tt.key==="Enter"&&nt(tt.currentTarget.value),tt.key==="Escape"&&f(!1)},autoFocus:!0})})]}),G.jsx("div",{className:"flex items-center gap-2",children:G.jsx("button",{className:"inline-flex items-center rounded-md bg-zinc-700 px-3 py-2 text-sm text-zinc-100 hover:bg-zinc-600",onClick:()=>fC(Fg),children:"Sign Out"})})]})}),G.jsx(uO,{onAdd:ct}),G.jsx("div",{ref:X,className:"flex flex-col gap-4",children:b.map(tt=>G.jsx("div",{"data-id":tt.id,className:"w-full",children:G.jsx(pO,{user:s,listId:r,cat:tt})},tt.id))})]}):G.jsx("div",{className:"w-full px-4 py-6 text-zinc-400",children:"Loading..."})}function _O(){const[s,t]=It.useState(null),[n,r]=It.useState("todo");return It.useEffect(()=>hC(Fg,t),[]),s?G.jsxs("div",{className:"min-h-screen bg-zinc-950 text-zinc-100",children:[G.jsx(LN,{user:s,active:n,setActive:r}),G.jsxs("main",{className:"min-h-screen w-full md:pl-64",children:[n==="todo"&&G.jsx(yO,{user:s}),n!=="todo"&&G.jsx("div",{className:"p-6",children:G.jsxs("div",{className:"mx-auto max-w-5xl rounded-xl border border-zinc-800 bg-zinc-900 p-6",children:[G.jsx("h2",{className:"mb-2 text-xl font-semibold",children:"Coming soon"}),G.jsx("p",{className:"text-zinc-400",children:"This section isnt ready yet."}),G.jsx("button",{className:"mt-4 rounded-md bg-zinc-700 px-3 py-1 text-sm",onClick:()=>r("todo"),children:" Back to Todo"})]})})]})]}):G.jsx("div",{className:"min-h-screen bg-zinc-950 text-zinc-100",children:G.jsxs("div",{className:"mx-auto max-w-4xl p-6",children:[G.jsxs("header",{className:"mb-6 border-b border-zinc-800 pb-4 text-center",children:[G.jsx("h1",{className:"text-2xl font-bold",children:"My To-Do List"}),G.jsx("p",{className:"text-zinc-400",children:"Please sign in to continue"})]}),G.jsx("div",{className:"flex justify-center",children:G.jsx("button",{className:"rounded-md bg-[#4285F4] px-4 py-2 text-white shadow hover:opacity-90",onClick:()=>xC(Fg,new Tr),children:"Sign in with Google"})})]})})}j1.createRoot(document.getElementById("root")).render(G.jsx(x1.StrictMode,{children:G.jsx(_O,{})}));
